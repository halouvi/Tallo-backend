(this.webpackJsonptallo=this.webpackJsonptallo||[]).push([[0],{204:function(e,t){},211:function(e,t,c){},212:function(e,t,c){"use strict";c.r(t);var a,n,r=c(1),s=c(0),i=c(16),l=c(36),o=c(3),d=c(44),u=c(43),j=c(126),b=c(127),m=c(13),O=c(6),h=c(10),f=c.n(h),p=c(17),v=c(74),x=c.n(v),g=c(128),N="/api/",k=x.a.create({withCredentials:!0}),y={get:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,E();case 3:return e.next=5,w(t,"GET",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),post:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,E();case 3:return e.next=5,w(t,"POST",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),put:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,E();case 3:return e.next=5,w(t,"PUT",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),delete:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,E();case 3:return e.next=5,w(t,"DELETE",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},C=null,w=function(){var e=Object(p.a)(f.a.mark((function e(t,c){var a,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=1,e.next=4,k({url:N+t,headers:{authorization:"bearer ".concat(C)},method:c,data:a});case 4:return void 0!==(n=e.sent).data.accessToken&&(C=n.data.accessToken),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,c){return e.apply(this,arguments)}}(),_=function(e){if(e.match(/login|signup|logout|validate_email/))return!1;var t=Object(g.a)(C).exp;return Date.now()>=1e3*t},E=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/refresh_token","POST");case 2:t=e.sent,C=t.data.accessToken;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},T=function(e){return e?e.toLowerCase().split(/,|-| /).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "):""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",t=function(t){return new RegExp("(?=[".concat(t,"])"),"i").test(e[1])};switch(!0){case t("a-c"):return"red";case t("d-f"):return"orange";case t("g-i"):return"yellow";case t("j-l"):return"green";case t("m-o"):return"blue";case t("p-r"):return"purple";case t("s-u"):return"pink";case t("v-x"):return"black";case t("y-z"):return"gold";default:return"gray"}},S=function(e){return y.get("board/".concat(e))},z=function(e){return y.put("board/".concat(e._id),e)},I=function(e){return y.post("board",e)},A=function(e,t){return{title:e,users:[t],activity:[],lists:[{_id:R(),title:"To Do",cards:[]},{_id:R(),title:"Doing",cards:[]},{_id:R(),title:"Done",cards:[]},{_id:R(),title:"QA",cards:[]}],labels:[{_id:R(),title:"Not Started",color:"red"},{_id:R(),title:"In Progress",color:"orange"},{_id:R(),title:"QA",color:"yellow"},{_id:R(),title:"Done",color:"green"},{_id:R(),title:"Production",color:"blue"}]}},M=function(e){return{_id:R(),title:e,cards:[]}},P=function(e){return{_id:R(),title:e,activity:[],attachments:[],checklist:[],desc:"",dueDate:"",labels:[],members:[]}},B=function(e){return{_id:R(),title:e,color:""}},L=c(129),U=c.n(L),F="JOIN_BOARD",V="LEAVE_BOARD",H="BOARD_UPDATED",X=function(){a=U()("/")},G=function(){a=null},W=function(e,t){a.on(e,t)},q=function(e,t){a.off(e,t)},J=function(e,t){a.emit(e,t)},Y=function(e){return y.get("user/users/".concat(e))},Q=function(e){return y.get("user/validate_email/".concat(e))},K=function(e){return y.post(e?"auth/login":"auth/refresh_token/login",e)},Z=function(e){return y.post("auth/signup",e)},$=function(){return y.post("auth/logout")},ee="SET_IS_LOADING",te="SET_LOGGED_USER",ce="SET_NEW_USER_BOARD",ae="SET_USER_BOARDS",ne=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:a=t.sent,n=a.user,r=a.board,c({type:te,payload:n}),c({type:ie.SET_BOARD,payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("LOGIN ".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e);case 3:a=t.sent,n=a.user,c({type:te,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},se=c(24),ie={RESET_STATE:"RESET_STATE",SET_BOARD:"SET_BOARD",SET_ITEMS:"SET_ITEMS"},le=function(){return function(e){return e({type:ie.RESET_STATE})}},oe=function(){return function(e){e({type:ie.SET_ITEMS,payload:{list:null,card:null}})}},de=function(e){var t=e.name,c=e.value;return function(e,a){"users"===t&&console.log({name:t,value:c});var n=Object(se.cloneDeep)(a().boardReducer.board);"users"===t&&he(n,c),n[t]=c,e(ue(n))}},ue=function(e){return function(t,c){var a=c().boardReducer||{},r=a.board,s=a.list,i=a.card,l=Object(se.cloneDeep)(r),o=(null===i||void 0===i?void 0:i._id)||(null===s||void 0===s?void 0:s._id);t({type:ie.SET_BOARD,payload:e}),o&&t(je(o)),clearTimeout(n),n=setTimeout(Object(p.a)(f.a.mark((function c(){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,z(e);case 3:J(H,e._id),c.next=11;break;case 6:c.prev=6,c.t0=c.catch(0),t({type:ie.SET_BOARD,payload:l}),o&&t(je(o)),console.error("Could not update board",c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,6]])}))),2500)}},je=function(e){return function(t,c){var a=c().boardReducer.board,n=Oe(a,e),r=n.list,s=n.card;t({type:ie.SET_ITEMS,payload:{list:r,card:s}})}},be=function(e){var t=e.name,c=e.value,a=e.cardId;return function(e,n){var r=Object(se.cloneDeep)(n().boardReducer.board),s=Oe(r,a).card;s[t]=c,e(fe(s,t)),e(ue(r))}},me=function(e){var t=e.type,c=e.sourceId,a=e.targetId,n=e.hovPos;return function(e,r){var s=Object(se.cloneDeep)(r().boardReducer.board);if("list"===t){var i=Oe(s,c).listIdx,l=s.lists.splice(i,1),o=Object(O.a)(l,1)[0],d=Oe(s,a).listIdx;s.lists.splice(d+n,0,o)}else{var u=Oe(s,c),j=u.list,b=u.cardIdx,m=j.cards.splice(b,1),h=Object(O.a)(m,1)[0],f=Oe(s,a),p=f.list,v=f.cardIdx;null===n&&(n=j===p&&v>=b?1:0),p.cards.splice(v+n,0,h)}e(ue(s))}},Oe=function(e,t){var c,a,n,r;return e.lists.find((function(e,s){return e._id===t?(c=e,a=s,n=null,r=e.cards.length,!0):(e.cards.find((function(i,l){return i._id===t&&(c=e,a=s,n=i,r=l,!0)})),!!n)})),{list:c,listIdx:a,card:n,cardIdx:r}},he=function(e,t){var c=e.users,a=e.lists,n=(c.find((function(e){return!t.includes(e)}))||{})._id;n&&a.forEach((function(e){e.cards.forEach((function(e){e.members=e.members.filter((function(e){return e!==n}))}))}))},fe=function(e,t){return function(c,a){var n,r=a().userReducer.user._id;switch(t){case"addCard":n="Added this card";break;case"desc":n="Changed card description";break;case"members":n="Changed card members list";break;case"title":n="Changed card title";break;case"labels":n="Changed card labels";break;case"attachments":n="Added an attachment to card";break;case"dueDate":n="Changed card's due date";break;case"checklist":n="Changed a checklist item"}return e.activity.unshift({activity:n,createdAt:Date.now(),createdBy:r}),e}},pe={board:null,list:null,card:null},ve=c(21),xe={isLoading:!0,user:null},ge=Object(u.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case ee:return Object(m.a)(Object(m.a)({},e),{},{isLoading:a});case te:return Object(m.a)(Object(m.a)({},e),{},{user:a});case ae:return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),{},{boards:a})});case ce:return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),{},{boards:[].concat(Object(ve.a)(e.user.boards),[a])})});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case ie.RESET_STATE:return pe;case ie.SET_BOARD:return Object(m.a)(Object(m.a)({},e),{},{board:a});case ie.SET_ITEMS:return Object(m.a)(Object(m.a)({},e),{},{list:a.list,card:a.card});default:return e}}}),Ne=Object(u.createStore)(ge,Object(b.composeWithDevTools)(Object(u.applyMiddleware)(j.a))),ke=c(136),ye=c(11),Ce=c(273),we=c(256),_e=c(255),Ee=c(274),Re=c(217),Te=function(e){var t=e.user,c=t.name,a=t.imgUrl,n=e.size,s=void 0===n?"medium":n,i=e.tooltip,l=e.className;return Object(r.jsx)(Ee.a,{title:T(c),arrow:!0,disableHoverListener:!i,children:Object(r.jsx)("div",{className:l,children:Object(r.jsx)(Re.a,{alt:T(c),src:a||"/",className:"avatar ".concat(s," ").concat(a?"white":D(c))})})})},De=c(270),Se=c(251),ze=function(e){var t=e.toggleModal,c=Object(o.b)(),a=Object(ye.g)(),n=Object(s.useState)(""),i=Object(O.a)(n,2),l=i[0],d=i[1];Object(De.a)("Escape",t),Object(Se.a)();return Object(r.jsx)("div",{className:"modal-screen",onClick:t,children:Object(r.jsx)("div",{className:"create-board-section",onClick:function(e){return e.stopPropagation()},children:Object(r.jsxs)("div",{className:"create-board-container",children:[Object(r.jsxs)("div",{className:"title-container",children:[Object(r.jsx)("h2",{children:"Add a Board"}),Object(r.jsx)("button",{className:"exit-btn",onClick:t,children:"X"})]}),Object(r.jsxs)("label",{className:"flex col",children:["Board Title:",Object(r.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;return d(t)}})]}),Object(r.jsx)("button",{onClick:function(){c(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c,a){var n,r,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a().userReducer.user._id,r=A(e,n),t.prev=2,t.next=5,I(r);case 5:s=t.sent,i=s.boardId,c({type:ie.SET_BOARD,payload:Object(m.a)({_id:i},r)}),c({type:ce,payload:{_id:i,title:r.title}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,c){return t.apply(this,arguments)}}()}(l)),t(),a.push("/board")},children:"Create Board"})]})})})},Ie=c(252),Ae=c(254),Me=c(248),Pe=c(269),Be=c(253),Le=Object(Ie.a)((function(e){return{popper:{zIndex:1,'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}}}})),Ue=function(){var e=Object(d.b)();return function(t,c,a){return e.emit("togglePopover",[t,c,a])}},Fe=function(){Object(d.c)("togglePopover",(function(e){return h.apply(void 0,Object(ve.a)(e))}));var e={anchorEl:null,DynCmp:null},t=Object(Be.a)(e),c=Object(O.a)(t,2),a=c[0],n=a.anchorEl,i=a.DynCmp,l=c[1],u=Object(o.c)((function(e){return e.boardReducer.list})),j=Object(ye.h)().pathname.includes("board/modal"),b=Object(o.b)(),h=function(t,c,a){t.clickAway||t.target===document.body&&"click"===t.type||(c&&t.currentTarget!==n?a?l({DynCmp:c}):(t.nativeEvent.clickAway=!0,l({anchorEl:t.currentTarget,DynCmp:c})):(!j&&u&&b(oe()),l(e)))};Object(De.a)("Escape",(function(e){n&&(e.avoidCardModal=!0,h(e))}),{},[n]);var f=Object(s.useState)(null),p=Object(O.a)(f,2),v=p[0],x=p[1],g=Le();return Object(r.jsx)(Ae.a,{onClickAway:h,children:Object(r.jsx)(Me.a,{className:g.popper,open:!!n,anchorEl:n,modifiers:{offset:{offset:"0,6"},arrow:{enabled:!0,element:v}},style:{zIndex:20},placement:"bottom",transition:!0,children:function(e){var t=e.TransitionProps;return Object(r.jsx)(Pe.a,Object(m.a)(Object(m.a)({},t),{},{timeout:80,children:Object(r.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(r.jsx)("span",{className:g.arrow,ref:x}),n&&Object(r.jsx)(i,{togglePopover:h})]})}))}})})},Ve=c(276),He=c(275);function Xe(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.userReducer.user}))||{},a=Object(o.b)(),n=Object(ye.g)();return Object(r.jsxs)(He.a,{className:"popover-cmp small flex col list-br",children:[Object(r.jsx)(Ve.a,{onClick:function(e){t(e),n.push("/")},children:"Home"}),c._id?Object(r.jsx)(Ve.a,{onClick:function(e){t(e),a(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:t({type:te,payload:null}),t(le()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),n.push("/")},children:"Logout"}):Object(r.jsx)(Ve.a,{onClick:function(e){t(e),n.push("/login-signup")},children:"Login/Signup"})]})}var Ge=function(){var e=Object(o.c)((function(e){return e.userReducer.user})),t=Object(_e.a)(!1),c=Object(O.a)(t,2),a=c[0],n=c[1],s=Object(ye.g)().push,i=Object(ye.h)().pathname,d=function(e){return i!==e&&s(e)},u=function(e){return i===e?" active":""},j=Ue();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{className:"main-header flex ac jb p6",children:[Object(r.jsxs)(l.b,{className:"logo",to:"/",children:[Object(r.jsx)("svg",{role:"presentation",focusable:"false",viewBox:"0 0 22 22",children:Object(r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(r.jsx)("span",{children:"Tallo"})]}),Object(r.jsxs)("nav",{className:"flex ae gr10",children:[(null===e||void 0===e?void 0:e._id)&&Object(r.jsx)(we.a,{size:"large",className:"trans",onClick:n,children:Object(r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 448 448",children:Object(r.jsx)("g",{children:Object(r.jsx)("path",{d:"m408 184H272c-4.417969.0-8-3.582031-8-8V40c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8H40c-22.089844.0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969.0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40V272c0-4.417969 3.582031-8 8-8h136c22.089844.0 40-17.910156 40-40s-17.910156-40-40-40zm0 0",fill:"#fff","data-original":"#000000"})})})}),Object(r.jsx)(we.a,{size:"large",className:"navlink trans".concat(u("/")),onClick:function(){return d("/")},children:"Home"}),Object(r.jsx)(we.a,{size:"large",className:"navlink trans".concat(u("/board")),onClick:function(){return d("/board")},children:"Board"}),Object(r.jsx)(we.a,{className:"user-btn trans",onClick:function(e){return j(e,Xe)},children:e&&Object(r.jsx)(Te,{user:e})})]})]}),a&&Object(r.jsx)(ze,{toggleModal:n})]})},We=c(267),qe=c(268),Je=c(85),Ye=c(27),Qe=c(271),Ke=function(e){var t=e.className,c=void 0===t?"":t,a=e.onClick,n=void 0===a?function(){}:a,s=e.selected,i=void 0===s?"":s;return Object(r.jsx)("div",{className:"".concat(c," grid g6 tc4"),children:["red","orange","yellow","green","blue","purple","pink","black"].map((function(e){return Object(r.jsx)(we.a,{size:"large",name:"color",value:e,onClick:n,className:"".concat(e).concat(i===e?" selected":"")},e)}))})},Ze=function(e){var t=e.labelToEdit,c=e.closeEditor,a=Object(o.b)(),n=Object(o.c)((function(e){return e.boardReducer.board.labels})),s=Object(Be.a)(Object(m.a)({},t)),i=Object(O.a)(s,2),l=i[0],d=i[1],u=function(e){var t=e.currentTarget,c=t.name,a=t.value;return d(Object(Ye.a)({},c,a))},j=!n.find((function(e){return e._id===l._id})),b=function(e){a(de({name:"labels",value:e})),c()};return Object(r.jsxs)("div",{className:"labels popover-cmp grid g6 tc4",children:[Object(r.jsx)(st,{title:j?"Add":"Edit",onBack:c}),Object(r.jsx)(Qe.a,{className:"gcf",variant:"outlined",size:"small",label:"Label Name",name:"title",value:l.title,onChange:u}),Object(r.jsx)(Ke,{className:"gcf",onClick:u,selected:l.color}),Object(r.jsx)(we.a,{size:"large",className:"green gc1",value:!0,onClick:function(){if(j)b([].concat(Object(ve.a)(n),[l]));else{var e=n.findIndex((function(e){return e._id===t._id})),c=Object(ve.a)(n);c.splice(e,1,l),b(c)}},children:"Save"}),!j&&Object(r.jsx)(we.a,{size:"large",className:"red gc4",onClick:function(){return b(n.filter((function(e){return e._id!==l._id})))},children:"Delete"})]})},$e=c(272),et=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.labels}))||[],c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c.labels,n=void 0===a?[]:a,i=c._id,l=void 0===i?"":i,d=Object(Be.a)({labelToEdit:null,searchTerm:""}),u=Object(O.a)(d,2),j=u[0],b=j.labelToEdit,m=j.searchTerm,h=u[1],f=function(t){var c=t.currentTarget.value;e(be({cardId:l,name:"labels",value:n.includes(c)?n.filter((function(e){return e!==c})):[].concat(Object(ve.a)(n),[c])}))},p=t.filter((function(e){var t=e.title;return RegExp(m,"i").test(t)}));return Object($e.a)((function(){return h({searchTerm:""})}),[b]),b?Object(r.jsx)(Ze,{labelToEdit:b,closeEditor:function(){return h({labelToEdit:null})}}):Object(r.jsxs)("div",{className:"labels popover-cmp grid tc4 g6",children:[Object(r.jsx)(st,{title:"Labels"}),Object(r.jsx)(Qe.a,{className:"gcf",size:"small",variant:"outlined",label:"Search Labels",value:m,onChange:function(e){var t=e.target.value;return h({searchTerm:t})}}),p.map((function(e){return Object(r.jsxs)(s.Fragment,{children:[Object(r.jsxs)(we.a,{size:"large",className:"label gcf-1 flex jb ".concat(e.color),value:e._id,onClick:f,children:[Object(r.jsx)("span",{children:e.title}),Object(r.jsx)("span",{children:n.includes(e._id)&&"V"})]}),Object(r.jsx)(we.a,{size:"large",className:" gcl",onClick:function(){return function(e){return h({labelToEdit:e})}(e)},children:"Edit"})]},e._id)})),Object(r.jsx)(we.a,{size:"large",className:"gcf ",onClick:function(){return h({labelToEdit:B(m)})},children:"Add Label"})]})},tt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.users}))||[],c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c._id,n=void 0===a?"":a,i=c.members,l=void 0===i?[]:i,d=Object(s.useState)({activeMembers:[],searchTerm:"",searchRes:[]}),u=Object(O.a)(d,2),j=u[0],b=j.activeMembers,m=j.searchTerm,h=j.searchRes,f=u[1],p=function(e){f({activeMembers:t.filter((function(e){var t=e._id;return l.includes(t)})),searchTerm:e?e.target.value:m,searchRes:t.filter((function(t){var c=t._id,a=t.name;return!l.includes(c)&&RegExp(e?e.target.value:m,"i").test(a)}))})};Object(s.useEffect)(p,[t,l]);var v=function(t){e(be({cardId:n,name:"members",value:l.includes(t)?l.filter((function(e){return e!==t})):[].concat(Object(ve.a)(l),[t])}))};return Object(r.jsxs)("div",{className:"popover-cmp flex col gb6",children:[Object(r.jsx)(st,{title:"Card Members"}),Object(r.jsx)(Qe.a,{size:"small",variant:"outlined",label:"Search Members",value:m,onChange:p}),Object(r.jsx)("div",{className:"flex col gb6",children:b.map((function(e){return Object(r.jsxs)(we.a,{classes:{label:"flex ac js gr10 sbl"},onClick:function(){return v(e._id)},children:[Object(r.jsx)(Te,{user:e,size:"small"}),Object(r.jsx)("span",{className:"capital tas",children:e.name}),Object(r.jsx)("span",{children:"X"})]},e._id)}))}),h[0]&&Object(r.jsxs)("div",{className:"flex col gb6",children:[Object(r.jsx)("span",{className:"tac",children:"Board Members"}),h.map((function(e){return Object(r.jsxs)(we.a,{classes:{label:"flex ac js gr10 sbl"},onClick:function(){return v(e._id)},children:[Object(r.jsx)(Te,{user:e,size:"small"}),Object(r.jsx)("span",{className:"capital tas",children:e.name}),Object(r.jsx)("span",{children:"+"})]},e._id)}))]})]})},ct=c(278),at=c(265),nt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.card}))||{},c=Object(o.c)((function(e){return e.boardReducer.list}))||{},a=Object(o.c)((function(e){return e.boardReducer.board.lists})),n={targetList:c,targetPos:t._id},s=Object(Be.a)(n),i=Object(O.a)(s,2),l=i[0],d=l.targetPos,u=l.targetList,j=i[1];Object($e.a)((function(){return j(n)}),[a]);var b=function(e){var n=e.target,r=n.name,s=n.value;j("targetPos"===r?{targetPos:s}:{targetList:a.find((function(e){return e._id===s})),targetPos:s===c._id?t._id:s})};return Object(r.jsxs)("div",{className:"popover-cmp flex col gb6",children:[Object(r.jsx)(st,{title:"Move Card"}),Object(r.jsx)(ct.a,{htmlFor:"targetList",children:"To List:"}),Object(r.jsx)(at.a,{value:u._id,onChange:b,inputProps:{name:"targetList",id:"targetList"},children:a.map((function(e){return Object(r.jsx)(Ve.a,{value:e._id,children:"".concat(e.title," ").concat(e===c?"(Current)":"")},e._id)}))}),Object(r.jsx)(ct.a,{htmlFor:"targetPos",children:"Position:"}),Object(r.jsxs)(at.a,{onOpen:function(e){return console.log(e)},value:d,onChange:b,inputProps:{name:"targetPos",id:"targetPos"},children:[u.cards.map((function(e,c){return Object(r.jsx)(Ve.a,{value:e._id,children:"".concat(c+1," ").concat(t._id===e._id?"(Current)":"")},e._id)})),c._id!==u._id&&Object(r.jsx)(Ve.a,{value:u._id,children:u.cards.length+1})]}),Object(r.jsx)(we.a,{size:"large",className:"green",onClick:function(){d!==t._id&&(e(me({type:"card",hovPos:null,sourceId:t._id,targetId:d})),j(n))},children:"Move"})]})},rt=function(e){var t=e.togglePopover,c={Labels:et,Members:tt,Move_Card:nt,Delete_Card:it};return Object(r.jsx)(He.a,{className:"popover-cmp small flex col list-br",children:Object.entries(c).map((function(e){var c,a=Object(O.a)(e,2),n=a[0],s=a[1];return Object(r.jsxs)(Ve.a,{onClick:function(e){return t(e,s,!0)},children:[Object(r.jsx)("img",{className:"icon",src:""+"/".concat(n,".png"),alt:""}),(c=n,c.split("_").join(" "))]},n)}))})},st=function(e){var t=e.title,c=e.onBack,a=Object(o.c)((function(e){return e.boardReducer.card})),n=Object(o.c)((function(e){return e.boardReducer.list})),s=Object(ye.h)().pathname.includes("board/modal"),i=Ue();return c||!s&&n?Object(r.jsxs)("div",{className:"gcf fw flex rel jb ",children:[Object(r.jsx)(we.a,{size:"large",className:"",onClick:c||function(e){return i(e,a?rt:lt,!0)},children:"Back"}),Object(r.jsx)("span",{className:"center",children:t}),Object(r.jsx)(we.a,{size:"large",className:"",onClick:i,children:"X"})]}):Object(r.jsxs)("div",{className:"gcf fw flex rel col ae ",children:[Object(r.jsx)("span",{className:"center",children:t}),Object(r.jsx)(we.a,{size:"large",className:"",onClick:i,children:"X"})]})},it=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.card)||void 0===t?void 0:t._id})),a=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.list)||void 0===t?void 0:t._id})),n=Object(o.b)(),s=Object(ye.g)(),i=Object(ye.h)().pathname.includes("board/modal");return Object(r.jsxs)("div",{className:"popover-cmp gb6",children:[Object(r.jsx)(st,{title:"Delete ".concat(c?"Card":"List","?")}),Object(r.jsxs)("div",{className:"flex jb sbl gr6",children:[Object(r.jsx)(we.a,{size:"large",className:"red",onClick:function(e){n(c?function(e){return function(t,c){var a=Object(se.cloneDeep)(c().boardReducer.board),n=Oe(a,e),r=n.cardIdx;n.list.cards.splice(r,1),t(ue(a))}}(c):function(e){return function(t,c){var a=Object(se.cloneDeep)(c().boardReducer.board),n=Oe(a,e).listIdx;a.lists.splice(n,1),t(ue(a))}}(a)),i&&s.push("/board"),t(e)},children:"Delete"}),Object(r.jsx)(we.a,{size:"large",className:"gray",onClick:t,children:"Cancel"})]})]})},lt=function(e){var t=e.togglePopover,c={Delete_List:it};return Object(r.jsx)(He.a,{className:"popover-cmp small flex col list-br",children:Object.entries(c).map((function(e){var c,a=Object(O.a)(e,2),n=a[0],s=a[1];return Object(r.jsxs)(Ve.a,{onClick:function(e){return t(e,s,!0)},children:[Object(r.jsx)("img",{className:"icon",src:""+"/".concat(n,".png"),alt:""}),(c=n,c.split("_").join(" "))]},n)}))})},ot=function(e){var t=e.list,c=Object(o.b)(),a=t._id,n=Object(s.useState)({title:t.title,timer:null}),i=Object(O.a)(n,2),l=i[0],d=l.title,u=l.timer,j=i[1],b=Object(s.useRef)(),m=function(e){return e.target!==document.activeElement},h=function(){return b.current.blur()};Object(De.a)("Escape",h),Object(De.a)("Enter",h);var f=Ue(),p=Object(o.c)((function(e){return e.boardReducer})),v=p.list,x=p.card;return Object(r.jsxs)("header",{className:"flex ac jb gr2",children:[Object(r.jsx)("input",{autoComplete:"off",name:"title",value:d,ref:b,className:"title fg1 fast",onMouseDown:function(e){return m(e)&&e.preventDefault()},onMouseUp:function(e){return m(e)&&e.target.select()},onChange:function(e){var t,n=e.target,r=n.name,s=n.value;clearTimeout(u),j((t={},Object(Ye.a)(t,r,s),Object(Ye.a)(t,"timer",setTimeout((function(){return c(function(e){var t=e.name,c=e.value,a=e.listId;return function(e,n){var r=Object(se.cloneDeep)(n().boardReducer.board);Oe(r,a).list[t]=c,e(ue(r))}}({name:r,value:s,listId:a}))}),500)),t))}}),Object(r.jsx)(we.a,{size:"small",onClick:function(e){((null===v||void 0===v?void 0:v._id)!==a||x)&&c(je(a)),f(e,lt)},children:"\xb7\xb7\xb7"})]})},dt=c(81),ut=c.n(dt),jt=c.p+"static/media/clock.966977aa.svg",bt=function(e){var t=e.videoUrl,c=e.isGrouped,a=e.className,n=Object(d.b)(),i=Object(s.useRef)();Object(d.c)("videoRequest",(function(e){c&&!i.current.paused&&(e===t&&n.emit("videoResponse",l()),i.current.pause())}));var l=function(){var e=i.current;return{currentTime:e.currentTime,volume:e.volume,muted:e.muted}};return Object(d.c)("videoResponse",(function(e){var t=e.currentTime,a=e.volume,n=e.muted;c||(i.current.currentTime=t,i.current.volume=a,i.current.muted=n,i.current.play())})),Object(r.jsx)("video",{className:a,controls:!0,ref:i,onCanPlay:function(){return!c&&n.emit("videoRequest",t)},onClick:function(e){return c&&e.preventDefault()},src:t})},mt=c(259),Ot=function(e){var t=e.users,c=e.max,a=e.className,n=e.size,s=void 0===n?"medium":n;return Object(r.jsx)("div",{className:a,children:Object(r.jsx)(mt.a,{max:c,children:t.map((function(e){var t=e._id,c=e.name,a=e.imgUrl;return Object(r.jsx)(Ee.a,{title:T(c),arrow:!0,children:Object(r.jsx)(Re.a,{src:a||"/",alt:T(c),className:"avatar ".concat(s," ").concat(a?"white":D(c))})},t)}))})})},ht=Object(s.memo)((function(e){var t=e.card,c=Object(o.b)(),a=Object(o.c)((function(e){return e.boardReducer.board})),n=a.users,i=a.labels,l=t._id,d=t.title,u=t.attachments,j=t.desc,b=t.dueDate,h=t.labels,f=t.cardVideo,p=n.filter((function(e){var c=e._id;return t.members.includes(c)})),v=Object(Je.a)(),x=Object(O.a)(v,2),g=x[0],N=g.width,k=g.height,y=g.top,C=x[1],w=Object(We.a)({collect:function(e){return e.isDragging()},item:{type:"card",sourceId:l,card:t,height:k,width:N}}),_=Object(O.a)(w,2),E=_[0],R=_[1],T=Object(s.useState)(0),D=Object(O.a)(T,2),S=D[0],z=D[1],I=Object(qe.a)({accept:"card",collect:function(e){return e.isOver({shallow:!0})&&e.getItem().height},hover:function(e,t){return M&&z(y+k/2>t.getClientOffset().y?0:1)},drop:function(e){return c(me(Object(m.a)(Object(m.a)({},e),{},{hovPos:S,targetId:l})))}}),A=Object(O.a)(I,2),M=A[0],P=A[1],B=Ue(),L=Object(o.c)((function(e){return e.boardReducer.card})),U=Object(ye.g)(),F=Object(_e.a)(!1),V=Object(O.a)(F,2),H=V[0],X=V[1];return Object(r.jsx)("div",{ref:P,className:"card-drop-container".concat(E?" hidden":""),children:Object(r.jsxs)("div",{ref:C,className:"rect-ref flex col",children:[M&&Object(r.jsx)("div",{className:"card-placeholder",style:{height:"".concat(M,"px"),order:S,paddingTop:"".concat(6*S,"px")}}),Object(r.jsx)("div",{ref:R,className:"card-preview flex col fast gb8 sbl shdw2",children:Object(r.jsxs)("div",{onClick:function(e){e.avoidModal||U.push("/board/modal/".concat(l))},className:"container white flex col p12 gb8 sbl rel".concat(H?" menu-btn-hovered":""),children:[Object(r.jsxs)("div",{className:"flex jb ac",children:[Object(r.jsx)("span",{className:"title",children:d}),Object(r.jsx)(we.a,{size:"small",className:"",onMouseEnter:function(){return X(!0)},onMouseLeave:function(){return X(!1)},onClick:function(e){e.avoidModal=!0,t!==L&&c(je(t._id)),B(e,rt)},children:"\xb7\xb7\xb7"})]}),Object(r.jsx)("span",{className:"desc fw",children:j}),f&&Object(r.jsx)(bt,{videoUrl:f,isGrouped:!0}),u[0]&&Object(r.jsx)("div",{className:"attachments",children:Object(r.jsx)("img",{src:u[0],alt:""})}),h[0]&&Object(r.jsx)("div",{className:"labels flex",children:i.map((function(e){return h.some((function(t){return t===e._id}))&&Object(r.jsx)("div",{className:"label ".concat(e.color)},e._id)}))}),(!!b||!!p[0])&&Object(r.jsxs)("div",{className:"grid tc-a1a",children:[!!b&&Object(r.jsxs)("div",{className:"gc1 due-date flex ac",children:[Object(r.jsx)("img",{src:jt,alt:""}),Object(r.jsx)("p",{children:ut()(b).format("ddd, MMM do")})]}),p[0]&&Object(r.jsx)(Ot,{className:"gc3",max:4,users:p})]})]})})]})})})),ft=function(e){var t=e.listId,c=Object(o.b)(),a=Object(_e.a)(!1),n=Object(O.a)(a,2),i=n[0],l=n[1],d=Object(s.useState)(""),u=Object(O.a)(d,2),j=u[0],b=u[1];Object($e.a)((function(){return b("")}),[i]);return Object(De.a)("Escape",(function(){return l(!1)})),i?Object(r.jsx)(Ae.a,{onClickAway:l,children:Object(r.jsxs)("form",{className:"fw gb6",onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(c,a){var n=Object(se.cloneDeep)(a().boardReducer.board),r=P(e);c(fe(r,"addCard")),Oe(n,t).list.cards.push(r),c(ue(n))}}(j,t)),l()},children:[Object(r.jsx)("input",{className:"shdw2 rem p10 fw br4 white",autoFocus:!0,autoComplete:"off",placeholder:"Enter a title for this card...",value:j,onChange:function(e){return b(e.target.value)}}),Object(r.jsxs)("div",{className:"flex jb",children:[Object(r.jsx)(we.a,{className:"green",type:"submit",children:"Add Card"}),Object(r.jsx)(we.a,{onClick:l,children:"X"})]})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(we.a,{className:"flex ac js",onClick:l,children:"+ Add another card"})})},pt=Object(s.memo)((function(e){var t=e.list,c=Object(o.b)(),a=t._id,n=t.cards,i=Object(Je.a)(),l=Object(O.a)(i,2),d=l[0],u=d.width,j=d.height,b=d.left,h=l[1],f=Object(We.a)({collect:function(e){return e.isDragging()},item:{type:"list",sourceId:a,list:t,width:u,height:j}}),p=Object(O.a)(f,2),v=p[0],x=p[1],g=Object(s.useState)(0),N=Object(O.a)(g,2),k=N[0],y=N[1],C=Object(qe.a)({accept:["list","card"],collect:function(e){return e.isOver({shallow:!0})?e.getItem():{}},hover:function(e,t){return T&&y(b+u/2>t.getClientOffset().x?0:1)},canDrop:function(){return E},drop:function(e){return c(me(Object(m.a)(Object(m.a)({},e),{},{hovPos:k,targetId:a})))}}),w=Object(O.a)(C,2),_=w[0],E=_.type,R=_.width,T=_.height,D=w[1];return Object(r.jsx)("div",{ref:D,className:"list-drop-container".concat(v?" hidden":""),children:Object(r.jsxs)("div",{ref:h,className:"rect-ref flex",children:["list"===E&&Object(r.jsx)("div",{className:"list-placeholder",style:{order:k,paddingLeft:"".concat(12*k,"px"),width:"".concat(R,"px"),height:"".concat(T,"px")}}),Object(r.jsxs)("div",{ref:x,className:"list gray flex col gb6",children:[Object(r.jsx)(ot,{list:t}),Object(r.jsxs)("div",{className:"cards flex col",children:[n.map((function(e){return Object(r.jsx)(ht,{card:e},e._id)})),"card"===E&&Object(r.jsx)("div",{className:"card-placeholder",style:{height:"".concat(T,"px")}})]}),Object(r.jsx)(ft,{listId:a})]})]})})})),vt=function(){return Object(r.jsxs)("div",{className:"popover-cmp flex col",children:[Object(r.jsx)(st,{title:"Choose Color"}),Object(r.jsx)(Ke,{className:"",onClick:function(e){var t=e.currentTarget.value;t="gradient"===t?"linear-gradient(#006f83, #00aecc)":t,document.getElementById("root").style.background=t}})]})},xt=function(e){e.setAnchorEl;var t=Object(o.b)(),c=Object(o.c)((function(e){return e.boardReducer.board.users})),a=Object(o.c)((function(e){return e.userReducer.user._id})),n=Object(Be.a)({searchTerm:"",searchRes:[],filteredRes:[]}),s=Object(O.a)(n,2),i=s[0],l=i.searchTerm,d=i.searchRes,u=i.filteredRes,j=s[1];Object($e.a)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=j,!l){e.next=7;break}return e.next=4,Y(l);case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=[];case 8:e.t2=e.t1,e.t3={searchRes:e.t2},(0,e.t0)(e.t3);case 11:case"end":return e.stop()}}),e)}))),[l]),Object($e.a)((function(){j({filteredRes:d.filter((function(e){return!c.some((function(t){return e._id===t._id}))}))})}),[d,c]);var b=function(e){t(de({name:"users",value:c.includes(e)?c.filter((function(t){return t!==e})):[].concat(Object(ve.a)(c),[e])}))},m=function(e){return e===a};return Object(r.jsxs)("div",{className:"popover-cmp flex col gb6",children:[Object(r.jsx)(st,{title:"Board Members"}),Object(r.jsx)(Qe.a,{size:"small",variant:"outlined",label:"Search Members",value:l,onChange:function(e){var t=e.target.value;return j({searchTerm:t})}}),Object(r.jsx)("div",{className:"flex col gb6 ",children:c.map((function(e){return Object(r.jsxs)(we.a,{className:m(e._id)?"logged-user":"",classes:{label:"flex ac js gr10 sbl"},onClick:function(){return m(e._id)||b(e)},children:[Object(r.jsx)(Te,{user:e,size:"small"}),Object(r.jsx)("span",{className:"capital tas",children:e.name}),Object(r.jsx)("span",{children:m(e._id)?"(You)":"X"})]},e._id)}))}),u[0]&&Object(r.jsxs)("div",{className:"flex col gb6",children:[Object(r.jsx)("span",{className:"tac",children:"Users"}),u.map((function(e){return Object(r.jsxs)(we.a,{classes:{label:"flex ac js gr10 sbl"},onClick:function(){return b(e)},children:[Object(r.jsx)(Te,{user:e,size:"small"}),Object(r.jsx)("span",{className:"capital tas",children:e.name}),Object(r.jsx)("span",{children:"+"})]},e._id)}))]})]})},gt=function(){var e=Object(o.c)((function(e){return e.boardReducer.board._id})),t=Object(o.c)((function(e){return e.userReducer.user.boards})),c=Object(o.b)(),a=Ue(),n=function(t,n){var r;n!==e&&(c((r=n,function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(r);case 3:c=e.sent,t({type:ie.SET_BOARD,payload:c}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("GET_BOARD_BY_ID ERROR: ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),a(t))};return Object(r.jsx)(He.a,{className:"popover-cmp small flex col list-br",children:t.map((function(e){var t=e._id,c=e.title;return Object(r.jsx)(Ve.a,{onClick:function(e){return n(e,t)},children:c},t)}))})},Nt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.title})),c=Object(o.c)((function(e){return e.boardReducer.list})),a=Ue(),n=function(t,n){c&&e(oe()),a(t,n)};return Object(r.jsxs)("header",{className:"board-header flex ac p6 gr10",children:[Object(r.jsx)(we.a,{className:"trans",size:"large",onClick:function(e){return n(e,gt)},children:"Boards \u25bc"}),Object(r.jsx)("h2",{children:t}),Object(r.jsx)(we.a,{className:"trans",size:"large",onClick:function(e){return n(e,xt)},children:"Users \u25bc"}),Object(r.jsx)(we.a,{size:"large",className:"trans",onClick:function(e){return n(e,vt)},children:Object(r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 384 384",children:Object(r.jsx)("path",{d:"M192 0C85.973 0 0 85.973 0 192s85.973 192 192 192a31.96 31.96 0 0 0 32-32c0-8.32-3.093-15.787-8.32-21.44-5.013-5.653-8-13.013-8-21.227a31.96 31.96 0 0 1 32-32h37.653c58.88 0 106.667-47.787 106.667-106.667C384 76.373 298.027 0 192 0zM74.667 192a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64zm64-85.333a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm106.666 0a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm64 85.333a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64z",fill:"#fff"})})})]})},kt=function(){var e=Object(o.b)(),t=Object(_e.a)(!1),c=Object(O.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),l=Object(O.a)(i,2),d=l[0],u=l[1];Object($e.a)((function(){return u("")}),[a]);return Object(De.a)("Escape",(function(){return n(!1)})),Object(r.jsx)("div",{className:"add-list",children:a?Object(r.jsx)(Ae.a,{onClickAway:n,children:Object(r.jsxs)("form",{className:"fw gray gb6 br4",onSubmit:function(t){var c;t.preventDefault(),e((c=d,function(e,t){var a=Object(se.cloneDeep)(t().boardReducer.board),n=M(c);a.lists.push(n),e(ue(a))})),n()},children:[Object(r.jsx)("input",{className:"rem fw white",autoFocus:!0,autoComplete:"off",placeholder:"Enter a title for this list...",value:d,onChange:function(e){return u(e.target.value)}}),Object(r.jsxs)("div",{className:"flex jb",children:[Object(r.jsx)(we.a,{className:"green",type:"submit",children:"Add List"}),Object(r.jsx)(we.a,{onClick:n,children:"X"})]})]})}):Object(r.jsx)(we.a,{className:"fp flex ac js trans br4",onClick:n,children:"+ Add another list"})})},yt=c(260),Ct=Object(s.memo)((function(){var e=Object(yt.a)((function(e){return[e.getItem()||{},e.getSourceClientOffset()||{}]})),t=Object(O.a)(e,2),c=t[0],a=c.list,n=c.card,s=c.width,i=c.height,l=t[1],o=l.x,d=l.y;return Object($e.a)((function(){document.querySelectorAll(".card-preview").forEach((function(e){return e.classList.toggle("cancel-pointer",!!s)}))}),[s]),Object(r.jsxs)("div",{className:"drag-layer".concat(s?" dragging ":""),style:{width:"".concat(s,"px"),height:"".concat(i,"px"),top:"".concat(Math.round(d),"px"),left:"".concat(Math.round(o),"px")},children:[a&&Object(r.jsx)(pt,{list:a}),n&&Object(r.jsx)(ht,{card:n})]})})),wt=function(){var e=Object(o.b)(),t=(Object(ye.g)(),Object(o.c)((function(e){var t;return null===(t=e.userReducer.user)||void 0===t?void 0:t.boards})),Object(o.c)((function(e){return e.boardReducer.board}))||{}),c=t._id,a=void 0===c?"":c,n=t.lists,i=void 0===n?[]:n;return Object(s.useEffect)((function(){return document.getElementById("root").classList.add("ofy-h"),J(F,a),W(H,(function(t){e({type:ie.SET_BOARD,payload:t})})),function(){document.getElementById("root").classList.remove("ofy-h"),J(V,a),q(H)}}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("main",{className:"board fg1 flex col",children:[Object(r.jsx)(Nt,{}),a&&Object(r.jsxs)("main",{className:"lists fg1 flex",children:[i.map((function(e){return Object(r.jsx)(pt,{list:e},e._id)})),Object(r.jsx)(kt,{})]})]})})},_t=c.p+"static/media/icon-facebook.229c75a0.svg",Et=c.p+"static/media/icon-linkedin.416b1433.svg",Rt=c.p+"static/media/icon-twitter.1d5c6d5e.svg",Tt=function(){return Object(r.jsx)("footer",{className:"main-grid",children:Object(r.jsxs)("section",{className:"footer-container",children:[Object(r.jsxs)("nav",{children:[Object(r.jsxs)("div",{className:"logo-container",children:[Object(r.jsxs)("div",{className:"logo-div",children:[Object(r.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",children:Object(r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(r.jsx)("p",{children:"Tallo"})]}),Object(r.jsxs)("div",{className:"routes-container",children:[Object(r.jsx)(l.c,{className:"nav-item",to:"/",exact:!0,children:"Home"}),Object(r.jsx)(l.c,{className:"nav-item",to:"/board",children:"Board"})]})]}),Object(r.jsxs)("div",{className:"address",children:[Object(r.jsx)("p",{children:"987 Hillcrest Lane"}),Object(r.jsx)("p",{children:"Irvine, CA"}),Object(r.jsx)("p",{children:"California 92714"}),Object(r.jsx)("p",{children:"Call Us : 949-833-7432"})]})]}),Object(r.jsxs)("div",{className:"right-footer-container",children:[Object(r.jsxs)("div",{className:"social-container",children:[Object(r.jsx)("img",{src:_t,alt:""}),Object(r.jsx)("img",{src:Et,alt:""}),Object(r.jsx)("img",{src:Rt,alt:""})]}),Object(r.jsx)("p",{children:"Copyright 2020. All Rights Reserved"})]})]})})},Dt=c.p+"static/media/bg-pattern-home-3.4bc172f9.svg",St=function(){var e=Object(ye.g)();return Object(r.jsx)("div",{className:"get-started-section main-grid",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("img",{src:Dt,alt:""}),Object(r.jsxs)("main",{children:[Object(r.jsx)("h2",{children:"Ready to get started?"}),Object(r.jsx)("button",{onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,e.push("/login-signup")},children:"Login / Signup"})]})]})})},zt=c.p+"static/media/bg-pattern-home-1.270440fb.svg",It=c.p+"static/media/bg-pattern-home-2.889d5d8c.svg",At=function(){return Object(r.jsxs)("div",{className:"hero-section",children:[Object(r.jsx)("img",{className:"left-img",src:zt,alt:""}),Object(r.jsxs)("div",{className:"hero-title",children:[Object(r.jsx)("h1",{children:"Manage the"}),Object(r.jsxs)("h1",{children:["best ",Object(r.jsx)("span",{children:"projects"})]})]}),Object(r.jsxs)("div",{className:"side-container",children:[Object(r.jsx)("div",{}),Object(r.jsx)("p",{children:"Tallo helps teams work more collaboratively and get more done. Tallo\u2019s boards, lists, and cards enable teams to organize and prioritize projects in a fun, flexible, and rewarding way."}),Object(r.jsx)("img",{className:"right-img",src:It,alt:""})]})]})},Mt=c.p+"static/media/icon-cog.c5d2403f.svg",Pt=c.p+"static/media/icon-chart.8de3d4d2.svg",Bt=c.p+"static/media/icon-person.0a313a85.svg",Lt=function(){return Object(r.jsx)("div",{className:"main-section main-grid",children:Object(r.jsxs)("section",{className:"main-container",children:[Object(r.jsx)("div",{className:"design-div"}),Object(r.jsx)("h2",{children:"Build & manage your projects any time, anywhere."}),Object(r.jsxs)("div",{className:"secondary-container",children:[Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsx)("img",{src:Bt,alt:""}),Object(r.jsxs)("div",{className:"item-txt",children:[Object(r.jsx)("h4",{children:"Work with any team"}),Object(r.jsx)("p",{children:"Whether it\u2019s for work, a side project or even the next family vacation, Tallo helps your team stay organized."})]})]}),Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsx)("img",{src:Mt,alt:""}),Object(r.jsxs)("div",{className:"item-txt",children:[Object(r.jsx)("h4",{children:"Always In Sync"}),Object(r.jsx)("p",{children:"No matter where you are, Tallo stays in sync across all of your devices. Collaborate with your team anywhere."})]})]}),Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsx)("img",{src:Pt,alt:""}),Object(r.jsxs)("div",{className:"item-txt",children:[Object(r.jsx)("h4",{children:"Information at a glance"}),Object(r.jsx)("p",{children:"Dive into the details by adding attachments, due dates, and more directly to Tallo cards."})]})]})]})]})})},Ut=c.p+"static/media/bg-pattern-home-4-about-3.aacd4e03.svg",Ft=c.p+"static/media/bg-pattern-home-5.95a2a621.svg",Vt=function(){return Object(r.jsxs)("div",{className:"quotes-section main-grid",children:[Object(r.jsx)("img",{src:Ut,alt:"",className:"bgc-img-1"}),Object(r.jsx)("img",{src:Ft,alt:"",className:"bgc-img-2"}),Object(r.jsxs)("section",{className:"quotes-container",children:[Object(r.jsxs)("h1",{children:["Delivering real results for top companies. Some of our ",Object(r.jsx)("span",{children:"success stories."})]}),Object(r.jsxs)("main",{children:[Object(r.jsxs)("div",{className:"item",children:[Object(r.jsx)("p",{children:"\u201cIt\u2019s easy to get your team up and running with Tallo. We\u2019ve collected all of the boards and tools your team needs to succeed in one handy resource.\u201d"}),Object(r.jsxs)("div",{className:"item-avatar",children:[Object(r.jsx)("h4",{children:"Tal Harouvi"}),Object(r.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1607248716/users/tal_fofpvu.jpg",alt:""}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(r.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(r.jsxs)("div",{className:"item",children:[Object(r.jsx)("p",{children:"\u201cIntegrate the apps your team already uses directly into your workflow. Power-Ups turn Tallo boards into living applications to meet your team's unique business needs.\u201d"}),Object(r.jsxs)("div",{className:"item-avatar",children:[Object(r.jsx)("h4",{children:"Arie Moldawsky"}),Object(r.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611138519/users/66681D8E-0B6F-4F34-9FED-CCF9DF3B1E69_mftdzu.jpg",alt:""}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(r.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(r.jsxs)("div",{className:"item",children:[Object(r.jsx)("p",{children:" \u201cI've had absolutely nothing to do with this app untill they've reached me. I'm just an Israeli NBA Player and an ambassador of the app.\u201d"}),Object(r.jsxs)("div",{className:"item-avatar",children:[Object(r.jsx)("h4",{children:"Deni Avdija"}),Object(r.jsx)("p",{children:"NBA Player at Washington Wizards"}),Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1610031903/deni_whuhmk.jpg",alt:""}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(r.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]})]})]})]})},Ht=function(e){return Object(s.useEffect)((function(){var e=document.getElementById("root");"linear-gradient(#006f83, #00aecc)"!==e.style.background&&(e.style.background="linear-gradient(#006f83, #00aecc)")}),[]),Object(r.jsxs)("main",{className:"home main-grid",children:[Object(r.jsx)(At,{}),Object(r.jsx)(Lt,{}),Object(r.jsx)(Vt,{}),Object(r.jsx)(St,{}),Object(r.jsx)(Tt,{})]})},Xt=function(e){var t=e.title,c=e.handleEdit,a=e.closeModal,n=Object(o.c)((function(e){return e.boardReducer.list.title}));return Object(r.jsxs)("header",{className:"fw grid tc-a1aa g8",children:[Object(r.jsx)("img",{className:"section-icon asc gc1",src:"".concat("","/Card.png"),alt:""}),Object(r.jsx)("input",{className:"gc2 title pointer",autoComplete:"off",name:"title",value:t,onKeyPress:function(e){var t=e.key,c=e.target;return"Enter"===t&&c.blur()},onFocus:function(e){return e.target.select()},onChange:c}),Object(r.jsx)(we.a,{className:"gc4 ",size:"large",onClick:a,children:"X"}),Object(r.jsxs)("span",{className:"gc2",children:["in list ",Object(r.jsx)("u",{children:n})]})]})},Gt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c._id,n=void 0===a?"":a,s=c.checklists,i=void 0===s?[]:s,l=Object(Be.a)({_id:R(),title:"",items:[]}),d=Object(O.a)(l,2),u=d[0],j=d[1],b=Object(o.b)();return Object(r.jsxs)("div",{className:"popover-cmp checklist-section flex col",children:[Object(r.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(r.jsx)("p",{className:"title bold asc",children:"Add a Check List"}),Object(r.jsxs)("form",{action:"",className:"flex col",onSubmit:function(e){e.preventDefault(),b(be({name:"checklist",value:[].concat(Object(ve.a)(i),[u]),cardId:n}))},children:[Object(r.jsx)("label",{htmlFor:"checklist-title",children:"Title:"}),Object(r.jsx)("input",{autoFocus:!0,id:"checklist-title",value:u.title,onChange:function(e){var t=e.target.value;return j({title:t})},type:"text",placeholder:"Insert a title..."}),Object(r.jsx)("button",{children:"Add"})]})]})},Wt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card})),a=c.dueDate,n=c._id,i=Object(s.useState)(""),l=Object(O.a)(i,2),d=l[0],u=l[1],j=Object(s.useState)(Date.now()),b=Object(O.a)(j,2),m=b[0],h=b[1],f=Object(o.b)();return Object(r.jsxs)("div",{className:"popover-cmp due-date-section flex col",children:[Object(r.jsx)(st,{title:"Due Date"}),Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),f(be({name:"dueDate",value:m,cardId:n})),t(e)},className:"due-date-form flex col",children:[Object(r.jsx)("input",{type:"date",value:d||function e(){if(e){var t=new Date(a).getDate(),c=new Date(a).getMonth()+1,n=new Date(a).getFullYear();return"".concat(c).length<2&&(c="0"+c),n+"-"+c+"-"+t}return""}(),onChange:function(e){var t=e.target.value,c=new Date(t).getTime();u(t),h(c)},name:"dueDate",id:""}),Object(r.jsx)("button",{children:"Save"})]})]})},qt="https://api.cloudinary.com/v1_1/".concat("ariecloud","/"),Jt=function(e){return Qt(e,"image/upload")},Yt=function(e){return Qt(e,"video/upload")},Qt=function(){var e=Object(p.a)(f.a.mark((function e(t,c){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","iuzstnbj"),e.prev=3,!_(c)){e.next=7;break}return e.next=7,E();case 7:return e.next=9,x()({method:"POST",url:qt+c,data:a});case 9:return n=e.sent,e.abrupt("return",n.data);case 13:e.prev=13,e.t0=e.catch(3),console.error("ERROR:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,c){return e.apply(this,arguments)}}(),Kt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c.attachments,n=void 0===a?[]:a,i=c._id,l=void 0===i?"":i,d=Object(s.useState)(""),u=Object(O.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),h=Object(O.a)(m,2),v=h[0],x=h[1],g=Object(o.b)(),N=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,Jt(t);case 3:c=e.sent,a=c.secure_url,x(!0),b(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"attachment-section popover-cmp",children:[Object(r.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(r.jsx)("p",{children:"Attachments"}),Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),j&&g(be({name:"attachments",value:[].concat(Object(ve.a)(n),[j]),cardId:l}))},className:"attachment-form",children:[Object(r.jsxs)("label",{htmlFor:"imgUrl",children:[Object(r.jsx)("p",{children:"Upload an attachment:"}),Object(r.jsxs)("div",{className:"label-container",children:[Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),v&&Object(r.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(r.jsxs)("g",{fill:"#00df76",children:[Object(r.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(r.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(r.jsxs)("g",{fill:"#fff",children:[Object(r.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(r.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(r.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:N,id:"imgUrl"}),Object(r.jsx)("button",{children:"Save"})]})]})},Zt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card._id}))||"",a=Object(s.useState)(""),n=Object(O.a)(a,2),i=n[0],l=n[1],d=Object(o.b)(),u=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(t);case 2:c=e.sent,a=c.secure_url,console.log(a),l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"attachment-section popover-cmp",children:[Object(r.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(r.jsx)("p",{children:"Card Video"}),Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),i&&d(be({name:"cardVideo",value:i,cardId:c}))},className:"attachment-form",children:[Object(r.jsxs)("label",{htmlFor:"videoUrl",children:[Object(r.jsx)("p",{children:"Upload a video:"}),Object(r.jsxs)("div",{className:"label-container",children:[Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),i&&Object(r.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(r.jsxs)("g",{fill:"#00df76",children:[Object(r.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(r.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(r.jsxs)("g",{fill:"#fff",children:[Object(r.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(r.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(r.jsx)("input",{className:"upload-img",type:"file",name:"videoUrl",onChange:u,id:"videoUrl"}),Object(r.jsx)("button",{children:"Save"})]})]})},$t=function(){var e=Ue(),t={Add_To_Card:{Members:tt,Labels:et,Check_List:Gt,Due_Date:Wt,Attachment:Kt,Video:Zt},Actions:{Move_Card:nt,Delete_Card:it}},c=function(e){return e.split("_").join(" ")};return Object(r.jsx)("aside",{className:"gb18",children:Object.entries(t).map((function(t){var a=Object(O.a)(t,2),n=a[0],s=a[1];return Object(r.jsxs)("div",{className:"gb6",children:[Object(r.jsx)("h4",{children:c(n)}),Object(r.jsx)("div",{className:"buttons grid g6",children:Object.entries(s).map((function(t){var a=Object(O.a)(t,2),n=a[0],s=a[1];return Object(r.jsxs)(we.a,{size:"large",className:"gray flex js",onClick:function(t){return e(t,s)},children:[Object(r.jsx)("img",{className:"icon",src:""+"/".concat(n,".png"),alt:""}),Object(r.jsx)("span",{children:c(n)})]},n)}))})]},n)}))})},ec=function(e){var t=e.activity,c=Object(o.c)((function(e){return e.boardReducer.board.users})),a=t.map((function(e){return Object(m.a)(Object(m.a)({},e),c.find((function(t){return t._id===e.createdBy})))})),n=function(e){return!(!e||t[e]._id!==t[e-1]._id)};return Object(r.jsxs)("div",{className:"activity fw grid tc-aaaa1 g8",children:[Object(r.jsx)("img",{className:"section-icon",src:"/Activity.png",alt:""}),Object(r.jsx)("h3",{className:"gc2-6",children:"Activity"}),a.slice(0,10).map((function(e,t){return Object(r.jsxs)(s.Fragment,{children:[!n(t)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te,{className:"gc2",user:e,size:"small"}),Object(r.jsxs)("h4",{className:"gc3-6 asc",children:[e.name," :"]})]}),Object(r.jsx)("span",{className:"gc2-4",children:e.activity}),Object(r.jsx)("h5",{className:"gc5",children:ut()(e.createdAt).fromNow()})]},e.createdAt)}))]})},tc=function(e){var t=e.desc,c=e.handleEdit,a=void 0===c?function(){}:c;return Object(r.jsxs)("div",{className:"description fw grid tc-a1 g8",children:[Object(r.jsx)("img",{className:"section-icon",src:"/Description.png",alt:""}),Object(r.jsx)("h3",{className:"gc2",children:"Description"}),Object(r.jsx)(Qe.a,{className:"gc2",multiline:!0,placeholder:"Add a more detailed description...",rows:4,variant:"outlined",name:"desc",value:t,onChange:a})]})},cc=function(e){var t=e.cardVideo;return Object(r.jsxs)("div",{className:"video fw grid tc-a1 g8",children:[Object(r.jsx)("img",{className:"section-icon",src:"/Video.png",alt:""}),Object(r.jsx)("h3",{className:"gc2",children:"Card Video"}),Object(r.jsx)(bt,{className:"gc2",videoUrl:t})]})},ac=function(e){var t=e.attachments;return Object(r.jsxs)("div",{className:"attachments fw grid tc-a1 g8",children:[Object(r.jsx)("img",{className:"section-icon",src:"/Attachment.png",alt:""}),Object(r.jsx)("h3",{className:"gc2",children:"Attachments"}),t.slice(0,3).map((function(e,t){return Object(r.jsx)("img",{className:"gc2 item",src:e,alt:""},t)}))]})},nc=c(266),rc=c(261),sc=c(262),ic=c(264);function lc(e){return Object(r.jsxs)(ic.a,{display:"flex",alignItems:"center",children:[Object(r.jsx)(ic.a,{width:"100%",mr:1,children:Object(r.jsx)(rc.a,Object(m.a)({variant:"determinate"},e))}),Object(r.jsx)(ic.a,{minWidth:35,children:Object(r.jsx)(sc.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var oc=Object(Ie.a)({root:{width:"100%"}}),dc=function(e){var t=e.progress,c=oc();return Object(r.jsx)("div",{className:c.root,children:Object(r.jsx)(lc,{value:t})})},uc=function(e){var t=e.checklist,c=e.checklists,a=Object(o.b)(),n=Object(o.c)((function(e){return e.boardReducer.card._id})),s=Object(_e.a)(!1),i=Object(O.a)(s,2),l=i[0],d=i[1],u=Object(Be.a)({_id:R(),desc:"",isChecked:!1}),j=Object(O.a)(u,2),b=j[0],m=j[1],h=function(e){var r=e.target.value,s=Object(se.cloneDeep)(t),i=Object(se.cloneDeep)(c);s.items[r].isChecked=!s.items[r].isChecked;var l=i.findIndex((function(e){return e._id===s._id}));i[l]=s,a(be({name:"checklist",value:Object(ve.a)(i),cardId:n}))},f=function(e){var r=e.target.value,s=Object(se.cloneDeep)(t),i=Object(se.cloneDeep)(c);s.items.splice(r,1);var l=i.findIndex((function(e){return e._id===s._id}));i[l]=s,a(be({name:"checklist",value:Object(ve.a)(i),cardId:n}))};return Object(r.jsxs)("div",{className:"checklist gb6",children:[Object(r.jsxs)("div",{className:"flex ac gr10 sbl ",children:[Object(r.jsx)("img",{className:"section-icon",src:"/Check_List.png",alt:""}),Object(r.jsx)("h3",{children:t.title}),Object(r.jsx)(we.a,{className:"gray",onClick:function(){var e=Object(se.cloneDeep)(c),r=e.findIndex((function(e){return e._id===t._id}));e.splice(r,1),a(be({name:"checklist",value:Object(ve.a)(e),cardId:n}))},children:"Delete"})]}),Object(r.jsxs)("div",{className:"ml30",children:[Object(r.jsx)(dc,{progress:function(){var e=+t.items.filter((function(e){return!0===e.isChecked})).length/+t.items.length*100;return isNaN(e)&&(e=0),e}()}),Object(r.jsx)("div",{className:"flex wrap",children:t.items.map((function(e,t){return Object(r.jsxs)("div",{className:"item flex ac sbl ml-12",children:[Object(r.jsx)(nc.a,{color:"primary",inputProps:{"aria-label":"checkbox"},checked:e.isChecked,value:t,onChange:h}),Object(r.jsx)("span",{children:e.desc}),Object(r.jsx)(we.a,{className:"",value:t,onClick:f,children:"X"})]},t)}))}),l?Object(r.jsxs)("div",{className:"flex col w50 gb6",children:[Object(r.jsx)("input",{autoFocus:!0,name:"desc",value:b.desc,onChange:function(e){var t=e.target,c=t.name,a=t.value;return m(Object(Ye.a)({},c,a))}}),Object(r.jsxs)("div",{className:"flex gr6",children:[Object(r.jsx)(we.a,{className:"green",onClick:function(){var e=Object(se.cloneDeep)(t),r=Object(se.cloneDeep)(c),s=r.findIndex((function(t){return t._id===e._id}));r[s].items.push(b),a(be({name:"checklist",value:Object(ve.a)(r),cardId:n})),m({_id:R(),desc:"",isChecked:!1}),d()},children:"Add"}),Object(r.jsx)(we.a,{className:"",onClick:d,children:"X"})]})]}):Object(r.jsx)(we.a,{className:"gray",onClick:d,children:"Add an item"})]})]})},jc=function(e){var t=e.checklists;return Object(r.jsx)("div",{className:"checklists fw gb10",children:t.map((function(e,c){return Object(r.jsx)(uc,{checklists:t,checklist:e},c)}))})},bc=function(){var e=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.list)||void 0===t?void 0:t.cards})),t=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.card)||void 0===t?void 0:t._id})),c=Object(ye.g)(),a=function(a){var n;a.stopPropagation();var r=e.findIndex((function(e){return e._id===t})),s=r>-1&&(null===(n=e[r+ +a.currentTarget.value])||void 0===n?void 0:n._id);s&&c.push(s)};return e?Object(r.jsxs)("nav",{className:"flex jb fw",children:[Object(r.jsx)(we.a,{variant:"outlined",size:"large",className:"white",value:-1,onClick:a,children:"Previous Card"}),Object(r.jsx)(we.a,{variant:"outlined",size:"large",className:"white",value:1,onClick:a,children:"Next Card"})]}):Object(r.jsx)(r.Fragment,{})},mc=function(e){var t=e.members,c=Object(o.c)((function(e){return e.boardReducer.board.users})).filter((function(e){var c=e._id;return t.includes(c)})),a=Ue();return Object(r.jsxs)("div",{className:"members wfc ml32 gb6 pointer",onClick:function(e){return a(e,tt)},children:[Object(r.jsx)("h4",{children:"Members"}),Object(r.jsx)(Ot,{users:c,max:12,size:"medium"})]})},Oc=function(e){var t=e.labels,c=Object(o.c)((function(e){return e.boardReducer.board.labels})).filter((function(e){var c=e._id;return t.includes(c)})),a=Ue();return Object(r.jsxs)("div",{className:"labels ml32 pointer",onClick:function(e){return a(e,et)},children:[Object(r.jsx)("h4",{children:"Labels"}),Object(r.jsxs)("div",{className:"flex gr6 wfc wrap",children:[c.map((function(e){var t=e._id,c=e.color,a=e.title;return Object(r.jsx)(we.a,{size:"large",className:"mt6 ".concat(c),children:a},t)})),Object(r.jsx)(we.a,{size:"large",className:"mt6 gray",children:"+"})]})]})},hc=function(){var e=Object(ye.g)(),t=Object(o.b)(),c=Object(ye.i)().cardId;Object(s.useEffect)((function(){return t(je(c))}),[c]);var a=Object(o.c)((function(e){return e.boardReducer.card})),n=Object(Be.a)({title:"",desc:"",timer:null}),i=Object(O.a)(n,2),l=i[0],d=l.title,u=l.desc,j=l.timer,b=i[1];Object($e.a)((function(){return b({title:a.title,desc:a.desc})}),[null===a||void 0===a?void 0:a._id]);var m=function(c){c.avoidCardModal||c.target===document.body&&"click"===c.type||(e.push("/board"),t(oe()))};Object(De.a)("Escape",(function(e){return setTimeout((function(){return m(e)}),0)}));var h=function(e){var a,n=e.currentTarget,r=n.name,s=n.value;clearTimeout(j),b((a={},Object(Ye.a)(a,r,s),Object(Ye.a)(a,"timer",setTimeout((function(){return t(be({name:r,value:s,cardId:c}))}),500)),a))},f=a||{},p=f.members,v=f.labels,x=f.cardVideo,g=f.attachments,N=f.checklists,k=f.activity;return Object(r.jsxs)("div",{className:"card modal-screen",children:[Object(r.jsx)(bc,{}),a&&Object(r.jsx)(Ae.a,{onClickAway:m,children:Object(r.jsxs)("section",{className:"card-modal white grid g16",children:[Object(r.jsx)(Xt,{title:d,handleEdit:h,closeModal:m}),Object(r.jsxs)("main",{className:"flex wrap gb16  ",children:[p[0]&&Object(r.jsx)(mc,{members:p}),v[0]&&Object(r.jsx)(Oc,{labels:v}),x&&Object(r.jsx)(cc,{cardVideo:x}),g[0]&&Object(r.jsx)(ac,{attachments:g}),Object(r.jsx)(tc,{desc:u,handleEdit:h}),N[0]&&Object(r.jsx)(jc,{checklists:N}),k&&Object(r.jsx)(ec,{activity:k})]}),Object(r.jsx)($t,{})]})})]})},fc=function(){var e=Object(o.b)(),t=Object(ye.g)(),c=t.goBack,a=t.push,n=Object(s.useState)(!0),i=Object(O.a)(n,2),l=i[0],d=i[1],u=Object(s.useState)(null),j=Object(O.a)(u,2),b=j[0],m=j[1],h=Object(Be.a)({email:"",password:""}),v=Object(O.a)(h,2),x=v[0],g=v[1],N=Object(Be.a)({name:"",email:"",password:"",imgUrl:"",boards:[]}),k=Object(O.a)(N,2),y=k[0],C=k[1];Object(De.a)("Escape",c);var w=function(e){var t=e.target,c=t.name,a=t.value;return g(Object(Ye.a)({},c,a))},_=function(e){var t=e.target,c=t.name,a=t.value;return C(Object(Ye.a)({},c,a))};Object($e.a)((function(){clearTimeout(b),d(!0),y.email&&m(setTimeout(Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(y.email);case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)}))),300))}),[y.email]);var E=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),e(ne(x)),a("/board");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),l){t.next=3;break}return t.abrupt("return");case 3:e(re(y)),a("/board");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(t);case 2:c=e.sent,a=c.secure_url,C({imgUrl:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"modal-screen",onClick:c,children:Object(r.jsxs)("div",{className:"login-signup gb20",onClick:function(e){return e.stopPropagation()},children:[Object(r.jsxs)("form",{className:"login-form gb10",onSubmit:E,children:[Object(r.jsxs)("div",{className:"flex ac jb",children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsx)("button",{className:"btn ",onClick:c,children:"X"})]}),Object(r.jsx)(Qe.a,{size:"small",type:"email",label:"Email",name:"email",variant:"outlined",value:x.email,onChange:w}),Object(r.jsx)(Qe.a,{size:"small",type:"password",name:"password",label:"Password",variant:"outlined",value:x.password,onChange:w}),Object(r.jsx)("button",{className:"btn blue large",children:"Login"})]}),Object(r.jsxs)("form",{className:"signup-form gb10",onSubmit:R,children:[Object(r.jsx)("h2",{children:"Signup"}),Object(r.jsx)(Qe.a,{size:"small",label:"Name",name:"name",variant:"outlined",value:y.name,onChange:_}),Object(r.jsx)(Qe.a,{size:"small",type:"email",label:"Email",name:"email",variant:"outlined",value:y.email,onChange:_}),Object(r.jsx)(Qe.a,{size:"small",type:"password",name:"password",label:"Password",variant:"outlined",value:y.password,onChange:_}),Object(r.jsxs)("label",{children:[Object(r.jsx)("p",{children:"Upload a Profile Picture:"}),Object(r.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),Object(r.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:T})]}),Object(r.jsx)("button",{className:"btn blue large",children:"Signup"})]})]})})},pc=function(){return Object(r.jsx)("div",{className:"loader center flex ac jc",children:Object(r.jsxs)("div",{className:"sk-chase",children:[Object(r.jsx)("div",{className:"sk-chase-dot"}),Object(r.jsx)("div",{className:"sk-chase-dot"}),Object(r.jsx)("div",{className:"sk-chase-dot"}),Object(r.jsx)("div",{className:"sk-chase-dot"}),Object(r.jsx)("div",{className:"sk-chase-dot"}),Object(r.jsx)("div",{className:"sk-chase-dot"})]})})},vc=(c(211),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userReducer}))||{},c=t.user,a=t.isLoading;Object(Ce.a)((function(){e(function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:c=e.sent,e.next=17;break;case 6:return e.prev=6,e.t0=e.catch(0),e.prev=8,e.next=11,K({email:"deni@avdija.com",password:"123"});case 11:c=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),console.error("DEMO_LOGIN ".concat(e.t1));case 17:return e.prev=17,c&&(t({type:te,payload:c.user}),t({type:ie.SET_BOARD,payload:c.board})),t({type:ee,payload:!1}),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[0,6,17,21],[8,14]])})));return function(t){return e.apply(this,arguments)}}()),X()})),Object(ke.a)(G);var n=function(e){return(null===c||void 0===c?void 0:c._id)?Object(r.jsx)(ye.b,Object(m.a)({},e)):Object(r.jsx)(ye.a,{to:"/"})};return a?Object(r.jsx)(pc,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge,{}),Object(r.jsxs)(ye.d,{children:[Object(r.jsx)(n,{path:"/board",component:wt}),Object(r.jsx)(ye.b,{path:"/",component:Ht})]}),Object(r.jsx)(n,{path:"/board/modal/:cardId",component:hc}),Object(r.jsx)(ye.b,{path:"/login-signup",component:fc}),Object(r.jsx)(Fe,{}),Object(r.jsx)(Ct,{})]})}),xc=c(263),gc=c(135);Object(i.render)(Object(r.jsx)(d.a,{children:Object(r.jsx)(l.a,{children:Object(r.jsx)(o.a,{store:Ne,children:Object(r.jsx)(xc.a,{backend:gc.a,options:{enableMouseEvents:!0},children:Object(r.jsx)(vc,{})})})})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.9f510bff.chunk.js.map