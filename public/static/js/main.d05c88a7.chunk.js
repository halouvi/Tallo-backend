(this.webpackJsonptallo=this.webpackJsonptallo||[]).push([[0],{201:function(e,t){},210:function(e,t,c){},211:function(e,t,c){"use strict";c.r(t);var a,r,n=c(1),s=c(0),i=c(16),l=c(34),o=c(3),d=c(43),u=c(42),j=c(122),b=c(123),m=c(11),O=c(6),h=c(10),f=c.n(h),p=c(17),v=c(74),x=c.n(v),g=c(124),N="/api/",C=x.a.create({withCredentials:!0}),y={get:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,R();case 3:return e.next=5,w(t,"GET",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),post:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,R();case 3:return e.next=5,w(t,"POST",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),put:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,R();case 3:return e.next=5,w(t,"PUT",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),delete:function(){var e=Object(p.a)(f.a.mark((function e(t,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(t)){e.next=3;break}return e.next=3,R();case 3:return e.next=5,w(t,"DELETE",c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},k=null,w=function(){var e=Object(p.a)(f.a.mark((function e(t,c){var a,r,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>2&&void 0!==n[2]?n[2]:null,e.prev=1,e.next=4,C({url:N+t,headers:{authorization:"bearer ".concat(k)},method:c,data:a});case 4:return void 0!==(r=e.sent).data.accessToken&&(k=r.data.accessToken),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,c){return e.apply(this,arguments)}}(),_=function(e){if(e.match(/login|signup|logout|validate_email/))return!1;var t=Object(g.a)(k).exp;return Date.now()>=1e3*t},R=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/refresh_token","POST");case 2:t=e.sent,k=t.data.accessToken;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().split(/,|-| /).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",t=function(t){return new RegExp("(?=[".concat(t,"])"),"i").test(e[1])};switch(!0){case t("a-c"):return"red";case t("d-f"):return"orange";case t("g-i"):return"yellow";case t("j-l"):return"green";case t("m-o"):return"blue";case t("p-r"):return"purple";case t("s-u"):return"pink";case t("v-x"):return"black";case t("y-z"):return"gold";default:return"gray"}},D=function(e){return y.get("board/".concat(e))},I=function(e){return y.put("board/".concat(e._id),e)},z=function(e){return y.post("board",e)},A=function(e,t){return{title:e,users:[t],activity:[],lists:[{_id:T(),title:"To Do",cards:[]},{_id:T(),title:"Doing",cards:[]},{_id:T(),title:"Done",cards:[]},{_id:T(),title:"QA",cards:[]}],labels:[{_id:T(),title:"Not Started",color:"red"},{_id:T(),title:"In Progress",color:"orange"},{_id:T(),title:"QA",color:"yellow"},{_id:T(),title:"Done",color:"green"},{_id:T(),title:"Production",color:"blue"}]}},L=function(e){return{_id:T(),title:e,cards:[]}},M=function(e){return{_id:T(),title:e,activity:[],attachments:[],checklist:[],desc:"",dueDate:"",labels:[],members:[]}},P=function(e){return{_id:T(),title:e,color:""}},B=c(125),F=c.n(B),U="JOIN_BOARD",H="LEAVE_BOARD",J="BOARD_UPDATED",V=function(){a=F()("/")},X=function(){a=null},W=function(e,t){a.on(e,t)},G=function(e,t){a.off(e,t)},q=function(e,t){a.emit(e,t)},Y=function(e){return y.get("user/users/".concat(e))},Q=function(e){return y.get("user/validate_email/".concat(e))},K=function(e){return y.post(e?"auth/login":"auth/refresh_token/login",e)},Z=function(e){return y.post("auth/signup",e)},$=function(){return y.post("auth/logout")},ee="SET_IS_LOADING",te="SET_LOGGED_USER",ce="SET_NEW_USER_BOARD",ae="SET_USER_BOARDS",re=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c){var a,r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:a=t.sent,r=a.user,n=a.board,c({type:te,payload:r}),c({type:se.SET_BOARD,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("LOGIN ".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e);case 3:a=t.sent,r=a.user,c({type:te,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},se={RESET_STATE:"RESET_STATE",SET_BOARD:"SET_BOARD",SET_ITEMS:"SET_ITEMS"},ie=function(){return function(e){return e({type:se.RESET_STATE})}},le=function(){return function(e){e({type:se.SET_ITEMS,payload:{list:null,card:null}})}},oe=function(e){var t=e.name,c=e.value;return function(e,a){var r=Object(m.a)({},a().boardReducer.board);"users"===t&&Oe(r,c),r[t]=c,e(de(r))}},de=function(e){return function(t,c){var a=c().boardReducer||{},n=a.board,s=a.list,i=a.card,l=Object(m.a)({},n),o=(null===i||void 0===i?void 0:i._id)||(null===s||void 0===s?void 0:s._id);t({type:se.SET_BOARD,payload:e}),o&&t(ue(o)),clearTimeout(r),r=setTimeout(Object(p.a)(f.a.mark((function c(){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,I(e);case 3:q(J,e._id),c.next=11;break;case 6:c.prev=6,c.t0=c.catch(0),t({type:se.SET_BOARD,payload:l}),o&&t(ue(o)),console.error("Could not update board",c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,6]])}))),2500)}},ue=function(e){return function(t,c){var a=c().boardReducer.board,r=me(a,e),n=r.list,s=r.card;t({type:se.SET_ITEMS,payload:{list:n,card:s}})}},je=function(e){var t=e.name,c=e.value,a=e.cardId;return function(e,r){var n=Object(m.a)({},r().boardReducer.board),s=me(n,a).card;s[t]=c,e(he(s,t)),e(de(n))}},be=function(e){var t=e.type,c=e.sourceId,a=e.targetId,r=e.posOffset;return function(e,n){var s=Object(m.a)({},n().boardReducer.board);if("LIST"===t){var i=me(s,c).listIdx,l=s.lists.splice(i,1),o=Object(O.a)(l,1)[0],d=me(s,a).listIdx;s.lists.splice(d+r,0,o)}else{var u=me(s,c),j=u.list,b=u.cardIdx,h=j.cards.splice(b,1),f=Object(O.a)(h,1)[0],p=me(s,a),v=p.list,x=p.cardIdx;null===r&&(r=j===v&&x>=b?1:0),v.cards.splice(x+r,0,f)}e(de(s))}},me=function(e,t){var c,a,r,n;return e.lists.find((function(e,s){return e._id===t?(c=e,a=s,r=null,n=e.cards.length,!0):(e.cards.find((function(i,l){return i._id===t&&(c=e,a=s,r=i,n=l,!0)})),!!r)})),{list:c,listIdx:a,card:r,cardIdx:n}},Oe=function(e,t){var c=e.users,a=e.lists,r=(c.find((function(e){return!t.includes(e)}))||{})._id;r&&a.forEach((function(e){e.cards.forEach((function(e){e.members=e.members.filter((function(e){return e!==r}))}))}))},he=function(e,t){return function(c,a){var r,n=a().userReducer.user._id;switch(t){case"addCard":r="Added this card";break;case"desc":r="Changed card description";break;case"members":r="Changed card members list";break;case"title":r="Changed card title";break;case"labels":r="Changed card labels";break;case"attachments":r="Added an attachment to card";break;case"dueDate":r="Changed card's due date";break;case"checklist":r="Changed a checklist item"}return e.activity.unshift({activity:r,createdAt:Date.now(),createdBy:n}),e}},fe={board:null,list:null,card:null},pe=c(21),ve={isLoading:!0,user:null},xe=Object(u.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case ee:return Object(m.a)(Object(m.a)({},e),{},{isLoading:a});case te:return Object(m.a)(Object(m.a)({},e),{},{user:a});case ae:return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),{},{boards:a})});case ce:return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),{},{boards:[].concat(Object(pe.a)(e.user.boards),[a])})});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case se.RESET_STATE:return fe;case se.SET_BOARD:return Object(m.a)(Object(m.a)({},e),{},{board:a});case se.SET_ITEMS:return Object(m.a)(Object(m.a)({},e),{},{list:a.list,card:a.card});default:return e}}}),ge=Object(u.createStore)(xe,Object(b.composeWithDevTools)(Object(u.applyMiddleware)(j.a))),Ne=c(262),Ce=c(126),ye=c.n(Ce),ke=c(133),we=c(13),_e=c(272),Re=c(255),Te=c(254),Se=c(273),Ee=c(216),De=function(e){var t=e.user,c=e.size,a=void 0===c?"medium":c,r=e.tooltip,s=e.className;return Object(n.jsx)(Se.a,{title:S(t.name),arrow:!0,disableHoverListener:!r,children:Object(n.jsx)("div",{className:s,children:Object(n.jsx)(Ee.a,{alt:S(t.name),src:t.imgUrl||"/",className:"avatar ".concat(a," ").concat(t.imgUrl?"white":E(t.name))})})})},Ie=c(269),ze=function(e){var t=e.toggleModal,c=Object(o.b)(),a=Object(we.g)(),r=Object(s.useState)(""),i=Object(O.a)(r,2),l=i[0],d=i[1];Object(Ie.a)("Escape",t);return Object(n.jsx)("div",{className:"modal-screen",onClick:t,children:Object(n.jsx)("div",{className:"create-board-section",onClick:function(e){return e.stopPropagation()},children:Object(n.jsxs)("div",{className:"create-board-container",children:[Object(n.jsxs)("div",{className:"title-container",children:[Object(n.jsx)("h2",{children:"Add a Board"}),Object(n.jsx)("button",{className:"exit-btn",onClick:t,children:"X"})]}),Object(n.jsxs)("label",{className:"flex col",children:["Board Title:",Object(n.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;return d(t)}})]}),Object(n.jsx)("button",{onClick:function(){c(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(c,a){var r,n,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().userReducer.user._id,n=A(e,r),t.prev=2,t.next=5,z(n);case 5:s=t.sent,i=s.boardId,c({type:se.SET_BOARD,payload:Object(m.a)({_id:i},n)}),c({type:ce,payload:{_id:i,title:n.title}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,c){return t.apply(this,arguments)}}()}(l)),t(),a.push("/board")},children:"Create Board"})]})})})},Ae=c(251),Le=c(253),Me=c(248),Pe=c(268),Be=c(252),Fe=Object(Ae.a)((function(e){return{popper:{zIndex:1,'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}}}})),Ue=function(){var e=Object(d.b)();return function(t,c,a){return e.emit("togglePopover",[t,c,a])}},He=function(){Object(d.c)("togglePopover",(function(e){return h.apply(void 0,Object(pe.a)(e))}));var e={anchorEl:null,DynCmp:null},t=Object(Be.a)(e),c=Object(O.a)(t,2),a=c[0],r=a.anchorEl,i=a.DynCmp,l=c[1],u=Object(o.c)((function(e){return e.boardReducer.list})),j=Object(we.h)().pathname.includes("board/modal"),b=Object(o.b)(),h=function(t,c,a){t.avoidPopoverClickAway||t.target===document.body&&"click"===t.type||(c&&t.currentTarget!==r?a?l({DynCmp:c}):(t.nativeEvent.avoidPopoverClickAway=!0,l({anchorEl:t.currentTarget,DynCmp:c})):(!j&&u&&b(le()),l(e)))};Object(Ie.a)("Escape",(function(e){r&&(e.avoidCardModal=!0,h(e))}),{},[r]);var f=Object(s.useState)(null),p=Object(O.a)(f,2),v=p[0],x=p[1],g=Fe();return Object(n.jsx)(Le.a,{onClickAway:h,children:Object(n.jsx)(Me.a,{className:g.popper,open:!!r,anchorEl:r,modifiers:{offset:{offset:"0,6"},arrow:{enabled:!0,element:v}},style:{zIndex:20},placement:"bottom",transition:!0,children:function(e){var t=e.TransitionProps;return Object(n.jsx)(Pe.a,Object(m.a)(Object(m.a)({},t),{},{timeout:80,children:Object(n.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("span",{className:g.arrow,ref:x}),r&&Object(n.jsx)(i,{togglePopover:h})]})}))}})})},Je=c(275),Ve=c(274);function Xe(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.userReducer.user}))||{},a=Object(o.b)(),r=Object(we.g)();return Object(n.jsxs)(Ve.a,{className:"popover-cmp small flex col list-br",children:[Object(n.jsx)(Je.a,{onClick:function(e){t(e),r.push("/")},children:"Home"}),c._id?Object(n.jsx)(Je.a,{onClick:function(e){t(e),a(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:t({type:te,payload:null}),t(ie()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),r.push("/")},children:"Logout"}):Object(n.jsx)(Je.a,{onClick:function(e){t(e),r.push("/login-signup")},children:"Login/Signup"})]})}var We=function(){var e=Object(o.c)((function(e){return e.userReducer.user})),t=Object(Te.a)(!1),c=Object(O.a)(t,2),a=c[0],r=c[1],s=Object(we.g)().push,i=Object(we.h)().pathname,d=function(e){return i!==e&&s(e)},u=function(e){return i===e?" active":""},j=Ue();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{className:"main-header flex ac jb p6",children:[Object(n.jsxs)(l.b,{className:"logo",to:"/",children:[Object(n.jsx)("svg",{role:"presentation",focusable:"false",viewBox:"0 0 22 22",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(n.jsx)("span",{children:"Tallo"})]}),Object(n.jsxs)("nav",{className:"flex ae gr10",children:[(null===e||void 0===e?void 0:e._id)&&Object(n.jsx)(Re.a,{size:"large",className:"trans",onClick:r,children:Object(n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 448 448",children:Object(n.jsx)("g",{children:Object(n.jsx)("path",{d:"m408 184H272c-4.417969.0-8-3.582031-8-8V40c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8H40c-22.089844.0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969.0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40V272c0-4.417969 3.582031-8 8-8h136c22.089844.0 40-17.910156 40-40s-17.910156-40-40-40zm0 0",fill:"#fff","data-original":"#000000"})})})}),Object(n.jsx)(Re.a,{size:"large",className:"navlink trans".concat(u("/")),onClick:function(){return d("/")},children:"Home"}),Object(n.jsx)(Re.a,{size:"large",className:"navlink trans".concat(u("/board")),onClick:function(){return d("/board")},children:"Board"}),Object(n.jsx)(Re.a,{className:"user-btn trans",onClick:function(e){return j(e,Xe)},children:e&&Object(n.jsx)(De,{user:e})})]})]}),a&&Object(n.jsx)(ze,{toggleModal:r})]})},Ge=c(266),qe=c(267),Ye=c(256),Qe=function(e){var t=e.users,c=e.max,a=e.className,r=e.size,s=void 0===r?"medium":r;return Object(n.jsx)("div",{className:a,children:Object(n.jsx)(Ye.a,{max:c,children:t.map((function(e){var t=e._id,c=e.name,a=e.imgUrl;return Object(n.jsx)(Se.a,{title:S(c),arrow:!0,children:Object(n.jsx)(Ee.a,{src:a||"/",alt:S(c),className:"avatar ".concat(s," ").concat(a?"white":E(c))})},t)}))})})},Ke=c(270),Ze=c(35),$e=function(e){var t=e.className,c=void 0===t?"":t,a=e.onClick,r=void 0===a?function(){}:a,s=e.selected,i=void 0===s?"":s;return Object(n.jsx)("div",{className:"".concat(c," grid g6 tc4"),children:["red","orange","yellow","green","blue","purple","pink","black"].map((function(e){return Object(n.jsx)(Re.a,{size:"large",name:"color",value:e,onClick:r,className:"".concat(e).concat(i===e?" selected":"")},e)}))})},et=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.card)||void 0===t?void 0:t._id})),a=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.list)||void 0===t?void 0:t._id})),r=Object(o.b)(),s=Object(we.g)();return Object(n.jsxs)("div",{className:"popover-cmp gb6",children:[Object(n.jsx)(ct,{title:"Delete ".concat(c?"Card":"List","?")}),Object(n.jsxs)("div",{className:"flex jb sbl gr6",children:[Object(n.jsx)(Re.a,{size:"large",className:"red",onClick:function(e){r(c?function(e){return function(t,c){var a=Object(m.a)({},c().boardReducer.board),r=me(a,e),n=r.cardIdx;r.list.cards.splice(n,1),t(de(a))}}(c):function(e){return function(t,c){var a=Object(m.a)({},c().boardReducer.board),r=me(a,e).listIdx;a.lists.splice(r,1),t(de(a))}}(a)),s.push("/board"),t(e)},children:"Delete"}),Object(n.jsx)(Re.a,{size:"large",className:"gray",onClick:t,children:"Cancel"})]})]})},tt=function(e){var t=e.togglePopover,c={Delete_List:et};return Object(n.jsx)(Ve.a,{className:"popover-cmp small flex col list-br",children:Object.entries(c).map((function(e){var c,a=Object(O.a)(e,2),r=a[0],s=a[1];return Object(n.jsxs)(Je.a,{onClick:function(e){return t(e,s,!0)},children:[Object(n.jsx)("img",{className:"icon",src:""+"/".concat(r,".png"),alt:""}),(c=r,c.split("_").join(" "))]},r)}))})},ct=function(e){var t=e.title,c=e.onBack,a=Object(o.c)((function(e){return e.boardReducer.card})),r=Object(o.c)((function(e){return e.boardReducer.list})),s=Object(we.h)().pathname.includes("board/modal"),i=Ue();return c||!s&&r?Object(n.jsxs)("div",{className:"gcf fw flex rel jb ",children:[Object(n.jsx)(Re.a,{size:"large",className:"",onClick:c||function(e){return i(e,a?dt:tt,!0)},children:"Back"}),Object(n.jsx)("span",{className:"center",children:t}),Object(n.jsx)(Re.a,{size:"large",className:"",onClick:i,children:"X"})]}):Object(n.jsxs)("div",{className:"gcf fw flex rel col ae ",children:[Object(n.jsx)("span",{className:"center",children:t}),Object(n.jsx)(Re.a,{size:"large",className:"",onClick:i,children:"X"})]})},at=function(e){var t=e.labelToEdit,c=e.closeEditor,a=Object(o.b)(),r=Object(o.c)((function(e){return e.boardReducer.board.labels})),s=Object(Be.a)(Object(m.a)({},t)),i=Object(O.a)(s,2),l=i[0],d=i[1],u=function(e){var t=e.currentTarget,c=t.name,a=t.value;return d(Object(Ze.a)({},c,a))},j=!r.find((function(e){return e._id===l._id})),b=function(e){a(oe({name:"labels",value:e})),c()};return Object(n.jsxs)("div",{className:"labels popover-cmp grid g6 tc4",children:[Object(n.jsx)(ct,{title:j?"Add":"Edit",onBack:c}),Object(n.jsx)(Ke.a,{className:"gcf",variant:"outlined",size:"small",label:"Label Name",name:"title",value:l.title,onChange:u}),Object(n.jsx)($e,{className:"gcf",onClick:u,selected:l.color}),Object(n.jsx)(Re.a,{size:"large",className:"green gc1",value:!0,onClick:function(){if(j)b([].concat(Object(pe.a)(r),[l]));else{var e=r.findIndex((function(e){return e._id===t._id})),c=Object(pe.a)(r);c.splice(e,1,l),b(c)}},children:"Save"}),!j&&Object(n.jsx)(Re.a,{size:"large",className:"red gc4",onClick:function(){return b(r.filter((function(e){return e._id!==l._id})))},children:"Delete"})]})},rt=c(271),nt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.labels}))||[],c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c.labels,r=void 0===a?[]:a,i=c._id,l=void 0===i?"":i,d=Object(Be.a)({labelToEdit:null,searchTerm:""}),u=Object(O.a)(d,2),j=u[0],b=j.labelToEdit,m=j.searchTerm,h=u[1],f=function(t){var c=t.currentTarget.value;e(je({cardId:l,name:"labels",value:r.includes(c)?r.filter((function(e){return e!==c})):[].concat(Object(pe.a)(r),[c])}))},p=t.filter((function(e){var t=e.title;return RegExp(m,"i").test(t)}));return Object(rt.a)((function(){return h({searchTerm:""})}),[b]),b?Object(n.jsx)(at,{labelToEdit:b,closeEditor:function(){return h({labelToEdit:null})}}):Object(n.jsxs)("div",{className:"labels popover-cmp grid tc4 g6",children:[Object(n.jsx)(ct,{title:"Labels"}),Object(n.jsx)(Ke.a,{className:"gcf",size:"small",variant:"outlined",label:"Search Labels",value:m,onChange:function(e){var t=e.target.value;return h({searchTerm:t})}}),p.map((function(e){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)(Re.a,{size:"large",className:"label gcf-1 flex jb ".concat(e.color),value:e._id,onClick:f,children:[Object(n.jsx)("span",{children:e.title}),Object(n.jsx)("span",{children:r.includes(e._id)&&"V"})]}),Object(n.jsx)(Re.a,{size:"large",className:" gcl",onClick:function(){return function(e){return h({labelToEdit:e})}(e)},children:"Edit"})]},e._id)})),Object(n.jsx)(Re.a,{size:"large",className:"gcf ",onClick:function(){return h({labelToEdit:P(m)})},children:"Add Label"})]})},st=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.users}))||[],c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c._id,r=void 0===a?"":a,i=c.members,l=void 0===i?[]:i,d=Object(s.useState)({activeMembers:[],searchTerm:"",searchRes:[]}),u=Object(O.a)(d,2),j=u[0],b=j.activeMembers,m=j.searchTerm,h=j.searchRes,f=u[1],p=function(e){f({activeMembers:t.filter((function(e){var t=e._id;return l.includes(t)})),searchTerm:e?e.target.value:m,searchRes:t.filter((function(t){var c=t._id,a=t.name;return!l.includes(c)&&RegExp(e?e.target.value:m,"i").test(a)}))})};Object(s.useEffect)(p,[t,l]);var v=function(t){var c=t.currentTarget.value;e(je({cardId:r,name:"members",value:l.includes(c)?l.filter((function(e){return e!==c})):[].concat(Object(pe.a)(l),[c])}))};return Object(n.jsxs)("div",{className:"popover-cmp flex col gb6",children:[Object(n.jsx)(ct,{title:"Card Members"}),Object(n.jsx)(Ke.a,{className:"mb6",size:"small",variant:"outlined",label:"Search Members",value:m,onChange:p}),b.map((function(e){return Object(n.jsxs)(Re.a,{className:" flex js",value:e._id,onClick:v,children:[Object(n.jsx)(De,{className:"",user:e,size:"small"}),Object(n.jsx)("span",{className:"capital ml6 fg1 tas",children:e.name}),"X"]},e._id)})),h[0]&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{className:"tac",children:"Board Members"}),h.map((function(e){return Object(n.jsxs)(Re.a,{className:" flex js",value:e._id,onClick:v,children:[Object(n.jsx)(De,{className:"",user:e,size:"small"}),Object(n.jsx)("span",{className:"capital ml6 fg1 tas",children:e.name}),"X"]},e._id)}))]})]})},it=c(277),lt=c(264),ot=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.card}))||{},c=Object(o.c)((function(e){return e.boardReducer.list}))||{},a=Object(o.c)((function(e){return e.boardReducer.board.lists})),r={targetList:c,targetPos:t._id},s=Object(Be.a)(r),i=Object(O.a)(s,2),l=i[0],d=l.targetPos,u=l.targetList,j=i[1];Object(rt.a)((function(){return j(r)}),[a]);var b=function(e){var r=e.target,n=r.name,s=r.value;j("targetPos"===n?{targetPos:s}:{targetList:a.find((function(e){return e._id===s})),targetPos:s===c._id?t._id:s})};return Object(n.jsxs)("div",{className:"popover-cmp flex col gb6",children:[Object(n.jsx)(ct,{title:"Move Card"}),Object(n.jsx)(it.a,{htmlFor:"targetList",children:"To List:"}),Object(n.jsx)(lt.a,{value:u._id,onChange:b,inputProps:{name:"targetList",id:"targetList"},children:a.map((function(e){return Object(n.jsx)(Je.a,{value:e._id,children:"".concat(e.title," ").concat(e===c?"(Current)":"")},e._id)}))}),Object(n.jsx)(it.a,{htmlFor:"targetPos",children:"Position:"}),Object(n.jsxs)(lt.a,{onOpen:function(e){return console.log(e)},value:d,onChange:b,inputProps:{name:"targetPos",id:"targetPos"},children:[u.cards.map((function(e,c){return Object(n.jsx)(Je.a,{value:e._id,children:"".concat(c+1," ").concat(t._id===e._id?"(Current)":"")},e._id)})),c._id!==u._id&&Object(n.jsx)(Je.a,{value:u._id,children:u.cards.length+1})]}),Object(n.jsx)(Re.a,{size:"large",className:"green",onClick:function(){d!==t._id&&(e(be({type:"CARD",posOffset:null,sourceId:t._id,targetId:d})),j(r))},children:"Move"})]})},dt=function(e){var t=e.togglePopover,c={Labels:nt,Members:st,Move_Card:ot,Delete_Card:et};return Object(n.jsx)(Ve.a,{className:"popover-cmp small flex col list-br",children:Object.entries(c).map((function(e){var c,a=Object(O.a)(e,2),r=a[0],s=a[1];return Object(n.jsxs)(Je.a,{onClick:function(e){return t(e,s,!0)},children:[Object(n.jsx)("img",{className:"icon",src:""+"/".concat(r,".png"),alt:""}),(c=r,c.split("_").join(" "))]},r)}))})},ut=c.p+"static/media/clock.966977aa.svg",jt=function(e){var t=e.videoUrl,c=e.isGrouped,a=e.className,r=Object(d.b)(),i=Object(s.useRef)();Object(d.c)("videoRequest",(function(e){c&&!i.current.paused&&(e===t&&r.emit("videoResponse",l()),i.current.pause())}));var l=function(){var e=i.current;return{currentTime:e.currentTime,volume:e.volume,muted:e.muted}};return Object(d.c)("videoResponse",(function(e){var t=e.currentTime,a=e.volume,r=e.muted;c||(i.current.currentTime=t,i.current.volume=a,i.current.muted=r,i.current.play())})),Object(n.jsx)("video",{className:a,controls:!0,ref:i,onCanPlay:function(){return!c&&r.emit("videoRequest",t)},onClick:function(e){return c&&e.preventDefault()},children:Object(n.jsx)("source",{src:t})})},bt=function(e){var t=e.card,c=e.isDragLayer,a=Object(o.b)(),r=Object(o.c)((function(e){return e.boardReducer.board})),i=r.users,l=r.labels,d=t._id,u=t.title,j=t.attachments,b=t.desc,h=t.dueDate,f=t.labels,p=t.cardVideo,v=i.filter((function(e){var c=e._id;return t.members.includes(c)})),x=Object(s.useRef)(),g=Object(Ge.a)({collect:function(e){return e.isDragging()},item:{type:"CARD"},begin:function(){var e=x.current.getBoundingClientRect(),c=e.height,a=e.width;return{type:"CARD",sourceId:d,card:t,height:c,overListId:"",width:a}}}),N=Object(O.a)(g,2),C=N[0],y=N[1],k=Object(qe.a)({accept:c?"":"CARD",hover:function(e){return e.overListId=""},collect:function(e){if(e.isOver()){var t=x.current.getBoundingClientRect();return{posOffset:t.top+t.height/2>e.getClientOffset().y?0:1,hoverHeight:e.getItem().height}}return{}},drop:function(e){return a(be(Object(m.a)(Object(m.a)({},e),{},{posOffset:E,targetId:d})))}}),w=Object(O.a)(k,2),_=w[0],R=_.hoverHeight,T=void 0===R?0:R,S=_.posOffset,E=void 0===S?0:S,D=w[1],I=Ue(),z=Object(o.c)((function(e){return e.boardReducer.card})),A=Object(we.g)(),L=Object(Te.a)(!1),M=Object(O.a)(L,2),P=M[0],B=M[1];return Object(n.jsx)("div",{ref:c?null:D,className:"card-drop-container".concat(C?" hidden":""),children:Object(n.jsxs)("div",{ref:x,className:"rect-ref",children:[!!T&&!E&&Object(n.jsx)("div",{className:"card-placeholder top",style:{height:"".concat(T,"px")}}),Object(n.jsx)("div",{ref:c?null:y,className:"card-preview flex col fast gb8 sbl shdw2",children:Object(n.jsxs)("div",{onClick:function(e){e.avoidModal||A.push("/board/modal/".concat(d))},className:"container white flex col p12 gb8 sbl rel".concat(P?" menu-btn-hovered":""),children:[Object(n.jsxs)("div",{className:"flex jb ac",children:[Object(n.jsx)("span",{className:"title",children:u}),Object(n.jsx)(Re.a,{size:"small",className:"",onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},onClick:function(e){e.avoidModal=!0,t!==z&&a(ue(t._id)),I(e,dt)},children:"\xb7\xb7\xb7"})]}),Object(n.jsx)("span",{className:"desc fw",children:b}),p&&Object(n.jsx)(jt,{videoUrl:p,isGrouped:!0}),j[0]&&Object(n.jsx)("div",{className:"attachments",children:Object(n.jsx)("img",{src:j[0],alt:""})}),f[0]&&Object(n.jsx)("div",{className:"labels flex",children:l.map((function(e){return f.some((function(t){return t===e._id}))&&Object(n.jsx)("div",{className:"label ".concat(e.color)},e._id)}))}),(!!h||!!v[0])&&Object(n.jsxs)("div",{className:"flex jb",children:[!!h&&Object(n.jsxs)("div",{className:"due-date flex ac",children:[Object(n.jsx)("img",{src:ut,alt:""}),Object(n.jsx)("p",{children:new Date(h).toDateString()})]}),Object(n.jsx)("div",{className:"spacer"}),v[0]&&Object(n.jsx)(Qe,{max:4,users:v})]})]})}),!!T&&!!E&&Object(n.jsx)("div",{className:"card-placeholder bottom",style:{height:"".concat(T,"px")}})]})})},mt=function(e){var t=e.list,c=Object(o.b)(),a=Object(s.useState)({title:t.title,timer:null}),r=Object(O.a)(a,2),i=r[0],l=i.title,d=i.timer,u=r[1],j=Object(s.useRef)(null);Object(Ie.a)(["Escape","Enter"],(function(){return j.current.blur()}));var b=Ue(),h=Object(o.c)((function(e){return e.boardReducer.list}));return Object(n.jsxs)("header",{className:"flex ac jb pointer",children:[Object(n.jsx)("input",{autoComplete:"off",name:"title",value:l,ref:j,className:"title fast f-110",onMouseDown:function(e){return e.target!==document.activeElement&&e.preventDefault()},onMouseUp:function(e){return e.target!==document.activeElement&&e.target.select()},onChange:function(e){var a=e.target,r=a.name,n=a.value;clearTimeout(d),u({title:n,timer:setTimeout((function(){c(function(e){var t=e.name,c=e.value,a=e.listId;return function(e,r){console.log("updating");var n=Object(m.a)({},r().boardReducer.board);me(n,a).list[t]=c,e(de(n))}}({name:r,value:n,listId:t._id}))}),500)})}}),Object(n.jsx)(Re.a,{size:"small",className:"",onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){e.avoidModal=!0,t!==h&&c(ue(t._id)),b(e,tt)},children:"\xb7\xb7\xb7"})]})},Ot=function(e){var t=e.listId,c=Object(qe.a)({accept:"CARD",hover:function(e){return e.overListId=t}}),a=Object(O.a)(c,2)[1];return Object(n.jsx)("div",{className:"drop-zone",ref:a})},ht=function(e){var t=e.listId,c=Object(o.b)(),a=Object(Te.a)(!1),r=Object(O.a)(a,2),i=r[0],l=r[1],d=Object(s.useState)(""),u=Object(O.a)(d,2),j=u[0],b=u[1];Object(rt.a)((function(){return b("")}),[i]);return Object(Ie.a)("Escape",(function(){return l(!1)})),i?Object(n.jsx)(Le.a,{onClickAway:l,children:Object(n.jsxs)("form",{className:"fw gb6",onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(c,a){var r=Object(m.a)({},a().boardReducer.board),n=M(e);c(he(n,"addCard")),me(r,t).list.cards.push(n),c(de(r))}}(j,t)),l()},children:[Object(n.jsx)("input",{className:"shdw2 rem p10 fw br4 white",autoFocus:!0,autoComplete:"off",placeholder:"Enter a title for this card...",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsxs)("div",{className:"flex jb",children:[Object(n.jsx)(Re.a,{className:"green",children:"Add Card"}),Object(n.jsx)(Re.a,{onClick:l,children:"X"})]})]})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Re.a,{className:"flex ac js",onClick:l,children:"+ Add another card"})})},ft=function(e){var t=e.list,c=e.isDragLayer,a=Object(s.useRef)(null),r=Object(o.b)(),i=t._id,l=t.cards,d=Object(Ge.a)({collect:function(e){return e.isDragging()},item:{type:"LIST"},begin:function(){var e=a.current.getBoundingClientRect(),c=e.height,r=e.width;return{type:"LIST",list:t,sourceId:i,width:r,height:c}}}),u=Object(O.a)(d,2),j=u[0],b=u[1],h=Object(qe.a)({accept:c?"":["LIST","CARD"],collect:function(e){var t,c,r,n,s,l=(null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect())||{};return{posOffset:l.left+l.width/2>(null===(c=e.getClientOffset())||void 0===c?void 0:c.x)?0:1,hoverWidth:(null===(r=e.getItem())||void 0===r?void 0:r.width)||0,hoverHeight:(null===(n=e.getItem())||void 0===n?void 0:n.height)||0,listOver:e.isOver()&&"LIST"===e.getItemType(),cardOver:(null===(s=e.getItem())||void 0===s?void 0:s.overListId)===i}},canDrop:function(e){var t=e.type;e.sourceId;return"LIST"===t||v},drop:function(e){return r(be(Object(m.a)(Object(m.a)({},e),{},{posOffset:C,targetId:i})))}}),f=Object(O.a)(h,2),p=f[0],v=p.cardOver,x=p.listOver,g=p.hoverWidth,N=p.hoverHeight,C=p.posOffset,y=f[1];return Object(n.jsxs)("div",{ref:y,className:"list-drop-container".concat(j?" hidden":""),children:[Object(n.jsxs)("div",{ref:a,className:"rect-ref flex",children:[x&&!C&&Object(n.jsx)("div",{className:"placeholder left",style:{width:"".concat(g,"px"),height:"".concat(N,"px")}}),Object(n.jsxs)("div",{ref:c?null:b,className:"list gray flex col gb6",children:[Object(n.jsx)(mt,{list:t}),Object(n.jsxs)("div",{className:"cards flex col",children:[l.map((function(e){return Object(n.jsx)(bt,{card:e},e._id)})),v&&Object(n.jsx)("div",{className:"card-placeholder",style:{height:"".concat(N,"px")}})]}),Object(n.jsx)(ht,{listId:i})]}),x&&!!C&&Object(n.jsx)("div",{className:"list-placeholder right",style:{width:"".concat(g,"px"),height:"".concat(N,"px")}})]}),Object(n.jsx)(Ot,{listId:i})]})},pt=function(){var e=Object(o.c)((function(e){return e.boardReducer.board._id})),t=Object(o.c)((function(e){return e.userReducer.user.boards})),c=Object(o.b)(),a=Ue(),r=function(t,r){var n;r!==e&&(c((n=r,function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(n);case 3:c=e.sent,t({type:se.SET_BOARD,payload:c}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("GET_BOARD_BY_ID ERROR: ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),a(t))};return Object(n.jsx)(Ve.a,{className:"popover-cmp small flex col list-br",children:t.map((function(e){var t=e._id,c=e.title;return Object(n.jsx)(Je.a,{onClick:function(e){return r(e,t)},children:c},t)}))})},vt=function(){return Object(n.jsxs)("div",{className:"popover-cmp flex col",children:[Object(n.jsx)(ct,{title:"Choose Color"}),Object(n.jsx)($e,{className:"",onClick:function(e){var t=e.currentTarget.value;t="gradient"===t?"linear-gradient(#006f83, #00aecc)":t,document.getElementById("root").style.background=t}})]})},xt=function(e){e.setAnchorEl;var t=Object(o.b)(),c=Object(o.c)((function(e){return e.boardReducer.board.users})),a=Object(o.c)((function(e){return e.userReducer.user._id})),r=Object(Be.a)({searchTerm:"",searchRes:[],filteredRes:[]}),s=Object(O.a)(r,2),i=s[0],l=i.searchTerm,d=i.searchRes,u=i.filteredRes,j=s[1];Object(rt.a)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=j,!l){e.next=7;break}return e.next=4,Y(l);case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=[];case 8:e.t2=e.t1,e.t3={searchRes:e.t2},(0,e.t0)(e.t3);case 11:case"end":return e.stop()}}),e)}))),[l]),Object(rt.a)((function(){j({filteredRes:d.filter((function(e){return!c.some((function(t){return e._id===t._id}))}))})}),[d,c]);var b=function(e){t(oe({name:"users",value:c.includes(e)?c.filter((function(t){return t!==e})):[].concat(Object(pe.a)(c),[e])}))};return Object(n.jsxs)("div",{className:"members popover-cmp flex col gb12",children:[Object(n.jsx)(ct,{title:"Board Members"}),Object(n.jsx)(Ke.a,{size:"small",label:"Search Members",variant:"outlined",value:l,onChange:function(e){var t=e.target.value;return j({searchTerm:t})}}),Object(n.jsx)("div",{className:"flex col gb2",children:c.map((function(e){return Object(n.jsxs)("button",{className:"btn  sbl".concat(e._id===a?" logged-user":""),onClick:function(){return b(e)},children:[Object(n.jsx)(De,{user:e,size:"small"}),Object(n.jsx)("span",{className:"capital",children:e.name}),Object(n.jsx)("span",{children:e._id!==a?"X":"(You)"})]},e._id)}))}),u[0]&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{children:"Users"}),Object(n.jsx)("div",{className:"flex col gb2",children:u.map((function(e){return Object(n.jsxs)("button",{className:"btn  sbl",onClick:function(){return b(e)},children:[Object(n.jsx)(De,{user:e,size:"small"}),Object(n.jsx)("span",{className:"capital fg1",children:e.name}),Object(n.jsx)("span",{children:"+"})]},e._id)}))})]})]})},gt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.boardReducer.board.title})),c=Object(o.c)((function(e){return e.boardReducer.list})),a=Ue(),r=function(t,r){c&&e(le()),a(t,r)};return Object(n.jsxs)("header",{className:"board-header flex ac p6 gr10",children:[Object(n.jsx)(Re.a,{className:"trans",size:"large",onClick:function(e){return r(e,pt)},children:"Boards \u25bc"}),Object(n.jsx)("h2",{children:t}),Object(n.jsx)(Re.a,{className:"trans",size:"large",onClick:function(e){return r(e,xt)},children:"Users \u25bc"}),Object(n.jsx)(Re.a,{size:"large",className:"trans",onClick:function(e){return r(e,vt)},children:Object(n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 384 384",children:Object(n.jsx)("path",{d:"M192 0C85.973 0 0 85.973 0 192s85.973 192 192 192a31.96 31.96 0 0 0 32-32c0-8.32-3.093-15.787-8.32-21.44-5.013-5.653-8-13.013-8-21.227a31.96 31.96 0 0 1 32-32h37.653c58.88 0 106.667-47.787 106.667-106.667C384 76.373 298.027 0 192 0zM74.667 192a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64zm64-85.333a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm106.666 0a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm64 85.333a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64z",fill:"#fff"})})})]})},Nt=function(){var e=Object(o.b)(),t=Object(Te.a)(!1),c=Object(O.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(""),l=Object(O.a)(i,2),d=l[0],u=l[1];Object(rt.a)((function(){return u("")}),[a]);return Object(n.jsx)("div",{className:"add-list",children:a?Object(n.jsx)(Le.a,{onClickAway:r,children:Object(n.jsxs)("form",{className:"fw gray gb6 br4",onSubmit:function(t){var c;t.preventDefault(),e((c=d,function(e,t){var a=Object(m.a)({},t().boardReducer.board),r=L(c);a.lists.push(r),e(de(a))})),r()},children:[Object(n.jsx)("input",{className:"rem fw white",autoFocus:!0,autoComplete:"off",placeholder:"Enter a title for this list...",value:d,onChange:function(e){return u(e.target.value)}}),Object(n.jsxs)("div",{className:"flex jb",children:[Object(n.jsx)(Re.a,{className:"green",children:"Add List"}),Object(n.jsx)(Re.a,{onClick:r,children:"X"})]})]})}):Object(n.jsx)(Re.a,{className:"fp flex ac js trans br4",onClick:r,children:"+ Add another list"})})},Ct=function(){var e=Object(o.b)(),t=Object(we.g)(),c=Object(o.c)((function(e){var t;return null===(t=e.userReducer.user)||void 0===t?void 0:t.boards})),a=Object(o.c)((function(e){return e.boardReducer.board}))||{},r=a._id,i=void 0===r?"":r,l=a.lists,d=void 0===l?[]:l;return Object(s.useEffect)((function(){return c[0]?(q(U,i),W(J,(function(t){e({type:se.SET_BOARD,payload:t})}))):t.replace("/create-modal"),function(){q(H,i),G(J)}}),[]),Object(n.jsxs)("main",{className:"board flex col",children:[Object(n.jsx)(gt,{}),i&&Object(n.jsxs)("main",{className:"container flex",children:[d.map((function(e){return Object(n.jsx)(ft,{list:e},e._id)})),Object(n.jsx)(Nt,{})]})]})},yt=c.p+"static/media/icon-facebook.229c75a0.svg",kt=c.p+"static/media/icon-linkedin.416b1433.svg",wt=c.p+"static/media/icon-twitter.1d5c6d5e.svg",_t=function(){return Object(n.jsx)("footer",{className:"main-grid",children:Object(n.jsxs)("section",{className:"footer-container",children:[Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{className:"logo-container",children:[Object(n.jsxs)("div",{className:"logo-div",children:[Object(n.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(n.jsx)("p",{children:"Tallo"})]}),Object(n.jsxs)("div",{className:"routes-container",children:[Object(n.jsx)(l.c,{className:"nav-item",to:"/",exact:!0,children:"Home"}),Object(n.jsx)(l.c,{className:"nav-item",to:"/board",children:"Board"})]})]}),Object(n.jsxs)("div",{className:"address",children:[Object(n.jsx)("p",{children:"987 Hillcrest Lane"}),Object(n.jsx)("p",{children:"Irvine, CA"}),Object(n.jsx)("p",{children:"California 92714"}),Object(n.jsx)("p",{children:"Call Us : 949-833-7432"})]})]}),Object(n.jsxs)("div",{className:"right-footer-container",children:[Object(n.jsxs)("div",{className:"social-container",children:[Object(n.jsx)("img",{src:yt,alt:""}),Object(n.jsx)("img",{src:kt,alt:""}),Object(n.jsx)("img",{src:wt,alt:""})]}),Object(n.jsx)("p",{children:"Copyright 2020. All Rights Reserved"})]})]})})},Rt=c.p+"static/media/bg-pattern-home-3.4bc172f9.svg",Tt=function(){var e=Object(we.g)();return Object(n.jsx)("div",{className:"get-started-section main-grid",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:Rt,alt:""}),Object(n.jsxs)("main",{children:[Object(n.jsx)("h2",{children:"Ready to get started?"}),Object(n.jsx)("button",{onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,e.push("/login-signup")},children:"Login / Signup"})]})]})})},St=c.p+"static/media/bg-pattern-home-1.270440fb.svg",Et=c.p+"static/media/bg-pattern-home-2.889d5d8c.svg",Dt=function(){return Object(n.jsxs)("div",{className:"hero-section",children:[Object(n.jsx)("img",{className:"left-img",src:St,alt:""}),Object(n.jsxs)("div",{className:"hero-title",children:[Object(n.jsx)("h1",{children:"Manage the"}),Object(n.jsxs)("h1",{children:["best ",Object(n.jsx)("span",{children:"projects"})]})]}),Object(n.jsxs)("div",{className:"side-container",children:[Object(n.jsx)("div",{}),Object(n.jsx)("p",{children:"Tallo helps teams work more collaboratively and get more done. Tallo\u2019s boards, lists, and cards enable teams to organize and prioritize projects in a fun, flexible, and rewarding way."}),Object(n.jsx)("img",{className:"right-img",src:Et,alt:""})]})]})},It=c.p+"static/media/icon-cog.c5d2403f.svg",zt=c.p+"static/media/icon-chart.8de3d4d2.svg",At=c.p+"static/media/icon-person.0a313a85.svg",Lt=function(){return Object(n.jsx)("div",{className:"main-section main-grid",children:Object(n.jsxs)("section",{className:"main-container",children:[Object(n.jsx)("div",{className:"design-div"}),Object(n.jsx)("h2",{children:"Build & manage your projects any time, anywhere."}),Object(n.jsxs)("div",{className:"secondary-container",children:[Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:At,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Work with any team"}),Object(n.jsx)("p",{children:"Whether it\u2019s for work, a side project or even the next family vacation, Tallo helps your team stay organized."})]})]}),Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:It,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Always In Sync"}),Object(n.jsx)("p",{children:"No matter where you are, Tallo stays in sync across all of your devices. Collaborate with your team anywhere."})]})]}),Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:zt,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Information at a glance"}),Object(n.jsx)("p",{children:"Dive into the details by adding attachments, due dates, and more directly to Tallo cards."})]})]})]})]})})},Mt=c.p+"static/media/bg-pattern-home-4-about-3.aacd4e03.svg",Pt=c.p+"static/media/bg-pattern-home-5.95a2a621.svg",Bt=function(){return Object(n.jsxs)("div",{className:"quotes-section main-grid",children:[Object(n.jsx)("img",{src:Mt,alt:"",className:"bgc-img-1"}),Object(n.jsx)("img",{src:Pt,alt:"",className:"bgc-img-2"}),Object(n.jsxs)("section",{className:"quotes-container",children:[Object(n.jsxs)("h1",{children:["Delivering real results for top companies. Some of our ",Object(n.jsx)("span",{children:"success stories."})]}),Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:"\u201cIt\u2019s easy to get your team up and running with Tallo. We\u2019ve collected all of the boards and tools your team needs to succeed in one handy resource.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Tal Harouvi"}),Object(n.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1607248716/users/tal_fofpvu.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:"\u201cIntegrate the apps your team already uses directly into your workflow. Power-Ups turn Tallo boards into living applications to meet your team's unique business needs.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Arie Moldawsky"}),Object(n.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611138519/users/66681D8E-0B6F-4F34-9FED-CCF9DF3B1E69_mftdzu.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:" \u201cI've had absolutely nothing to do with this app untill they've reached me. I'm just an Israeli NBA Player and an ambassador of the app.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Deni Avdija"}),Object(n.jsx)("p",{children:"NBA Player at Washington Wizards"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1610031903/deni_whuhmk.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]})]})]})]})},Ft=function(e){Object(o.b)();return Object(s.useEffect)((function(){var e=document.getElementById("root");"linear-gradient(#006f83, #00aecc)"!==e.style.background&&(e.style.background="linear-gradient(#006f83, #00aecc)")}),[]),Object(n.jsxs)("main",{className:"home main-grid",children:[Object(n.jsx)(Dt,{}),Object(n.jsx)(Lt,{}),Object(n.jsx)(Bt,{}),Object(n.jsx)(Tt,{}),Object(n.jsx)(_t,{})]})},Ut=function(e){var t=e.title,c=e.handleEdit,a=void 0===c?function(){}:c,r=e.closeModal,s=void 0===r?function(){}:r,i=Object(o.c)((function(e){return e.boardReducer.list.title}));return Object(n.jsxs)("header",{className:"fw grid tc-a1aa g8",children:[Object(n.jsx)("img",{className:"section-icon asc gc1",src:"".concat("","/Card.png"),alt:""}),Object(n.jsx)("input",{className:"gc2 title pointer",autoComplete:"off",name:"title",value:t,onFocus:function(e){return e.target.select()},onChange:a}),Object(n.jsx)(Re.a,{className:"gc4 ",size:"large",onClick:s,children:"X"}),Object(n.jsxs)("span",{className:"gc2",children:["in list ",Object(n.jsx)("u",{children:i})]})]})},Ht=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c._id,r=void 0===a?"":a,s=c.checklists,i=void 0===s?[]:s,l=Object(Be.a)({_id:T(),title:"",items:[]}),d=Object(O.a)(l,2),u=d[0],j=d[1],b=Object(o.b)();return Object(n.jsxs)("div",{className:"popover-cmp checklist-section flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(n.jsx)("p",{className:"title bold asc",children:"Add a Check List"}),Object(n.jsxs)("form",{action:"",className:"flex col",onSubmit:function(e){e.preventDefault(),b(je({name:"checklist",value:[].concat(Object(pe.a)(i),[u]),cardId:r}))},children:[Object(n.jsx)("label",{htmlFor:"checklist-title",children:"Title:"}),Object(n.jsx)("input",{autoFocus:!0,id:"checklist-title",value:u.title,onChange:function(e){var t=e.target.value;return j({title:t})},type:"text",placeholder:"Insert a title..."}),Object(n.jsx)("button",{children:"Add"})]})]})},Jt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card})),a=c.dueDate,r=c._id,i=Object(s.useState)(""),l=Object(O.a)(i,2),d=l[0],u=l[1],j=Object(s.useState)(Date.now()),b=Object(O.a)(j,2),m=b[0],h=b[1],f=Object(o.b)();return Object(n.jsxs)("div",{className:"popover-cmp due-date-section flex col",children:[Object(n.jsx)(ct,{title:"Due Date"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),f(je({name:"dueDate",value:m,cardId:r})),t(e)},className:"due-date-form flex col",children:[Object(n.jsx)("input",{type:"date",value:d||function e(){if(e){var t=new Date(a).getDate(),c=new Date(a).getMonth()+1,r=new Date(a).getFullYear();return"".concat(c).length<2&&(c="0"+c),r+"-"+c+"-"+t}return""}(),onChange:function(e){var t=e.target.value,c=new Date(t).getTime();u(t),h(c)},name:"dueDate",id:""}),Object(n.jsx)("button",{children:"Save"})]})]})},Vt="https://api.cloudinary.com/v1_1/".concat("ariecloud","/"),Xt=function(e){return Gt(e,"image/upload")},Wt=function(e){return Gt(e,"video/upload")},Gt=function(){var e=Object(p.a)(f.a.mark((function e(t,c){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","iuzstnbj"),e.prev=3,!_(c)){e.next=7;break}return e.next=7,R();case 7:return e.next=9,x()({method:"POST",url:Vt+c,data:a});case 9:return r=e.sent,e.abrupt("return",r.data);case 13:e.prev=13,e.t0=e.catch(3),console.error("ERROR:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,c){return e.apply(this,arguments)}}(),qt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card}))||{},a=c.attachments,r=void 0===a?[]:a,i=c._id,l=void 0===i?"":i,d=Object(s.useState)(""),u=Object(O.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),h=Object(O.a)(m,2),v=h[0],x=h[1],g=Object(o.b)(),N=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,Xt(t);case 3:c=e.sent,a=c.secure_url,x(!0),b(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"attachment-section popover-cmp",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(n.jsx)("p",{children:"Attachments"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),j&&g(je({name:"attachments",value:[].concat(Object(pe.a)(r),[j]),cardId:l}))},className:"attachment-form",children:[Object(n.jsxs)("label",{htmlFor:"imgUrl",children:[Object(n.jsx)("p",{children:"Upload an attachment:"}),Object(n.jsxs)("div",{className:"label-container",children:[Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),v&&Object(n.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(n.jsxs)("g",{fill:"#00df76",children:[Object(n.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(n.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(n.jsxs)("g",{fill:"#fff",children:[Object(n.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(n.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:N,id:"imgUrl"}),Object(n.jsx)("button",{children:"Save"})]})]})},Yt=function(e){var t=e.togglePopover,c=Object(o.c)((function(e){return e.boardReducer.card._id}))||"",a=Object(s.useState)(""),r=Object(O.a)(a,2),i=r[0],l=r[1],d=Object(o.b)(),u=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(t);case 2:c=e.sent,a=c.secure_url,console.log(a),l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"attachment-section popover-cmp",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:t,children:"X"}),Object(n.jsx)("p",{children:"Card Video"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),i&&d(je({name:"cardVideo",value:i,cardId:c}))},className:"attachment-form",children:[Object(n.jsxs)("label",{htmlFor:"videoUrl",children:[Object(n.jsx)("p",{children:"Upload a video:"}),Object(n.jsxs)("div",{className:"label-container",children:[Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),i&&Object(n.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(n.jsxs)("g",{fill:"#00df76",children:[Object(n.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(n.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(n.jsxs)("g",{fill:"#fff",children:[Object(n.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(n.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"videoUrl",onChange:u,id:"videoUrl"}),Object(n.jsx)("button",{children:"Save"})]})]})},Qt=function(){var e=Ue(),t={Add_To_Card:{Members:st,Labels:nt,Check_List:Ht,Due_Date:Jt,Attachment:qt,Video:Yt},Actions:{Move_Card:ot,Delete_Card:et}},c=function(e){return e.split("_").join(" ")};return Object(n.jsx)("aside",{className:"gb18",children:Object.entries(t).map((function(t){var a=Object(O.a)(t,2),r=a[0],s=a[1];return Object(n.jsxs)("div",{className:"gb6",children:[Object(n.jsx)("h4",{children:c(r)}),Object(n.jsx)("div",{className:"buttons grid g6",children:Object.entries(s).map((function(t){var a=Object(O.a)(t,2),r=a[0],s=a[1];return Object(n.jsxs)(Re.a,{size:"large",className:"gray flex js",onClick:function(t){return e(t,s)},children:[Object(n.jsx)("img",{className:"icon",src:""+"/".concat(r,".png"),alt:""}),Object(n.jsx)("span",{children:c(r)})]},r)}))})]},r)}))})},Kt=c(132),Zt=c.n(Kt),$t=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.activity})),t=Object(o.c)((function(e){return e.boardReducer.board.users})),c=e.map((function(e){return Object(m.a)(Object(m.a)({},e),t.find((function(t){return t._id===e.createdBy})))})),a=function(t){return!(!t||e[t]._id!==e[t-1]._id)};return Object(n.jsxs)("div",{className:"activity fw grid tc-aaaa1 g8",children:[Object(n.jsx)("img",{className:"section-icon",src:"/Activity.png",alt:""}),Object(n.jsx)("h3",{className:"gc2-6",children:"Activity"}),c.slice(0,10).map((function(e,t){return Object(n.jsxs)(s.Fragment,{children:[!a(t)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(De,{className:"gc2",user:e,size:"small"}),Object(n.jsxs)("h4",{className:"gc3-6 asc",children:[e.name," :"]})]}),Object(n.jsx)("span",{className:"gc2-4",children:e.activity}),Object(n.jsx)("h5",{className:"gc5",children:Zt()(e.createdAt).fromNow()})]},e.createdAt)}))]})},ec=function(e){var t=e.desc,c=e.handleEdit,a=void 0===c?function(){}:c;return Object(n.jsxs)("div",{className:"description fw grid tc-a1 g8",children:[Object(n.jsx)("img",{className:"section-icon",src:"/Description.png",alt:""}),Object(n.jsx)("h3",{className:"gc2",children:"Description"}),Object(n.jsx)(Ke.a,{className:"gc2",multiline:!0,placeholder:"Add a more detailed description...",rows:4,variant:"outlined",name:"desc",value:t,onChange:a})]})},tc=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.cardVideo}));return e?Object(n.jsxs)("div",{className:"video fw grid tc-a1 g8",children:[Object(n.jsx)("img",{className:"section-icon",src:"/Video.png",alt:""}),Object(n.jsx)("h3",{className:"gc2",children:"Card Video"}),Object(n.jsx)(jt,{className:"gc2",videoUrl:e})]}):Object(n.jsx)(n.Fragment,{})},cc=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.attachments}));return e[0]?Object(n.jsxs)("div",{className:"attachments fw grid tc-a1 g8",children:[Object(n.jsx)("img",{className:"section-icon",src:"/Attachment.png",alt:""}),Object(n.jsx)("h3",{className:"gc2",children:"Attachments"}),e.slice(0,3).map((function(e,t){return Object(n.jsx)("img",{className:"gc2 item",src:e,alt:""},t)}))]}):Object(n.jsx)(n.Fragment,{})},ac=c(265),rc=c(259),nc=c(260),sc=c(263);function ic(e){return Object(n.jsxs)(sc.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(sc.a,{width:"100%",mr:1,children:Object(n.jsx)(rc.a,Object(m.a)({variant:"determinate"},e))}),Object(n.jsx)(sc.a,{minWidth:35,children:Object(n.jsx)(nc.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var lc=Object(Ae.a)({root:{width:"100%"}});function oc(e){var t=e.progress,c=lc();return Object(n.jsx)("div",{className:c.root,children:Object(n.jsx)(ic,{value:t})})}var dc=function(e){var t=e.checklist,c=e.checklists,a=Object(o.b)(),r=Object(o.c)((function(e){return e.boardReducer.card._id})),s=Object(Te.a)(!1),i=Object(O.a)(s,2),l=i[0],d=i[1],u=Object(Be.a)({_id:T(),desc:"",isChecked:!1}),j=Object(O.a)(u,2),b=j[0],m=j[1],h=function(e){var n=e.target.value,s=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(c));s.items[n].isChecked=!s.items[n].isChecked;var l=i.findIndex((function(e){return e._id===s._id}));i[l]=s,a(je({name:"checklist",value:Object(pe.a)(i),cardId:r}))},v=function(){var e=Object(p.a)(f.a.mark((function e(){var n,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t)),s=JSON.parse(JSON.stringify(c)),i=s.findIndex((function(e){return e._id===n._id})),s[i].items.push(b),e.next=6,a(je({name:"checklist",value:Object(pe.a)(s),cardId:r}));case 6:m({_id:T(),desc:"",isChecked:!1}),d();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var n=e.target.value,s=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(c));s.items.splice(n,1);var l=i.findIndex((function(e){return e._id===s._id}));i[l]=s,a(je({name:"checklist",value:Object(pe.a)(i),cardId:r}))};return Object(n.jsxs)("div",{className:"checklist gb6",children:[Object(n.jsxs)("div",{className:"flex ac gr10 sbl ",children:[Object(n.jsx)("img",{className:"section-icon",src:"/Check_List.png",alt:""}),Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)(Re.a,{className:"gray",onClick:function(){var e=JSON.parse(JSON.stringify(c)),n=e.findIndex((function(e){return e._id===t._id}));e.splice(n,1),a(je({name:"checklist",value:Object(pe.a)(e),cardId:r}))},children:"Delete"})]}),Object(n.jsxs)("div",{className:"ml30",children:[Object(n.jsx)(oc,{progress:function(){var e=+t.items.filter((function(e){return!0===e.isChecked})).length/+t.items.length*100;return isNaN(e)&&(e=0),e}()}),Object(n.jsx)("div",{className:"flex wrap",children:t.items.map((function(e,t){return Object(n.jsxs)("div",{className:"item flex ac sbl ml-12",children:[Object(n.jsx)(ac.a,{color:"primary",inputProps:{"aria-label":"checkbox"},checked:e.isChecked,value:t,onChange:h}),Object(n.jsx)("span",{children:e.desc}),Object(n.jsx)(Re.a,{className:"",value:t,onClick:x,children:"X"})]},t)}))}),l?Object(n.jsxs)("div",{className:"flex col w50 gb6",children:[Object(n.jsx)("input",{autoFocus:!0,name:"desc",value:b.desc,onChange:function(e){var t=e.target,c=t.name,a=t.value;return m(Object(Ze.a)({},c,a))}}),Object(n.jsxs)("div",{className:"flex gr6",children:[Object(n.jsx)(Re.a,{className:"green",onClick:v,children:"Add"}),Object(n.jsx)(Re.a,{className:"",onClick:d,children:"X"})]})]}):Object(n.jsx)(Re.a,{className:"gray",onClick:d,children:"Add an item"})]})]})},uc=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.checklists}))||[];return e[0]?Object(n.jsx)("div",{className:"checklists fw gb10",children:e.map((function(t,c){return Object(n.jsx)(dc,{checklists:e,checklist:t},c)}))}):Object(n.jsx)(n.Fragment,{})},jc=function(){var e=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.list)||void 0===t?void 0:t.cards})),t=Object(o.c)((function(e){var t;return null===(t=e.boardReducer.card)||void 0===t?void 0:t._id})),c=Object(we.g)(),a=function(a){var r;a.stopPropagation();var n=e.findIndex((function(e){return e._id===t})),s=n>-1&&(null===(r=e[n+ +a.currentTarget.value])||void 0===r?void 0:r._id);s&&c.push(s)};return e?Object(n.jsxs)("nav",{className:"flex jb fw",children:[Object(n.jsx)(Re.a,{variant:"outlined",size:"large",className:"white",value:-1,onClick:a,children:"Previous Card"}),Object(n.jsx)(Re.a,{variant:"outlined",size:"large",className:"white",value:1,onClick:a,children:"Next Card"})]}):Object(n.jsx)(n.Fragment,{})},bc=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.members})),t=Object(o.c)((function(e){return e.boardReducer.board.users})).filter((function(t){var c=t._id;return e.includes(c)})),c=Ue();return e[0]?Object(n.jsxs)("div",{className:"members wfc ml32 gb6 pointer",onClick:function(e){return c(e,st)},children:[Object(n.jsx)("h4",{children:"Members"}),Object(n.jsx)(Qe,{users:t,max:12,size:"medium"})]}):Object(n.jsx)(n.Fragment,{})},mc=function(){var e=Object(o.c)((function(e){return e.boardReducer.card.labels})),t=Object(o.c)((function(e){return e.boardReducer.board.labels})).filter((function(t){var c=t._id;return e.includes(c)})),c=Ue();return t[0]?Object(n.jsxs)("div",{className:"labels ml32 pointer",onClick:function(e){return c(e,nt)},children:[Object(n.jsx)("h4",{children:"Labels"}),Object(n.jsxs)("div",{className:"flex gr6 wfc wrap",children:[t.map((function(e){var t=e._id,c=e.color,a=e.title;return Object(n.jsx)(Re.a,{size:"large",className:"mt6 ".concat(c),children:a},t)})),Object(n.jsx)(Re.a,{size:"large",className:"mt6 gray",children:"+"})]})]}):Object(n.jsx)(n.Fragment,{})},Oc=function(){var e=Object(we.g)(),t=Object(o.b)(),c=Object(we.i)().cardId;Object(s.useEffect)((function(){return t(ue(c))}),[c]);var a=Object(o.c)((function(e){return e.boardReducer.card})),r=Object(Be.a)({title:"",desc:""}),i=Object(O.a)(r,2),l=i[0],d=l.title,u=l.desc,j=i[1];Object(rt.a)((function(){return j({title:a.title,desc:a.desc})}),[null===a||void 0===a?void 0:a._id]);var b=function(c){c.avoidCardModal||c.target===document.body&&"click"===c.type||(e.push("/board"),t(le()))};Object(Ie.a)("Escape",(function(e){return setTimeout((function(){return b(e)}),0)}));var m=Object(s.useState)(null),h=Object(O.a)(m,2),f=h[0],p=h[1],v=function(e){var a=e.currentTarget,r=a.name,n=a.value;j(Object(Ze.a)({},r,n)),clearTimeout(f),p(setTimeout((function(){return t(je({name:r,value:n,cardId:c}))}),500))};return Object(n.jsxs)("div",{className:"modal-screen",children:[Object(n.jsx)(jc,{}),a&&Object(n.jsx)(Le.a,{onClickAway:b,children:Object(n.jsxs)("section",{className:"card-modal white grid g16",children:[Object(n.jsx)(Ut,{title:d,handleEdit:v,closeModal:b}),Object(n.jsxs)("main",{className:"flex wrap gb16  ",children:[Object(n.jsx)(bc,{}),Object(n.jsx)(mc,{}),Object(n.jsx)(tc,{}),Object(n.jsx)(cc,{}),Object(n.jsx)(ec,{desc:u,handleEdit:v}),Object(n.jsx)(uc,{}),Object(n.jsx)($t,{})]}),Object(n.jsx)(Qt,{})]})})]})},hc=function(){var e=Object(o.b)(),t=Object(we.g)(),c=t.goBack,a=t.push,r=Object(s.useState)(!0),i=Object(O.a)(r,2),l=i[0],d=i[1],u=Object(s.useState)(null),j=Object(O.a)(u,2),b=j[0],m=j[1],h=Object(Be.a)({email:"",password:""}),v=Object(O.a)(h,2),x=v[0],g=v[1],N=Object(Be.a)({name:"",email:"",password:"",imgUrl:"",boards:[]}),C=Object(O.a)(N,2),y=C[0],k=C[1];Object(Ie.a)("Escape",c);var w=function(e){var t=e.target,c=t.name,a=t.value;return g(Object(Ze.a)({},c,a))},_=function(e){var t=e.target,c=t.name,a=t.value;return k(Object(Ze.a)({},c,a))};Object(rt.a)((function(){clearTimeout(b),d(!0),y.email&&m(setTimeout(Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(y.email);case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)}))),300))}),[y.email]);var R=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),e(re(x)),a("/board");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),l){t.next=3;break}return t.abrupt("return");case 3:e(ne(y)),a("/board");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(t);case 2:c=e.sent,a=c.secure_url,k({imgUrl:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"modal-screen",onClick:c,children:Object(n.jsxs)("div",{className:"login-signup gb20",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsxs)("form",{className:"login-form gb10",onSubmit:R,children:[Object(n.jsxs)("div",{className:"flex ac jb",children:[Object(n.jsx)("h2",{children:"Login"}),Object(n.jsx)("button",{className:"btn ",onClick:c,children:"X"})]}),Object(n.jsx)(Ke.a,{size:"small",type:"email",label:"Email",name:"email",variant:"outlined",value:x.email,onChange:w}),Object(n.jsx)(Ke.a,{size:"small",type:"password",name:"password",label:"Password",variant:"outlined",value:x.password,onChange:w}),Object(n.jsx)("button",{className:"btn blue large",children:"Login"})]}),Object(n.jsxs)("form",{className:"signup-form gb10",onSubmit:T,children:[Object(n.jsx)("h2",{children:"Signup"}),Object(n.jsx)(Ke.a,{size:"small",label:"Name",name:"name",variant:"outlined",value:y.name,onChange:_}),Object(n.jsx)(Ke.a,{size:"small",type:"email",label:"Email",name:"email",variant:"outlined",value:y.email,onChange:_}),Object(n.jsx)(Ke.a,{size:"small",type:"password",name:"password",label:"Password",variant:"outlined",value:y.password,onChange:_}),Object(n.jsxs)("label",{children:[Object(n.jsx)("p",{children:"Upload a Profile Picture:"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:S})]}),Object(n.jsx)("button",{className:"btn blue large",children:"Signup"})]})]})})},fc=c(261),pc=function(){var e=Object(fc.a)((function(e){return{item:e.getItem(),pos:e.getSourceClientOffset()}})),t=e.item,c=e.pos,a=t||{},r=a.type,s=a.list,i=a.card,l=a.width,o=a.height;return t&&!!c&&Object(n.jsxs)("div",{className:"drag-layer ".concat(r),style:{top:"".concat(c.y,"px"),left:"".concat(c.x,"px"),width:"".concat(l,"px"),height:"".concat(o,"px")},children:["LIST"===r&&Object(n.jsx)(ft,{list:s,isDragLayer:!0}),"CARD"===r&&Object(n.jsx)(bt,{card:i,isDragLayer:!0})]})},vc=function(){return Object(n.jsx)("div",{className:"fp flex ac jc",children:Object(n.jsxs)("div",{className:"sk-chase",children:[Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"})]})})},xc=(c(210),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userReducer}))||{},c=t.user,a=t.isLoading;Object(_e.a)((function(){e(function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:c=e.sent,e.next=17;break;case 6:return e.prev=6,e.t0=e.catch(0),e.prev=8,e.next=11,K({email:"deni@avdija.com",password:"123"});case 11:c=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),console.error("DEMO_LOGIN ".concat(e.t1));case 17:return e.prev=17,c&&(t({type:te,payload:c.user}),t({type:se.SET_BOARD,payload:c.board})),t({type:ee,payload:!1}),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[0,6,17,21],[8,14]])})));return function(t){return e.apply(this,arguments)}}()),V()})),Object(ke.a)(X);var r=function(e){return(null===c||void 0===c?void 0:c._id)?Object(n.jsx)(we.b,Object(m.a)({},e)):Object(n.jsx)(we.a,{to:"/"})};return a?Object(n.jsx)(vc,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(We,{}),Object(n.jsxs)(we.d,{children:[Object(n.jsx)(r,{path:"/board",component:Ct}),Object(n.jsx)(we.b,{path:"/",component:Ft})]}),Object(n.jsx)(r,{path:"/board/modal/:cardId",component:Oc}),Object(n.jsx)(we.b,{path:"/login-signup",component:hc}),Object(n.jsx)(He,{}),Object(n.jsx)(pc,{})]})});Object(i.render)(Object(n.jsx)(d.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(o.a,{store:ge,children:Object(n.jsx)(Ne.a,{backend:ye.a,children:Object(n.jsx)(xc,{})})})})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.d05c88a7.chunk.js.map