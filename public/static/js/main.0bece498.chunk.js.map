{"version":3,"sources":["service/httpService.js","service/boardService.js","service/socketService.js","store/board/BoardActions.js","service/utilService.js","service/userService.js","store/user/UserActions.js","store/board/BoardReducer.js","store/user/UserReducer.js","store/Store.js","components/Board/CreateBoardModal/CreateBoardModal.jsx","components/Header/UserMenu/UserMenu.jsx","components/Header/Header.jsx","components/Board/avatars/CardAvatars.jsx","components/Board/ReUsables/Labels/LabelEditor.jsx","components/Board/ReUsables/Labels/Labels.jsx","components/Board/ReUsables/DeleteCard/DeleteCard.jsx","components/Board/Card/CardMenu/CardMenu.jsx","assets/clock.svg","components/Board/Card/Card.jsx","components/Board/List/ListMenu/ListMenu.jsx","components/Board/List/ListMenu/ListPopover.jsx","components/Board/List/List.jsx","components/Board/BoardHeader/BoardsSelect/BoardsSelect.jsx","components/Board/BoardHeader/ColorPicker/ColorPicker.jsx","components/Board/BoardHeader/BoardMembers/BoardMembers.jsx","components/Board/BoardHeader/Popover/Popover.jsx","components/Board/BoardHeader/BoardHeader.jsx","components/Board/ReUsables/Popover/Popover.jsx","pages/Board/Board.jsx","assets/icon-facebook.svg","assets/icon-linkedin.svg","assets/icon-twitter.svg","components/Home/HomeFooter/HomeFooter.jsx","assets/bg-pattern-home-3.svg","components/Home/HomeGetStarted/HomeGetStarted.jsx","assets/bg-pattern-home-1.svg","assets/bg-pattern-home-2.svg","components/Home/HomeHero/HomeHero.jsx","assets/icon-cog.svg","assets/icon-chart.svg","assets/icon-person.svg","components/Home/HomeMain/HomeMain.jsx","assets/bg-pattern-home-4-about-3.svg","assets/bg-pattern-home-5.svg","components/Home/HomeQuotes/HomeQuotes.jsx","pages/Home/Home.jsx","components/Board/CardChecklists/ProgressBar/ProgressBar.jsx","components/Board/CardChecklists/CardChecklists.jsx","components/Board/ReUsables/Members/Members.jsx","components/Board/ReUsables/CheckList/CheckList.jsx","components/Board/ReUsables/DueDate/DueDate.jsx","service/imgUploadService.js","components/Board/ReUsables/Attachment/Attachment.jsx","components/Board/ReUsables/MoveCard/MoveCard.jsx","components/Board/ReUsables/AddVideo/AddVideo.jsx","components/Board/CardModal/SideBar/SideBar.jsx","components/Board/CardModal/CardModal.jsx","components/LoginSignup/LoginSignup.jsx","components/DragLayer/DragLayer.jsx","App.jsx","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","accessToken","httpService","endpoint","data","ajax","a","method","newTokensNeeded","getNewTokens","url","headers","authorization","res","console","error","includes","jwtDecode","exp","Date","now","post","socket","timer","boardService","id","sessionStorage","boardId","board","_id","length","txt","possible","i","charAt","Math","floor","random","socketTypes","socketService","io","eventName","cb","on","off","emit","query","tokenLogin","loggedUser","JSON","stringify","user","login","creds","signup","logout","clear","userTypes","LOGIN","dispatch","userService","type","payload","boardTypes","SET_BOARD","SIGNUP","SET_USERS","SET_CARD","SET_LIST","CLEAR_BOARD","UPDATE_BOARD","name","value","getState","nextBoard","clone","boardReducer","_removeUserFromCards","SAVE_BOARD","users","lists","userToRemove","find","userId","forEach","cards","card","members","filter","memberId","prevBoard","clearTimeout","setTimeout","GET_CARD_BY_ID","cardId","findItems","list","UPDATE_CARD","_activityLog","log","HANDLE_DROP","sourceListId","sourceCardId","targetListId","targetCardId","posOffset","sourceListIdx","findIndex","splice","targetListIdx","sourceList","sourceCardIdx","targetList","targetCardIdx","cardIdx","listIdx","lstIdx","crd","crdIdx","field","activity","parse","unshift","createdAt","createdBy","initState","rootReducer","combineReducers","userReducer","state","boards","store","createStore","composeWithDevTools","applyMiddleware","thunk","CreateBoardModal","toggleModal","useDispatch","history","useHistory","useSelector","useSetState","title","labels","utilService","color","newBoard","setNewBoard","useKey","className","onClick","ev","stopPropagation","htmlFor","onChange","target","prevUserBoards","push","UserMenu","React","useState","anchorEl","setAnchorEl","handleClose","aria-controls","aria-haspopup","event","currentTarget","imgUrl","src","alt","focusable","viewBox","aria-hidden","d","open","Boolean","onClose","MenuItem","Header","useToggle","isModalOpen","to","width","height","role","fillRule","clipRule","fill","data-original","exact","useStyles","makeStyles","theme","pink","palette","getContrastText","backgroundColor","green","orange","deepOrange","blue","CardAvatars","classes","colorsPick","idx","AvatarGroup","max","map","member","fullname","Avatar","LabelEditor","labelToEdit","setLabelToEdit","colors","gLabels","updatedLabel","setUpdatedLabel","handleInput","labelsClone","label","labelsFiltered","Labels","togglePopover","searchTerm","setSearchTerm","newLabel","placeholder","toLowerCase","gLabel","gLabelId","some","labelId","DeleteCard","CardMenu","Menu","Object","entries","cmp","el","process","split","join","Card","handleDrop","attachments","desc","dueDate","cardVideo","setPosOffset","rectRef","useRef","useDrag","collect","monitor","isDragging","item","begin","current","getBoundingClientRect","drag","useDrop","accept","hover","top","getClientOffset","y","cardOver","isOver","getItem","hoverHeight","drop","ref","style","controls","clock","toDateString","ListMenu","listId","removeList","useEffect","typography","padding","spacing","ListPopover","undefined","aria-describedby","anchorOrigin","vertical","horizontal","transformOrigin","List","addCard","setTitle","isAddCard","toggleAddCard","setTimer","checklist","newCard","setNewCard","left","x","hoverWidth","listOver","getItemType","didDrop","onMouseDown","preventDefault","onMouseUp","focus","onFocus","select","UPDATE_LIST","onKeyUp","key","blur","ClickAwayListener","onClickAway","action","onSubmit","autoFocus","autoComplete","StyledMenu","withStyles","paper","border","props","elevation","getContentAnchorEl","CustomizedMenus","onSelectBoard","Button","variant","keepMounted","ListItemText","primary","ColorPicker","document","getElementById","background","onColorPick","BoardMembers","searchRes","setSearchRes","filteredRes","setFilteredRes","useUpdateEffect","addUser","removeUser","usersFiltered","SimplePopover","BoardHeader","Popover","pos","children","Popper","zIndex","placement","Board","isAddList","setIsAddList","DynCmp","setDynCmp","newList","setNewList","replace","ADD_CARD","REMOVE_LIST","details","ADD_LIST","HomeFooter","facebookImg","linkedinImg","twitterImg","HomeGetStarted","patternThree","body","scrollTop","documentElement","HomeHero","leftImg","rightImg","HomeMain","iconPerson","iconCog","iconChart","HomeQuotes","patternOne","patternTwo","xmlns","Home","root","LinearProgressWithLabel","Box","display","alignItems","mr","LinearProgress","minWidth","Typography","round","ProgressBar","progress","CardChecklists","cardChecklists","showInput","toggleInput","isChecked","newItem","setNewItem","onAddNewItem","aList","items","isNaN","progressStatus","Checkbox","inputProps","checked","onCheckBox","onRemoveItem","Members","every","email","addMember","removeMember","membersFiltered","CheckList","cardChecklist","setChecklist","DueDate","prevDueDate","dateFormat","setDateFormat","setDueDate","prevDate","toDate","getDate","toMonth","getMonth","toYear","getFullYear","timestamp","getTime","UPLOAD_URL","uploadImg","_upload","uploadVideo","FORM_DATA","FormData","append","files","Attachment","attachmentUrl","setAttachmentUrl","isUploaded","setIsUploaded","onUploadImg","secure_url","cx","cy","rx","ry","MoveCard","setTargetList","setDetails","lst","AddVideo","videoUrl","setVideoUrl","onUploadVideo","SideBar","cmpMap","AddToCard","Actions","CardModal","setEditables","useParams","activityToShow","slice","attachmentsToShow","closeModal","handleEdit","cycleCards","nextCardId","TextField","multiline","rows","currChecklist","attachment","index","moment","fromNow","LoginSingup","outClick","password","setUser","userCred","setUserCred","addEventListener","removeEventListener","goBack","contains","onHandleChange","DragLayer","useDragLayer","getSourceClientOffset","App","isLoading","setIsLoading","useBeforeunload","PrivateRoute","path","component","render","DndProvider","backend","MouseBackEnd","navigator","serviceWorker","register"],"mappings":"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","file":"static/js/main.0bece498.chunk.js","sourcesContent":["import Axios from 'axios'\r\nimport jwtDecode from 'jwt-decode'\r\nconst BASE_URL = process.env.NODE_ENV !== 'development' ? '/api/' : '//localhost:3030/api/'\r\nvar axios = Axios.create({\r\n  withCredentials: true\r\n})\r\n\r\nlet accessToken = null\r\n \r\nexport const httpService = {\r\n  get: (endpoint, data) => {\r\n    return ajax(endpoint, 'GET', data)\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data)\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data)\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data)\r\n  }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    if (newTokensNeeded(endpoint)) await getNewTokens()\r\n    const res = await axios({\r\n      url: BASE_URL + endpoint,\r\n      headers: { authorization: `bearer ${accessToken}` },\r\n      method,\r\n      data\r\n    })\r\n    if (typeof res.data.accessToken !== 'undefined') accessToken = res.data.accessToken\r\n    return res.data\r\n  } catch (err) {\r\n    console.error(`Had issues ${method}ing to server:\\n${err}`)\r\n    throw err\r\n  }\r\n}\r\n\r\nexport function newTokensNeeded(endpoint = '') {\r\n  if (endpoint.includes('logout') || endpoint.includes('login')) return false\r\n  const { exp } = jwtDecode(accessToken)\r\n  return Date.now() >= exp * 1000 ? true : false\r\n}\r\n\r\nexport async function getNewTokens() {\r\n  try {\r\n    const res = await axios.post(`${BASE_URL}auth/refresh_token`)\r\n    accessToken = res.data.accessToken\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n","import { httpService } from './httpService'\r\n\r\nexport const boardService = {\r\n  getById: id => {\r\n    sessionStorage.boardId = id\r\n    return httpService.get(`board/${id}`)\r\n  },\r\n  update: board => {\r\n    return httpService.put(`board/${board._id}`, board)\r\n  },\r\n  add: board => {\r\n    return httpService.post(`board`, board)\r\n  }\r\n}\r\n","import io from 'socket.io-client'\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030'\r\nexport var socket\r\n\r\nexport const socketTypes = {\r\n  JOIN_BOARD: 'JOIN_BOARD',\r\n  LEAVE_BOARD: 'LEAVE_BOARD',\r\n  BOARD_UPDATED: 'BOARD_UPDATED',\r\n}\r\n\r\nexport const socketService = {\r\n  setup() {\r\n    socket = io(BASE_URL)\r\n  },\r\n  terminate() {\r\n    socket = null\r\n  },\r\n  on(eventName, cb) {\r\n    socket.on(eventName, cb)\r\n  },\r\n  off(eventName, cb) {\r\n    socket.off(eventName, cb)\r\n  },\r\n  emit(eventName, data) {\r\n    socket.emit(eventName, data)\r\n  },\r\n}\r\n","import { boardService } from '../../service/boardService'\r\nimport utilService from '../../service/utilService'\r\nimport { socketService, socketTypes } from '../../service/socketService.js'\r\nimport { cloneDeep as clone, forEach } from 'lodash'\r\nimport { userTypes } from '../user/UserActions'\r\n\r\nexport const boardTypes = {\r\n  SET_BOARD: 'SET_BOARD',\r\n  SET_USERS: 'SET_USERS',\r\n  SET_CARD: 'SET_CARD',\r\n  SET_LIST: 'SET_LIST',\r\n}\r\n\r\nvar timer\r\n\r\nexport const CLEAR_BOARD = () => dispatch => {\r\n  dispatch({ type: boardTypes.SET_BOARD, payload: null })\r\n  dispatch({ type: boardTypes.SET_LIST, payload: null })\r\n  dispatch({ type: boardTypes.SET_CARD, payload: null })\r\n}\r\n\r\nexport const CLEAR_CARD = () => dispatch => {\r\n  dispatch({ type: boardTypes.SET_LIST, payload: null })\r\n  dispatch({ type: boardTypes.SET_CARD, payload: null })\r\n}\r\n\r\nexport const ADD_BOARD = board => async (dispatch, getState) => {\r\n  const prevBoard = clone(getState().boardReducer.board)\r\n  const prevUserBoards = clone(getState().userReducer.user.boards)\r\n  try {\r\n    const { boardId } = await boardService.add(board)\r\n    dispatch({ type: boardTypes.SET_BOARD, payload: { _id: boardId, ...board } })\r\n    dispatch({ type: userTypes.SET_NEW_USER_BOARD, payload: { _id: boardId, title: board.title } })\r\n  } catch (error) {\r\n    dispatch({ type: boardTypes.SET_BOARD, payload: prevBoard })\r\n    dispatch({ type: userTypes.SET_USER_BOARDS, payload: prevUserBoards })\r\n  }\r\n}\r\n\r\nexport const GET_BOARD_BY_ID = id => async dispatch => {\r\n  try {\r\n    const board = await boardService.getById(id)\r\n    dispatch({ type: boardTypes.SET_BOARD, payload: board })\r\n  } catch (error) {}\r\n}\r\n\r\nexport const UPDATE_BOARD = ({ name, value }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  nextBoard[name] = value\r\n  if (name === 'users') dispatch(_removeUserFromCards(nextBoard))\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nconst _removeUserFromCards = ({ users, lists }) => (dispatch, getState) => {\r\n  const prevUsers = getState().boardReducer.board.users\r\n  const { _id: userToRemove } = prevUsers.find(userId => !users.includes(userId)) || {}\r\n  if (userToRemove) {\r\n    lists.forEach(({ cards }) => {\r\n      cards.forEach(card => {\r\n        card.members = card.members.filter(memberId => memberId !== userToRemove)\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const SAVE_BOARD = nextBoard => (dispatch, getState) => {\r\n  const prevBoard = clone(getState().boardReducer.board)\r\n  dispatch({ type: boardTypes.SET_BOARD, payload: nextBoard })\r\n  clearTimeout(timer)\r\n  timer = setTimeout(async () => {\r\n    try {\r\n      await boardService.update(nextBoard)\r\n      socketService.emit(socketTypes.BOARD_UPDATED, nextBoard._id)\r\n    } catch (error) {\r\n      dispatch({ type: boardTypes.SET_BOARD, payload: prevBoard })\r\n      console.error('Could not update board', error)\r\n    }\r\n  }, 1500)\r\n}\r\n\r\nexport const ADD_LIST = list => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  list._id = utilService.makeId()\r\n  nextBoard.lists.push(list)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const UPDATE_LIST = ({ name, value, listId }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  const list = nextBoard.lists.find(list => list._id === listId)\r\n  list[name] = value\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const REMOVE_LIST = listId => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  const listIdx = nextBoard.lists.findIndex(list => list._id === listId)\r\n  nextBoard.lists.splice(listIdx, 1)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\n\r\nexport const ADD_CARD = (card, listId) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  card._id = utilService.makeId()\r\n  card = _activityLog(card, 'card')\r\n  var listIdx = nextBoard.lists.findIndex(list => list._id === listId)\r\n  nextBoard.lists[listIdx].cards.push(card)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const GET_CARD_BY_ID = cardId => (dispatch, getState) => {\r\n  const { lists } = getState().boardReducer.board || {}\r\n  if (lists) {\r\n    const { list, card } = findItems(lists, cardId)\r\n    dispatch({ type: boardTypes.SET_LIST, payload: list })\r\n    dispatch({ type: boardTypes.SET_CARD, payload: card })\r\n  }\r\n}\r\n\r\nexport const DELETE_CARD = cardId => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  var { cardIdx, list } = findItems(nextBoard.lists, cardId)\r\n  list.cards.splice(cardIdx, 1)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const UPDATE_CARD = ({ name, value, cardId }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  var { card } = findItems(nextBoard.lists, cardId)\r\n  card[name] = value\r\n  card = _activityLog(card, name)\r\n  console.log(card._id)\r\n  console.log(card.members)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const HANDLE_DROP = ({\r\n  type,\r\n  sourceListId,\r\n  sourceCardId,\r\n  targetListId,\r\n  targetCardId,\r\n  posOffset\r\n}) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  const { lists } = nextBoard\r\n\r\n  if (type === 'LIST') {\r\n    const sourceListIdx = lists.findIndex(list => list._id === sourceListId)\r\n    const [list] = lists.splice(sourceListIdx, 1)\r\n    const targetListIdx = lists.findIndex(list => list._id === targetListId)\r\n    lists.splice(targetListIdx + posOffset, 0, list)\r\n  } else if (type === 'CARD') {\r\n    const sourceList = lists.find(list => list._id === sourceListId)\r\n    const sourceCardIdx = sourceList.cards.findIndex(card => card._id === sourceCardId)\r\n    const [card] = sourceList.cards.splice(sourceCardIdx, 1)\r\n    const targetList = lists.find(list => list._id === targetListId)\r\n    let targetCardIdx = targetList.cards.findIndex(card => card._id === targetCardId || 0)\r\n    if (posOffset === null) {\r\n      //when transfering card via menu and not DnD\r\n      posOffset = sourceListId === targetListId && targetCardIdx >= sourceCardIdx ? 1 : 0\r\n      if (!targetCardId) targetCardIdx = targetList.cards.length\r\n    }\r\n    targetList.cards.splice(targetCardIdx + posOffset, 0, card)\r\n  }\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const findItems = (lists, cardId) => {\r\n  var card\r\n  var cardIdx\r\n  var listIdx\r\n  var list = lists.find((list, lstIdx) =>\r\n    list.cards.find((crd, crdIdx) => {\r\n      if (crd._id === cardId) {\r\n        card = crd\r\n        cardIdx = crdIdx\r\n        listIdx = lstIdx\r\n        return true\r\n      } else return false\r\n    })\r\n  )\r\n  return { list, listIdx, card, cardIdx }\r\n}\r\n\r\nconst _activityLog = (card, field) => {\r\n  const loggedUser = JSON.parse(sessionStorage.loggedUser)\r\n  var activity\r\n  switch (field) {\r\n    case 'card':\r\n      activity = 'Added this card'\r\n      break\r\n    case 'desc':\r\n      activity = 'Changed card description'\r\n      break\r\n    case 'members':\r\n      activity = 'Changed card members list'\r\n      break\r\n    case 'title':\r\n      activity = 'Changed card title'\r\n      break\r\n    case 'labels':\r\n      activity = 'Changed card labels'\r\n      break\r\n    case 'attachments':\r\n      activity = 'Added an attachment to card'\r\n      break\r\n    case 'dueDate':\r\n      activity = \"Changed card's due date\"\r\n      break\r\n    case 'checklist':\r\n      activity = 'Changed a checklist item'\r\n      break\r\n    default:\r\n      break\r\n  }\r\n  card.activity.unshift({ activity, createdAt: Date.now(), createdBy: loggedUser._id })\r\n  return card\r\n}\r\n","export default {\r\n  makeId(length = 8) {\r\n    var txt = ''\r\n    var possible =\r\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (let i = 0; i < length; i++) {\r\n      txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return txt\r\n  },\r\n  getRandomInt(min, max) {\r\n    min = Math.ceil(min)\r\n    max = Math.floor(max)\r\n    return Math.floor(Math.random() * (max - min + 1)) + min\r\n  },\r\n  capitalize(string = '') {\r\n    return string\r\n      .toLowerCase()\r\n      .split(/,|-| /)\r\n      .map(s => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ')\r\n  },\r\n  blurAll() {\r\n    if ('activeElement' in document) document.activeElement.blur()\r\n  },\r\n}\r\n","import { httpService } from './httpService.js'\r\n\r\nexport default {\r\n  query: query => httpService.get(`user/users/${query}`),\r\n\r\n  tokenLogin: async () => {\r\n    try {\r\n      const res = await httpService.post(`auth/refresh_token/login`)\r\n      sessionStorage.loggedUser = JSON.stringify(res.user)\r\n      return res\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  },\r\n\r\n  login: async creds => {\r\n    try {\r\n      const res = await httpService.post(`auth/login`, creds)\r\n      sessionStorage.loggedUser = JSON.stringify(res.user)\r\n      return res\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  },\r\n\r\n  signup: async creds => {\r\n    const { user } = await httpService.post('auth/signup', creds)\r\n    sessionStorage.loggedUser = JSON.stringify(user)\r\n    return user\r\n  },\r\n\r\n  logout: async () => {\r\n    await httpService.post('auth/logout')\r\n    sessionStorage.clear()\r\n  }\r\n}\r\n","import userService from '../../service/userService.js'\r\nimport { boardTypes, CLEAR_BOARD } from '../board/BoardActions.js'\r\n\r\nexport const userTypes = {\r\n  SET_LOGGED_USER: 'SET_LOGGED_USER',\r\n  SET_NEW_USER_BOARD: 'SET_NEW_USER_BOARD',\r\n  SET_USER_BOARDS: 'SET_USER_BOARDS'\r\n}\r\n\r\nexport const TOKEN_LOGIN = () => async dispatch => {\r\n  try {\r\n    const { user, board } = await userService.tokenLogin()\r\n    dispatch({ type: userTypes.SET_LOGGED_USER, payload: user })\r\n    dispatch({ type: boardTypes.SET_BOARD, payload: board })\r\n  } catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nexport const LOGIN = creds => async dispatch => {\r\n  try {\r\n    const { user, board } = await userService.login(creds)\r\n    dispatch({ type: userTypes.SET_LOGGED_USER, payload: user })\r\n    dispatch({ type: boardTypes.SET_BOARD, payload: board })\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n\r\nexport const SIGNUP = creds => async dispatch => {\r\n  try {\r\n    const user = await userService.signup(creds)\r\n    dispatch({ type: userTypes.SET_LOGGED_USER, payload: user })\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n\r\nexport const LOGOUT = () => async dispatch => {\r\n  try {\r\n    await userService.logout()\r\n    dispatch({ type: userTypes.SET_LOGGED_USER, payload: null })\r\n    dispatch(CLEAR_BOARD())\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n","import { boardTypes } from './BoardActions'\r\n\r\nconst initState = {\r\n  board: null,\r\n  list: null,\r\n  card: null\r\n}\r\n\r\nexport const boardReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case boardTypes.SET_BOARD:\r\n      return {\r\n        ...state,\r\n        board: payload\r\n      }\r\n    case boardTypes.SET_LIST:\r\n      return {\r\n        ...state,\r\n        list: payload\r\n      }\r\n    case boardTypes.SET_CARD:\r\n      return {\r\n        ...state,\r\n        card: payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { userTypes } from './UserActions'\r\n\r\nconst initState = {\r\n  user: sessionStorage.loggedUser ? JSON.parse(sessionStorage.loggedUser) : null\r\n}\r\n\r\nexport const userReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case userTypes.SET_LOGGED_USER:\r\n      return {\r\n        ...state,\r\n        user: payload\r\n      }\r\n    case userTypes.SET_USER_BOARDS:\r\n      return {\r\n        ...state,\r\n        user: { ...state.user, boards: payload }\r\n      }\r\n    case userTypes.SET_NEW_USER_BOARD:\r\n      return {\r\n        ...state,\r\n        user: { ...state.user, boards: [...state.user.boards, payload] }\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { boardReducer } from './board/BoardReducer'\r\nimport { userReducer } from './user/UserReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n  userReducer,\r\n  boardReducer,\r\n})\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n","import utilService from '../../../service/utilService'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useKey, useSetState } from 'react-use'\r\nimport { ADD_BOARD } from '../../../store/board/BoardActions'\r\n\r\nexport const CreateBoardModal = ({ toggleModal }) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const user = useSelector(state => state.userReducer.user)\r\n  const [newBoard, setNewBoard] = useSetState({\r\n    title: '',\r\n    labels: [\r\n      { _id: utilService.makeId(), name: 'Not Started', color: 'red' },\r\n      { _id: utilService.makeId(), name: 'In Progress', color: 'orange' },\r\n      { _id: utilService.makeId(), name: 'QA', color: 'yellow' },\r\n      { _id: utilService.makeId(), name: 'Done', color: 'green' },\r\n      { _id: utilService.makeId(), name: 'Production', color: 'blue' }\r\n    ],\r\n    users: [user],\r\n    lists: [\r\n      { _id: utilService.makeId(), title: 'To Do', cards: [] },\r\n      { _id: utilService.makeId(), title: 'Doing', cards: [] },\r\n      { _id: utilService.makeId(), title: 'Done', cards: [] },\r\n      { _id: utilService.makeId(), title: 'QA', cards: [] }\r\n    ],\r\n    activity: []\r\n  })\r\n\r\n  useKey('Escape', toggleModal)\r\n\r\n  const handleInput = ({ target: { name, value } }) => setNewBoard({ [name]: value })\r\n\r\n  const addBoard = () => {\r\n    dispatch(ADD_BOARD(newBoard))\r\n    toggleModal()\r\n    history.push('/board')\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-screen flex col ac js\" onClick={toggleModal}>\r\n      <div className=\"create-board-section\" onClick={ev => ev.stopPropagation()}>\r\n        <div className=\"create-board-container\">\r\n          <div className=\"title-container\">\r\n            <h2>Add a Board</h2>\r\n            <button className=\"exit-btn\" onClick={toggleModal}>\r\n              X\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"\">Board Title:</label>\r\n          <input name=\"title\" type=\"text\" value={newBoard.title} onChange={handleInput} />\r\n          <button onClick={addBoard}>Create Board</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { useDispatch } from 'react-redux';\r\nimport { LOGOUT } from '../../../store/user/UserActions';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport default function UserMenu({ user }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const toHome = () => {\r\n    handleClose();\r\n    history.push('/');\r\n  }\r\n\r\n  const onLogout =() => {\r\n    handleClose();\r\n    dispatch(LOGOUT());\r\n    history.push('/');\r\n  }\r\n  const onLogin =() => {\r\n    handleClose();\r\n    history.push('/login-signup');\r\n  }\r\n\r\n  return (\r\n    <div className=\"simple-menu-section\">\r\n      <div className=\"menu-btn\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        {user?.imgUrl ? <img src={user.imgUrl} alt=\"\" className={anchorEl? 'border': ''} /> : <svg focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n          <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\">\r\n          </path>\r\n        </svg>}\r\n      </div>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        // keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={toHome}>Home</MenuItem>\r\n        {/* <MenuItem onClick={handleClose}>Profile</MenuItem> */}\r\n        {user?._id? <MenuItem onClick={onLogout}>Logout</MenuItem>: <MenuItem onClick={onLogin}>Login/Signup</MenuItem>}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}","import { useSelector } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { useToggle } from 'react-use'\r\nimport { CreateBoardModal } from '../Board/CreateBoardModal/CreateBoardModal'\r\nimport UserMenu from './UserMenu/UserMenu'\r\n\r\nexport const Header = () => {\r\n  const { user } = useSelector(state => state.userReducer) || {}\r\n  const [isModalOpen, toggleModal] = useToggle(false)\r\n\r\n  return (\r\n    <>\r\n      <header className=\"flex ac jb\">\r\n        <Link className=\"logo-container\" to=\"/\">\r\n          <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\">\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              clipRule=\"evenodd\"\r\n              d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\"\r\n              fill=\"currentColor\"></path>\r\n          </svg>\r\n          <p>Tallo</p>\r\n        </Link>\r\n        <div className=\"nav-container flex\">\r\n          <nav className=\"flex jb\">\r\n            {user?._id && (\r\n              <button className=\"add-board-btn nav-item\" onClick={toggleModal}>\r\n                <svg width=\"512\" height=\"512\" viewBox=\"0 0 448 448\">\r\n                  <g>\r\n                    <path\r\n                      d=\"m408 184H272c-4.417969.0-8-3.582031-8-8V40c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8H40c-22.089844.0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969.0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40V272c0-4.417969 3.582031-8 8-8h136c22.089844.0 40-17.910156 40-40s-17.910156-40-40-40zm0 0\"\r\n                      fill=\"#fff\"\r\n                      data-original=\"#000000\"\r\n                    />\r\n                  </g>\r\n                </svg>\r\n              </button>\r\n            )}\r\n            <NavLink className=\"nav-item\" to=\"/\" exact>\r\n              Home\r\n            </NavLink>\r\n            <NavLink className=\"nav-item\" to=\"/board\">\r\n              Board\r\n            </NavLink>\r\n          </nav>\r\n          <UserMenu user={user}></UserMenu>\r\n        </div>\r\n      </header>\r\n      {isModalOpen && <CreateBoardModal toggleModal={toggleModal} />}\r\n    </>\r\n  )\r\n}\r\n","import Avatar from '@material-ui/core/Avatar'\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { blue, deepOrange, green, pink } from '@material-ui/core/colors'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pink: {\r\n    color: theme.palette.getContrastText(pink[500]),\r\n    backgroundColor: pink[500]\r\n  },\r\n  green: {\r\n    color: '#fff',\r\n    backgroundColor: green[500]\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500]\r\n  },\r\n  blue: {\r\n    color: theme.palette.getContrastText(blue[500]),\r\n    backgroundColor: blue[500]\r\n  }\r\n}))\r\n\r\nexport const CardAvatars = ({ members }) => {\r\n  const { users } = useSelector(state => state.boardReducer.board)\r\n\r\n  const classes = useStyles()\r\n  const colorsPick = idx => {\r\n    switch (+idx) {\r\n      case 0:\r\n        return classes.blue\r\n      case 1:\r\n        return classes.green\r\n      case 2:\r\n        return classes.pink\r\n      case 3:\r\n        return classes.orange\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return (\r\n    users[0] && (\r\n      <AvatarGroup max={4}>\r\n        {members?.map((member, idx) => {\r\n          const { fullname, imgUrl } = users.find(user => user._id === member) || {}\r\n          return (\r\n            fullname && (\r\n              <Avatar\r\n                key={member}\r\n                alt={fullname}\r\n                src={imgUrl ? imgUrl : '/'}\r\n                className={colorsPick(idx)}\r\n                // style={{zIndex:0}}\r\n              />\r\n            )\r\n          )\r\n        })}\r\n      </AvatarGroup>\r\n    )\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport utilService from '../../../../service/utilService'\r\nimport { cloneDeep as clone } from 'lodash'\r\nimport { UPDATE_BOARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const LabelEditor = ({ labelToEdit, setLabelToEdit, colors }) => {\r\n  const dispatch = useDispatch()\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const [updatedLabel, setUpdatedLabel] = useState({ ...labelToEdit })\r\n\r\n  const handleInput = ({ target: { name, value } }) => {\r\n    setUpdatedLabel({ ...updatedLabel, [name]: value })\r\n  }\r\n\r\n  const saveLabel = ev => {\r\n    const labelsClone = clone(gLabels)\r\n    if (!updatedLabel._id) {\r\n      updatedLabel._id = utilService.makeId()\r\n      labelsClone.push(updatedLabel)\r\n    } else {\r\n      const idx = gLabels.findIndex(label => label._id === labelToEdit._id)\r\n      labelsClone.splice(idx, 1, updatedLabel)\r\n    }\r\n    dispatch(UPDATE_BOARD({ name: 'labels', value: labelsClone }))\r\n    setLabelToEdit(null)\r\n  }\r\n\r\n  const deleteLabel = ev => {\r\n    const labelsClone = JSON.parse(JSON.stringify(gLabels))\r\n    const labelsFiltered = labelsClone.filter(label => label._id !== labelToEdit._id)\r\n    dispatch(UPDATE_BOARD({ name: 'labels', value: labelsFiltered }))\r\n    setLabelToEdit(null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button className=\"ass\" onClick={() => setLabelToEdit(null)}>\r\n        Back\r\n      </button>\r\n      <span className=\"title bold asc\">{updatedLabel._id ? 'Edit' : 'Add'} Label</span>\r\n      <label htmlFor=\"name\">Name</label>\r\n      <input id=\"name\" name=\"name\" type=\"text\" value={updatedLabel.name} onChange={handleInput} />\r\n      <label>Select Color</label>\r\n      <div className=\"grid c4 g6\">\r\n        {colors.map(color => (\r\n          <input\r\n            key={color}\r\n            type=\"button\"\r\n            name=\"color\"\r\n            value={color}\r\n            onClick={handleInput}\r\n            className={`pointer color fast ${color}${\r\n              updatedLabel.color === color ? ' selected' : ''\r\n            }`}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"flex jb\">\r\n        <button onClick={saveLabel}>Save</button>\r\n        {updatedLabel._id && <button onClick={deleteLabel}>Delete</button>}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\nimport { LabelEditor } from './LabelEditor'\r\n\r\nexport const Labels = ({ card: { labels, _id: cardId }, togglePopover }) => {\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [labelToEdit, setLabelToEdit] = useState(null)\r\n  const dispatch = useDispatch()\r\n  const newLabel = { _id: '', name: '', color: 'red' }\r\n  const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'pink', 'black']\r\n\r\n  const toggleLabel = gLabelId => {\r\n    dispatch(\r\n      UPDATE_CARD({\r\n        cardId,\r\n        name: 'labels',\r\n        value: labels.some(id => id === gLabelId)\r\n          ? labels.filter(id => id !== gLabelId)\r\n          : [...labels, gLabelId]\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"labels reusable flex col\">\r\n      <button className=\"close-btn\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      {!labelToEdit && (\r\n        <>\r\n          <span className=\"title bold asc\">Labels</span>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search Labels\"\r\n            value={searchTerm}\r\n            onChange={ev => setSearchTerm(ev.target.value.toLowerCase())}\r\n          />\r\n          <div className=\"list flex col\">\r\n            {gLabels.map(\r\n              gLabel =>\r\n                gLabel.name.toLowerCase().includes(searchTerm) && (\r\n                  <div className={`label fast flex jb pointer ${gLabel.color}`} key={gLabel._id}>\r\n                    <div className=\"f-110\" onClick={() => toggleLabel(gLabel._id)}>\r\n                      {gLabel.name}\r\n                      {labels.some(labelId => labelId === gLabel._id) && <span> V</span>}\r\n                    </div>\r\n                    <button className=\"fast\" onClick={() => setLabelToEdit(gLabel)}>\r\n                      edit\r\n                    </button>\r\n                  </div>\r\n                )\r\n            )}\r\n          </div>\r\n          <button onClick={() => setLabelToEdit(newLabel)}>Add Label</button>\r\n        </>\r\n      )}\r\n      {labelToEdit && (\r\n        <LabelEditor labelToEdit={labelToEdit} setLabelToEdit={setLabelToEdit} colors={colors} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport { DELETE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const DeleteCard = ({ card, togglePopover }) => {\r\n  const dispatch = useDispatch()\r\n  const { push } = useHistory()\r\n\r\n  const deleteCard = () => {\r\n    dispatch(DELETE_CARD(card._id))\r\n    push('/board')\r\n  }\r\n  \r\n  return (\r\n    <div className=\"reusable delete-card-section flex col\">\r\n      <span className=\"title asc\">Delete Card?</span>\r\n      <div className=\"flex\">\r\n        <button className=\"modal-btn\" onClick={deleteCard}>\r\n          Delete\r\n        </button>\r\n        <button className=\"modal-btn\" onClick={togglePopover}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\n\r\nexport const CardMenu = ({ togglePopover, anchorEl }) => {\r\n  const Menu = {\r\n    Labels,\r\n    DeleteCard\r\n  }\r\n\r\n  return (\r\n    <div className=\"card-menu flex col\">\r\n      {Object.entries(Menu).map(([name, cmp]) => (\r\n        <span\r\n          className=\"modal-btn fast\"\r\n          onClick={ev => togglePopover(ev, { cmp, el: anchorEl })}\r\n          key={name}>\r\n          <img src={process.env.PUBLIC_URL + `/${name}.png`} alt=\"\" />\r\n          {name.split(/(?=[A-Z])/).join(' ')}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/clock.22d4d1be.svg\";","import { useRef, useState } from 'react'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { CardAvatars } from '../avatars/CardAvatars'\r\nimport { CardMenu } from './CardMenu/CardMenu'\r\nimport clock from '../../../assets/clock.svg'\r\n\r\nexport const Card = ({ card, list, handleDrop, togglePopover }) => {\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const { _id: cardId, title, attachments, members, desc, dueDate, labels, cardVideo } = card || {}\r\n  const [posOffset, setPosOffset] = useState(0)\r\n  const rectRef = useRef(null)\r\n  const history = useHistory()\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    collect: monitor => ({ isDragging: !!monitor.isDragging() }),\r\n    item: { type: 'CARD' },\r\n    begin: () => {\r\n      const { height, width } = rectRef.current.getBoundingClientRect()\r\n      return {\r\n        type: 'CARD',\r\n        card,\r\n        sourceCardId: cardId,\r\n        sourceListId: list._id,\r\n        height,\r\n        width\r\n      }\r\n    }\r\n  })\r\n\r\n  const [{ cardOver, hoverHeight }, drop] = useDrop({\r\n    accept: 'CARD',\r\n    hover: (item, monitor) => {\r\n      const { top, height } = rectRef.current.getBoundingClientRect()\r\n      setPosOffset(top + height / 2 > monitor.getClientOffset().y ? 0 : 1)\r\n    },\r\n    collect: monitor => ({\r\n      cardOver: monitor.isOver() && monitor.getItem().sourceCardId !== cardId,\r\n      hoverHeight: monitor.getItem()?.height\r\n    }),\r\n    drop: item => {\r\n      // handleDrop is not passed as prop when this instance is the drag layer to prevent this instance from accepting itself.\r\n      handleDrop && handleDrop({ ...item, targetCardId: cardId, targetListId: list._id, posOffset })\r\n    }\r\n  })\r\n\r\n  const openModal = () => history.push(`/board/modal/${cardId}`)\r\n\r\n  const openMenu = ev => togglePopover(ev, CardMenu, cardId, rectRef.current)\r\n\r\n  return (\r\n    <div ref={drop} className={`card-drop-container${isDragging ? ' hidden' : ''}`}>\r\n      <div ref={rectRef} className=\"rect-ref\">\r\n        {cardOver && !posOffset && (\r\n          <div className=\"placeholder top\" style={{ height: `${hoverHeight}px` }} />\r\n        )}\r\n        <div ref={drag} className=\"card-preview flex col fast m8 sbl\">\r\n          <div onClick={openModal} className={`container f-110 flex col m8 sbl`}>\r\n            <span className=\"title\">{title}</span>\r\n            <button className=\"menu-btn\" onClick={openMenu}>\r\n              \r\n            </button>\r\n            <span className=\"desc fw\">{desc}</span>\r\n            {cardVideo && !attachments[0] && (\r\n              <video controls>\r\n                <source src={cardVideo} />\r\n              </video>\r\n            )}\r\n            {attachments[0] && (\r\n              <div className=\"attachments\">\r\n                <img src={attachments[0]} alt=\"\" />\r\n              </div>\r\n            )}\r\n            {labels[0] && (\r\n              <div className=\"labels flex\">\r\n                {gLabels.map(\r\n                  gLabel =>\r\n                    labels.some(label => label === gLabel._id) && (\r\n                      <div className={`label ${gLabel.color}`} key={gLabel._id}></div>\r\n                    )\r\n                )}\r\n              </div>\r\n            )}\r\n            {(!!dueDate || !!members[0]) && (\r\n              <div className=\"flex jb\">\r\n                {!!dueDate && (\r\n                  <div className=\"due-date flex ac\">\r\n                    <img src={clock} alt=\"\" />\r\n                    <p>{new Date(dueDate).toDateString()}</p>\r\n                  </div>\r\n                )}\r\n                <div className=\"spacer\" />\r\n                {members[0] && <CardAvatars members={members} />}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {cardOver && !!posOffset && (\r\n          <div className=\"placeholder bottom\" style={{ height: `${hoverHeight}px` }} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\nimport { useEffect } from 'react'\r\n\r\nexport const ListMenu = ({ listId, removeList, handleClose }) => {\r\n\r\n  useEffect(() => {\r\n    console.log(listId);\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"list-menu reusable flex col\">\r\n      <span className=\"title asc\">Delete List?</span>\r\n      <div className=\"flex\">\r\n        <button className=\"modal-btn\" onClick={() => removeList(listId)}>\r\n          Delete\r\n        </button>\r\n        <button className=\"modal-btn\" onClick={handleClose}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { ListMenu } from './ListMenu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport const ListPopover = ({removeList, listId}) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  return (\r\n    <div className=\"popover-section\">\r\n      <button className=\"delete-btn\" aria-describedby={id} onClick={handleClick}>\r\n        \r\n      </button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <ListMenu listId={listId} removeList={removeList} handleClose={handleClose}></ListMenu>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import { ClickAwayListener } from '@material-ui/core'\r\nimport { useState, useRef } from 'react'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UPDATE_LIST } from '../../../store/board/BoardActions'\r\nimport { Card } from '../Card/Card'\r\nimport { ListMenu } from './ListMenu/ListMenu'\r\nimport { ListPopover } from './ListMenu/ListPopover'\r\nimport { useToggle, useSetState, useUpdateEffect } from 'react-use'\r\n\r\nexport const List = ({ list, addCard, handleDrop, removeList, togglePopover }) => {\r\n  const rectRef = useRef(null)\r\n  const dispatch = useDispatch()\r\n  const { _id: listId, cards } = list\r\n  const [title, setTitle] = useState(list.title)\r\n  const [isAddCard, toggleAddCard] = useToggle(false)\r\n  const [posOffset, setPosOffset] = useState(null)\r\n  const [timer, setTimer] = useState(null)\r\n  const [newCard, setNewCard] = useSetState({\r\n    title: '',\r\n    activity: [],\r\n    attachments: [],\r\n    checklist: [],\r\n    desc: '',\r\n    dueDate: '',\r\n    labels: [],\r\n    members: []\r\n  })\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    collect: monitor => ({\r\n      isDragging: !!monitor.isDragging()\r\n    }),\r\n    item: { type: 'LIST' },\r\n    begin: () => {\r\n      const { height, width } = rectRef.current.getBoundingClientRect()\r\n      return {\r\n        type: 'LIST',\r\n        list,\r\n        sourceListId: listId,\r\n        width,\r\n        height\r\n      }\r\n    }\r\n  })\r\n\r\n  const [{ cardOver, listOver, hoverWidth, hoverHeight }, drop] = useDrop({\r\n    accept: ['CARD', 'LIST'],\r\n    hover: (item, monitor) => {\r\n      const { left, width } = rectRef.current.getBoundingClientRect()\r\n      setPosOffset(left + width / 2 > monitor.getClientOffset().x ? 0 : 1)\r\n    },\r\n    collect: monitor => ({\r\n      hoverWidth: monitor.getItem()?.width,\r\n      hoverHeight: monitor.getItem()?.height,\r\n      listOver:\r\n        monitor.isOver() &&\r\n        monitor.getItemType() === 'LIST' &&\r\n        monitor.getItem().sourceListId !== listId,\r\n      cardOver:\r\n        monitor.isOver() &&\r\n        monitor.getItemType() === 'CARD' &&\r\n        (!cards.length || (cards.length === 1 && monitor.getItem().sourceCardId === cards[0]._id))\r\n    }),\r\n    drop: (item, monitor) => {\r\n      if ((item.type === 'CARD' && !monitor.didDrop()) || item.type === 'LIST' || !cards.length) {\r\n        // handleDrop is not passed as prop when this instance is the drag layer to prevent this instance from accepting itself.\r\n        handleDrop && handleDrop({ ...item, targetListId: listId, posOffset })\r\n      }\r\n    }\r\n  })\r\n\r\n  const handleInput = ({ target: { name, value } }) => setNewCard({ [name]: value })\r\n\r\n  const handleEdit = ({ target: { name, value } }) => {\r\n    setTitle(value)\r\n    clearTimeout(timer)\r\n    setTimer(\r\n      setTimeout(() => {\r\n        dispatch(UPDATE_LIST({ name, value, listId }))\r\n      }, 500)\r\n    )\r\n  }\r\n\r\n  const blurTitle = ({ target, key }) => {\r\n    if (key === 'Enter' || key === 'Escape') target.blur()\r\n  }\r\n\r\n  const onAddCard = ev => {\r\n    ev.preventDefault()\r\n    addCard(newCard, listId)\r\n    toggleAddCard(false)\r\n    setNewCard({\r\n      title: '',\r\n      activity: [],\r\n      attachments: [],\r\n      checklist: [],\r\n      desc: '',\r\n      dueDate: '',\r\n      labels: [],\r\n      members: []\r\n    })\r\n  }\r\n\r\n  const openMenu = ev => togglePopover(ev, { cmp: ListMenu, listId: listId, el: rectRef.current })\r\n\r\n  return (\r\n    <div ref={drop} className={`list-drop-container${isDragging ? ' hidden' : ''}`}>\r\n      <div ref={rectRef} className=\"rect-ref flex\">\r\n        {listOver && !posOffset && (\r\n          <div\r\n            className=\"placeholder left\"\r\n            style={{\r\n              width: `${hoverWidth}px`,\r\n              height: `${hoverHeight}px`\r\n            }}\r\n          />\r\n        )}\r\n        <div ref={drag} className={`list flex col`}>\r\n          <div className=\"list-header flex jb pointer\">\r\n            <input\r\n              name=\"title\"\r\n              value={title}\r\n              className=\"list-title fast f-110\"\r\n              onMouseDown={ev => ev.preventDefault()}\r\n              onMouseUp={ev => ev.target.focus()}\r\n              onFocus={ev => ev.target.select()}\r\n              onChange={handleEdit}\r\n              onKeyUp={blurTitle}\r\n            />\r\n            <ListPopover className=\"delete-btn\" listId={listId} removeList={removeList} />\r\n          </div>\r\n          <div className=\"cards flex col\">\r\n            {cards.map(card => (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                list={list}\r\n                handleDrop={handleDrop}\r\n                togglePopover={togglePopover}\r\n              />\r\n            ))}\r\n            {cardOver && (\r\n              <div className=\"placeholder-card\" style={{ height: `${hoverHeight}px` }} />\r\n            )}\r\n          </div>\r\n          {isAddCard && (\r\n            <ClickAwayListener onClickAway={() => toggleAddCard(false)}>\r\n              <form action=\"\" className=\"add-card-form\" onSubmit={onAddCard}>\r\n                <input\r\n                  autoFocus\r\n                  autoComplete=\"off\"\r\n                  placeholder=\"Enter a title for this card...\"\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  value={newCard.title}\r\n                  onChange={handleInput}\r\n                />\r\n                <div className=\"add-card-btns flex jb\">\r\n                  <button className=\"add-card-btn\">Add Card</button>\r\n                  <button onClick={toggleAddCard} className=\"close-btn\">\r\n                    X\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </ClickAwayListener>\r\n          )}\r\n          {!isAddCard && (\r\n            <div className=\"add-card\" onClick={toggleAddCard}>\r\n              <span>+</span> Add another card\r\n            </div>\r\n          )}\r\n        </div>\r\n        {listOver && !!posOffset && (\r\n          <div\r\n            className=\"placeholder right\"\r\n            style={{\r\n              width: `${hoverWidth}px`,\r\n              height: `${hoverHeight}px`\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { useDispatch } from 'react-redux';\r\nimport { GET_BOARD_BY_ID } from '../../../../store/board/BoardActions';\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nexport default function CustomizedMenus({ boards }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const dispatch = useDispatch()\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const onSelectBoard = (boardId) => {\r\n    dispatch(GET_BOARD_BY_ID(boardId))\r\n    handleClose()\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"boards-select-section\">\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n        className=\"boards-select-btn\"\r\n      >\r\n        <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\" fill=\"currentColor\"></path></svg>\r\n        <div>Boards </div>\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {boards?.map(board => (\r\n          <MenuItem onClick={() => onSelectBoard(board._id)} className=\"boards-select-item\" key={board._id}>\r\n            <ListItemText primary={board.title} />\r\n          </MenuItem>\r\n        ))}\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport const ColorPicker = () => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const colors = ['red', 'orange', 'gold', 'green', 'gradient', 'purple', 'pink', 'gray']\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const onColorPick = (color) => {\r\n    var root = document.getElementById('root')\r\n    color = color === 'gradient' ? 'linear-gradient(#006f83, #00aecc)' : color\r\n    root.style.background = color\r\n    handleClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"color-picker-section\">\r\n      <Button className=\"color-picker-btn\" aria-describedby={id} variant=\"contained\" onClick={handleClick}>\r\n        <svg width=\"512\" height=\"512\" viewBox=\"0 0 384 384\"><path d=\"M192 0C85.973 0 0 85.973 0 192s85.973 192 192 192a31.96 31.96 0 0 0 32-32c0-8.32-3.093-15.787-8.32-21.44-5.013-5.653-8-13.013-8-21.227a31.96 31.96 0 0 1 32-32h37.653c58.88 0 106.667-47.787 106.667-106.667C384 76.373 298.027 0 192 0zM74.667 192a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64zm64-85.333a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm106.666 0a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm64 85.333a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64z\" fill=\"#fff\" /></svg>\r\n      </Button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <div className=\"colors-section\">\r\n          <h3>Change Background</h3>\r\n          <div className=\"colors-container\">\r\n            {colors.map(color => {\r\n              return <div key={color} className={`color-item ${color}`} onClick={() => onColorPick(color)}></div>\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}","import { useState } from 'react'\r\nimport { useUpdateEffect } from 'react-use'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_BOARD } from '../../../../store/board/BoardActions'\r\nimport { GET_USERS } from '../../../../store/user/UserActions'\r\nimport userService from '../../../../service/userService'\r\n\r\nexport const BoardMembers = ({ setAnchorEl }) => {\r\n  const dispatch = useDispatch()\r\n  const users = useSelector(state => state.boardReducer.board.users) || {}\r\n  const loggedUser = useSelector(state => state.userReducer.user._id) || {}\r\n  const [searchRes, setSearchRes] = useState([])\r\n  const [filteredRes, setFilteredRes] = useState([])\r\n\r\n  const handleInput = async ({ target: { value } }) => {\r\n    setSearchRes(value ? await userService.query(value) : [])\r\n  }\r\n\r\n  useUpdateEffect(() => {\r\n    setFilteredRes(searchRes.filter(res => !users.some(user => user._id === res._id)))\r\n  }, [searchRes, users])\r\n\r\n  const addUser = ({ currentTarget: { value } }) => {\r\n    const user = searchRes.find(user => user._id === value)\r\n    dispatch(UPDATE_BOARD({ name: 'users', value: [...users, user] }))\r\n  }\r\n\r\n  const removeUser = ({ currentTarget: { value } }) => {\r\n    if (value === loggedUser) return\r\n    const usersFiltered = users.filter(user => user._id !== value)\r\n    dispatch(UPDATE_BOARD({ name: 'users', value: usersFiltered }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"members reusable board-members flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={() => setAnchorEl(null)}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Members</span>\r\n      <input type=\"text\" placeholder=\"Search Members\" onChange={handleInput} />\r\n      <div className=\"list flex col\">\r\n        {users.map(({ _id, fullname }) => (\r\n          <button\r\n            className={`flex ac jb${_id === loggedUser ? ' logged-user' : ''}`}\r\n            key={_id}\r\n            value={_id}\r\n            onClick={removeUser}>\r\n            <span>{fullname}</span>\r\n            <span>X</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {filteredRes[0] && (\r\n        <div className=\"list flex col\">\r\n          <span className=\"bold\">Users</span>\r\n          {filteredRes.map(({ _id, fullname }) => (\r\n            <button className=\"flex ac jb\" key={_id} value={_id} onClick={addUser}>\r\n              <span>{fullname}</span>\r\n              <span>+</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Popover from '@material-ui/core/Popover'\r\nimport Button from '@material-ui/core/Button'\r\nimport { BoardMembers } from '../BoardMembers/BoardMembers'\r\n\r\n// const useStyles = makeStyles(theme => ({\r\n//   typography: {\r\n//     padding: theme.spacing(2)\r\n//   }\r\n// }))\r\n\r\nexport default function SimplePopover({ users }) {\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n\r\n  const handleClick = event => setAnchorEl(event.currentTarget)\r\n\r\n  const handleClose = () => setAnchorEl(null)\r\n\r\n  const open = Boolean(anchorEl)\r\n  const id = open ? 'simple-popover' : undefined\r\n\r\n  return (\r\n    <div className=\"board-members-section\">\r\n      <Button\r\n        className=\"board-members-btn\"\r\n        aria-describedby={id}\r\n        variant=\"contained\"\r\n        onClick={handleClick}>\r\n        <img src={process.env.PUBLIC_URL + `/User.png`} alt=\"\" />\r\n        <div>Board Members </div>\r\n      </Button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center'\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center'\r\n        }}>\r\n        <BoardMembers users={users} setAnchorEl={setAnchorEl} />\r\n      </Popover>\r\n    </div>\r\n  )\r\n}\r\n","import CustomizedMenus from './BoardsSelect/BoardsSelect'\r\nimport { ColorPicker } from './ColorPicker/ColorPicker'\r\nimport SimplePopover from './Popover/Popover'\r\n\r\nexport const BoardHeader = ({ boards, title, users }) => {\r\n  return (\r\n    <div className=\"board-header-section\">\r\n      <CustomizedMenus boards={boards} />\r\n      <h2>{title}</h2>\r\n      <SimplePopover users={users} />\r\n      <ColorPicker />\r\n    </div>\r\n  )\r\n}","import { ClickAwayListener, Popper } from '@material-ui/core'\r\n\r\nexport const Popover = ({ anchorEl, pos, children, togglePopover}) => {\r\n  return (\r\n    anchorEl && (\r\n      <ClickAwayListener onClickAway={togglePopover}>\r\n        <Popper\r\n          onClick={ev => ev.stopPropagation()}\r\n          open={!!anchorEl}\r\n          anchorEl={anchorEl}\r\n          style={{zIndex:100}}\r\n          placement={pos}>\r\n          {children}\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    )\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useSetState } from 'react-use'\r\nimport { useDrop } from 'react-dnd'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  boardTypes,\r\n  HANDLE_DROP,\r\n  ADD_CARD,\r\n  ADD_LIST,\r\n  REMOVE_LIST,\r\n  GET_CARD_BY_ID\r\n} from '../../store/board/BoardActions'\r\nimport { List } from '../../components/Board/List/List'\r\nimport { socketService, socketTypes, socket } from '../../service/socketService.js'\r\nimport { BoardHeader } from '../../components/Board/BoardHeader/BoardHeader'\r\nimport { useHistory } from 'react-router'\r\nimport { ClickAwayListener } from '@material-ui/core'\r\nimport { Popover } from '../../components/Board/ReUsables/Popover/Popover'\r\n\r\nexport const Board = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { board, list, card } = useSelector(state => state.boardReducer) || {}\r\n  const { lists, title, _id, users } = board || {}\r\n  const { user } = useSelector(state => state.userReducer) || {}\r\n  const { boards } = user || {}\r\n  const [isAddList, setIsAddList] = useState(false)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [DynCmp, setDynCmp] = useState(null)\r\n  const [newList, setNewList] = useSetState({\r\n    title: '',\r\n    cards: []\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!boards[0]) history.replace('/create-modal')\r\n    else {\r\n      if (socket) {\r\n        socketService.emit(socketTypes.JOIN_BOARD, _id)\r\n        socketService.on(socketTypes.BOARD_UPDATED, nextBoard => {\r\n          dispatch({ type: boardTypes.SET_BOARD, payload: nextBoard })\r\n        })\r\n      }\r\n    }\r\n    return () => {\r\n      socketService.emit(socketTypes.LEAVE_BOARD, _id)\r\n      socketService.off(socketTypes.BOARD_UPDATED)\r\n    }\r\n  }, [])\r\n\r\n  const addCard = (card, listId) => {\r\n    dispatch(ADD_CARD(card, listId))\r\n  }\r\n\r\n  const addList = ev => {\r\n    ev.preventDefault()\r\n    dispatch(ADD_LIST(newList))\r\n    setIsAddList(false)\r\n    setNewList({ title: '', cards: [] })\r\n  }\r\n\r\n  const removeList = listId => dispatch(REMOVE_LIST(listId))\r\n\r\n  const handleInput = ({ target: { name, value } }) => setNewList({ [name]: value })\r\n\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: 'LIST',\r\n    collect: monitor => ({\r\n      isOver: !!monitor.isOver()\r\n    })\r\n  })\r\n\r\n  const handleDrop = details => dispatch(HANDLE_DROP(details))\r\n\r\n  const togglePopover = (ev, cmp, cardId, el) => {\r\n    ev.stopPropagation()\r\n    cardId && dispatch(GET_CARD_BY_ID(cardId))\r\n    cmp && setDynCmp(() => cmp)\r\n    setAnchorEl(el ? el : ev.target !== anchorEl && cmp ? ev.target : null)\r\n  }\r\n\r\n  return (\r\n    <main ref={drop} className=\"board\">\r\n      <BoardHeader title={title} users={users} boards={boards} />\r\n      {board && (\r\n        <section className=\"container flex\">\r\n          {lists.map(list => (\r\n            <List\r\n              list={list}\r\n              key={list._id}\r\n              removeList={removeList}\r\n              addCard={addCard}\r\n              handleDrop={handleDrop}\r\n              togglePopover={togglePopover}\r\n            />\r\n          ))}\r\n          {isAddList && (\r\n            <ClickAwayListener onClickAway={() => setIsAddList(false)}>\r\n              <form action=\"\" className=\"add-list-form\" onSubmit={addList}>\r\n                <input\r\n                  placeholder=\"Enter a title for this list...\"\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  value={newList.title}\r\n                  onChange={handleInput}\r\n                />\r\n                <div className=\"add-list-btns\">\r\n                  <button className=\"add-list-btn\">Add list</button>\r\n                  <button\r\n                    onClick={ev => {\r\n                      ev.preventDefault()\r\n                      setIsAddList(false)\r\n                    }}\r\n                    className=\"close-btn\">\r\n                    X\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </ClickAwayListener>\r\n          )}\r\n          {!isAddList && (\r\n            <div className=\"add-list-container\" onClick={() => setIsAddList(true)}>\r\n              <p>\r\n                <span>+</span> Add another list\r\n              </p>\r\n            </div>\r\n          )}\r\n        </section>\r\n      )}\r\n      <Popover anchorEl={anchorEl} togglePopover={togglePopover} pos=\"right-start\">\r\n        {DynCmp && (\r\n          <DynCmp anchorEl={anchorEl} togglePopover={togglePopover} list={list} card={card} />\r\n        )}\r\n      </Popover>\r\n    </main>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-facebook.229c75a0.svg\";","export default __webpack_public_path__ + \"static/media/icon-linkedin.416b1433.svg\";","export default __webpack_public_path__ + \"static/media/icon-twitter.1d5c6d5e.svg\";","import { NavLink } from 'react-router-dom';\r\nimport facebookImg from '../../../assets/icon-facebook.svg';\r\nimport linkedinImg from '../../../assets/icon-linkedin.svg';\r\nimport twitterImg from '../../../assets/icon-twitter.svg';\r\n\r\n\r\nexport const HomeFooter = () => {\r\n\r\n  return (\r\n    <footer className=\"main-grid\">\r\n      <section className=\"footer-container\">\r\n        <nav>\r\n          <div className=\"logo-container\">\r\n            <div className=\"logo-div\">\r\n              <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\" fill=\"currentColor\"></path></svg>\r\n              <p>Tallo</p>\r\n            </div>\r\n            <div className=\"routes-container\">\r\n              <NavLink className=\"nav-item\" to=\"/\" exact>Home</NavLink>\r\n              <NavLink className=\"nav-item\" to=\"/board\">Board</NavLink>\r\n            </div>\r\n          </div>\r\n          <div className=\"address\">\r\n            <p>987 Hillcrest Lane</p>\r\n            <p>Irvine, CA</p>\r\n            <p>California 92714</p>\r\n            <p>Call Us : 949-833-7432</p>\r\n          </div>\r\n        </nav>\r\n        <div className=\"right-footer-container\">\r\n          <div className=\"social-container\">\r\n            <img src={facebookImg} alt=\"\" />\r\n            <img src={linkedinImg} alt=\"\" />\r\n            <img src={twitterImg} alt=\"\" />\r\n          </div>\r\n          <p>Copyright 2020. All Rights Reserved</p>\r\n        </div>\r\n      </section>\r\n    </footer>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-3.4bc172f9.svg\";","import { useHistory } from 'react-router';\r\nimport patternThree from '../../../assets/bg-pattern-home-3.svg';\r\n\r\n\r\nexport const HomeGetStarted = () => {\r\n  const history = useHistory();\r\n\r\n  const onLogin = () => {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n    history.push('/login-signup');\r\n  }\r\n\r\n  return (\r\n    <div className=\"get-started-section main-grid\">\r\n      <div className=\"container\">\r\n        <img src={patternThree} alt=\"\" />\r\n        <main>\r\n          <h2>Ready to get started?</h2>\r\n          <button onClick={onLogin}>Login / Signup</button>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-1.270440fb.svg\";","export default __webpack_public_path__ + \"static/media/bg-pattern-home-2.889d5d8c.svg\";","import leftImg from '../../../assets/bg-pattern-home-1.svg';\r\nimport rightImg from '../../../assets/bg-pattern-home-2.svg';\r\n\r\n\r\nexport const HomeHero = () => {\r\n\r\n  return (\r\n    <div className=\"hero-section\">\r\n      <img className=\"left-img\" src={leftImg} alt=\"\" />\r\n      <div className=\"hero-title\">\r\n        <h1>Manage the</h1>\r\n        <h1>best <span>projects</span></h1>\r\n      </div>\r\n      <div className=\"side-container\">\r\n        <div></div>\r\n        <p>\r\n        Tallo helps teams work more collaboratively and get more done.\r\n        Tallos boards, lists, and cards enable teams to organize and prioritize projects in a fun,\r\n         flexible, and rewarding way.\r\n      </p>\r\n        <img className=\"right-img\" src={rightImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-cog.c5d2403f.svg\";","export default __webpack_public_path__ + \"static/media/icon-chart.8de3d4d2.svg\";","export default __webpack_public_path__ + \"static/media/icon-person.0a313a85.svg\";","import iconCog from '../../../assets/icon-cog.svg';\r\nimport iconChart from '../../../assets/icon-chart.svg';\r\nimport iconPerson from '../../../assets/icon-person.svg';\r\n\r\n\r\nexport const HomeMain = () => {\r\n\r\n  return (\r\n    <div className=\"main-section main-grid\">\r\n      <section className=\"main-container\">\r\n        <div className=\"design-div\"></div>\r\n        <h2>Build &amp; manage your projects any time, anywhere.</h2>\r\n        <div className=\"secondary-container\">\r\n          <div className=\"item-container\">\r\n            <img src={iconPerson} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Work with any team</h4>\r\n              <p>Whether its for work, a side project or even the next family vacation, Tallo helps your team stay organized.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"item-container\">\r\n            <img src={iconCog} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Always In Sync</h4>\r\n              <p>No matter where you are, Tallo stays in sync across all of your devices. Collaborate with your team anywhere.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"item-container\">\r\n            <img src={iconChart} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Information at a glance</h4>\r\n              <p>Dive into the details by adding attachments, due dates, and more directly to Tallo cards.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-4-about-3.aacd4e03.svg\";","export default __webpack_public_path__ + \"static/media/bg-pattern-home-5.95a2a621.svg\";","import patternOne from '../../../assets/bg-pattern-home-4-about-3.svg';\r\nimport patternTwo from '../../../assets/bg-pattern-home-5.svg';\r\n\r\n\r\nexport const HomeQuotes = () => {\r\n\r\n  return (\r\n    <div className=\"quotes-section main-grid\">\r\n    <img src={patternOne} alt=\"\" className=\"bgc-img-1\" />\r\n    <img src={patternTwo} alt=\"\" className=\"bgc-img-2\" />\r\n    <section className=\"quotes-container\">\r\n      <h1>Delivering real results for top companies. Some of our <span>success stories.</span></h1>\r\n      <main>\r\n        <div className=\"item\">\r\n          <p>Its easy to get your team up and running with Tallo. Weve collected all of the boards and tools your team needs to succeed in one handy resource.</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Tal Harouvi</h4>\r\n            <p>Full Stack Developer at Tallo</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1607248716/users/tal_fofpvu.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"item\">\r\n          <p>Integrate the apps your team already uses directly into your workflow. Power-Ups turn Tallo boards into living applications to meet your team's unique business needs.</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Arie Moldawsky</h4>\r\n            <p>Full Stack Developer at Tallo</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611138519/users/66681D8E-0B6F-4F34-9FED-CCF9DF3B1E69_mftdzu.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"item\">\r\n          <p> I've had absolutely nothing to do with this app untill they've reached me. I'm just an Israeli NBA Player and an ambassador of the app.</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Deni Avdija</h4>\r\n            <p>NBA Player at Washington Wizards</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1610031903/deni_whuhmk.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </section>\r\n  </div>\r\n  )\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { useEffect } from 'react'\r\nimport { HomeFooter } from '../../components/Home/HomeFooter/HomeFooter'\r\nimport { HomeGetStarted } from '../../components/Home/HomeGetStarted/HomeGetStarted'\r\nimport { HomeHero } from '../../components/Home/HomeHero/HomeHero'\r\nimport { HomeMain } from '../../components/Home/HomeMain/HomeMain'\r\nimport { HomeQuotes } from '../../components/Home/HomeQuotes/HomeQuotes'\r\nimport { LOGIN } from '../../store/user/UserActions'\r\n\r\nexport const Home = props => {\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    var root = document.getElementById('root')\r\n    if (root.style.background !== 'linear-gradient(#006f83, #00aecc)') root.style.background = 'linear-gradient(#006f83, #00aecc)'\r\n  }, [])\r\n\r\n  return (\r\n    <main className=\"home main-grid\">\r\n      <HomeHero></HomeHero>\r\n      <HomeMain></HomeMain>\r\n      <HomeQuotes></HomeQuotes>\r\n      <HomeGetStarted></HomeGetStarted>\r\n      <HomeFooter></HomeFooter>\r\n    </main>\r\n  )\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nfunction LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box width=\"100%\" mr={1}>\r\n        <LinearProgress variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box minWidth={35}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n  value: PropTypes.number.isRequired\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%'\r\n  }\r\n})\r\n\r\nexport default function ProgressBar({ progress }) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <LinearProgressWithLabel value={progress} />\r\n    </div>\r\n  )\r\n}\r\n","import { Checkbox } from '@material-ui/core'\r\nimport { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../store/board/BoardActions'\r\nimport { useToggle, useSetState } from 'react-use'\r\nimport ProgressBar from './ProgressBar/ProgressBar'\r\nimport utilService from '../../../service/utilService'\r\n\r\nexport const CardChecklists = ({ checklist, cardChecklists, cardId }) => {\r\n  const dispatch = useDispatch()\r\n  const [showInput, toggleInput] = useToggle(false)\r\n  const [newItem, setNewItem] = useSetState({\r\n    _id: utilService.makeId(),\r\n    desc: '',\r\n    isChecked: false\r\n  })\r\n\r\n  const progressStatus = () => {\r\n    var checkedItems = checklist.items.filter(item => item.isChecked === true)\r\n    let res = (+checkedItems.length / +checklist.items.length) * 100\r\n    if (isNaN(res)) res = 0\r\n    return res\r\n  }\r\n\r\n  const onCheckBox = idx => {\r\n    let list = JSON.parse(JSON.stringify(checklist))\r\n    let lists = JSON.parse(JSON.stringify(cardChecklists))\r\n    list.items[idx].isChecked = !list.items[idx].isChecked\r\n    const listIdx = lists.findIndex(aList => aList._id === list._id)\r\n    lists[listIdx] = list\r\n    dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }))\r\n  }\r\n\r\n  const onAddNewItem = async () => {\r\n    let list = JSON.parse(JSON.stringify(checklist))\r\n    let lists = JSON.parse(JSON.stringify(cardChecklists))\r\n    console.log(list)\r\n    const listIdx = lists.findIndex(aList => aList._id === list._id)\r\n    console.log(listIdx)\r\n    lists[listIdx].items.push(newItem)\r\n    await dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }))\r\n    setNewItem({ _id: utilService.makeId(), desc: '', isChecked: false })\r\n    toggleInput()\r\n  }\r\n\r\n  const onRemoveItem = idx => {\r\n    let list = JSON.parse(JSON.stringify(checklist))\r\n    let lists = JSON.parse(JSON.stringify(cardChecklists))\r\n    list.items.splice(idx, 1)\r\n    const listIdx = lists.findIndex(aList => aList._id === list._id)\r\n    lists[listIdx] = list\r\n    dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }))\r\n  }\r\n\r\n  const handleInput = ({ target: { name, value } }) => setNewItem({ [name]: value })\r\n\r\n  const onRemoveList = () => {\r\n    let lists = JSON.parse(JSON.stringify(cardChecklists))\r\n    const listIdx = lists.findIndex(list => list._id === checklist._id)\r\n    lists.splice(listIdx, 1)\r\n    dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"checklists-section\">\r\n      <div className=\"list-header\">\r\n        <div className=\"header-main\">\r\n          <img src={process.env.PUBLIC_URL + `/CheckList.png`} alt=\"\" />\r\n          <h3>{checklist.title}</h3>\r\n        </div>\r\n        <button onClick={onRemoveList}>Delete</button>\r\n      </div>\r\n      <ProgressBar progress={progressStatus()}></ProgressBar>\r\n      {checklist.items.map((item, idx) => (\r\n        <div key={idx} className=\"checklist-item-container\">\r\n          <div className=\"checklist-item-main\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              inputProps={{ 'aria-label': 'checkbox' }}\r\n              checked={item.isChecked}\r\n              onChange={() => onCheckBox(idx)}\r\n            />\r\n            <p>{item.desc}</p>\r\n          </div>\r\n          <button onClick={() => onRemoveItem(idx)}>X</button>\r\n        </div>\r\n      ))}\r\n      {!showInput && <button onClick={toggleInput}>Add an item</button>}\r\n      {showInput && (\r\n        <div className=\"add-item-container\">\r\n          <input\r\n            autoFocus\r\n            type=\"text\"\r\n            name=\"desc\"\r\n            value={newItem.desc}\r\n            onChange={handleInput}\r\n            id=\"\"\r\n          />\r\n          <div className=\"btns-container\">\r\n            <button onClick={onAddNewItem}>Add</button>\r\n            <button onClick={toggleInput}>X</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const Members = ({ card: { members, _id: cardId }, togglePopover }) => {\r\n  const { users } = useSelector(state => state.boardReducer.board)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [searchRes, setSearchRes] = useState(null)\r\n  const dispatch = useDispatch()\r\n  \r\n  const handleInput = ({ target: { value } }) => setSearchTerm(value)\r\n  \r\n  useEffect(() => {\r\n    setSearchRes(\r\n      users.filter(\r\n        user =>\r\n          members.every(member => member !== user._id) &&\r\n          (user.fullname.includes(searchTerm) || user.email.includes(searchTerm))\r\n      )\r\n    )\r\n  }, [searchTerm, members])\r\n\r\n\r\n  const addMember = ({ currentTarget: { value: userId } }) => {\r\n    dispatch(UPDATE_CARD({ name: 'members', value: [...members, userId], cardId }))\r\n  }\r\n\r\n  const removeMember = ({ currentTarget: { value: userId } }) => {\r\n    const membersFiltered = members.filter(memberId => memberId !== userId)\r\n    dispatch(UPDATE_CARD({ name: 'members', value: membersFiltered, cardId }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"members reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Members</span>\r\n      <input type=\"text\" placeholder=\"Search Members\" value={searchTerm} onChange={handleInput} />\r\n      <div className=\"list flex col\">\r\n        {users?.map(\r\n          ({ _id, fullname }) =>\r\n            members.some(memberId => memberId === _id) && (\r\n              <button className=\"flex jb\" key={_id} value={_id} onClick={removeMember}>\r\n                <span>{fullname}</span>\r\n                <span>X</span>\r\n              </button>\r\n            )\r\n        )}\r\n      </div>\r\n      {searchTerm && (\r\n        <div className=\"list flex col\">\r\n          <span className=\"bold\">Board Members</span>\r\n          {searchRes.map(({ _id, fullname }) => (\r\n            <button className=\"flex ac jb\" key={_id} value={_id} onClick={addMember}>\r\n              <span>{fullname}</span>\r\n              <span>+</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\"\r\nimport { UPDATE_CARD } from \"../../../../store/board/BoardActions\";\r\nimport utilService from \"../../../../service/utilService\"\r\n\r\nexport const CheckList = ({card: {_id: cardId, checklist: cardChecklist}, togglePopover}) => {\r\n  const [checklist, setChecklist] = useState({\r\n    _id: utilService.makeId(),\r\n    title: '',\r\n    items: [],\r\n  })\r\n  const dispatch = useDispatch();\r\n\r\n  const onAddChecklist = (ev) => {\r\n    ev.preventDefault();\r\n    dispatch(UPDATE_CARD({ name: 'checklist', value: [...cardChecklist, checklist], cardId }));\r\n  }\r\n\r\n  const onHandleChange = (ev) => {\r\n    const value = ev.target.value;\r\n    const field = ev.target.name;\r\n    setChecklist({...checklist, [field]: value});\r\n    console.log(checklist);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"checklist-section reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n    </button>\r\n      <p className=\"title bold asc\">Add a Check List</p>\r\n      <form action=\"\" className=\"flex col\" onSubmit={onAddChecklist}>\r\n        <label htmlFor=\"checklist-title\">Title:</label>\r\n        <input autoFocus id=\"checklist-title\" value={checklist.title} onChange={onHandleChange} name=\"title\" type=\"text\" placeholder=\"Insert a title...\"/>\r\n        <button>Add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const DueDate = ({ card: { dueDate: prevDueDate, _id: cardId }, togglePopover }) => {\r\n  const [dateFormat, setDateFormat] = useState('')\r\n  const [dueDate, setDueDate] = useState(Date.now())\r\n  const dispatch = useDispatch()\r\n\r\n  const prevDate = () => {\r\n    if (prevDate) {\r\n      var toDate = new Date(prevDueDate).getDate()\r\n      var toMonth = new Date(prevDueDate).getMonth() + 1\r\n      var toYear = new Date(prevDueDate).getFullYear()\r\n      if (`${toMonth}`.length < 2) toMonth = '0' + toMonth\r\n      var originalDate = toYear + '-' + toMonth + '-' + toDate\r\n      return originalDate\r\n    } else return ''\r\n  }\r\n\r\n  const saveDueDate = (ev) => {\r\n    ev.preventDefault();\r\n    dispatch(UPDATE_CARD({ name: 'dueDate', value: dueDate, cardId }))\r\n    togglePopover(ev)\r\n  }\r\n\r\n  const onHandleChange = ev => {\r\n    const value = ev.target.value\r\n    const date = new Date(value)\r\n    const timestamp = date.getTime()\r\n    setDateFormat(value)\r\n    setDueDate(timestamp)\r\n  }\r\n\r\n  return (\r\n    <div className=\"due-date-section reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <p className=\"title bold asc\">Change Due Date</p>\r\n      <form action=\"\" onSubmit={saveDueDate} className=\"due-date-form flex col\">\r\n        <input\r\n          type=\"date\"\r\n          value={dateFormat ? dateFormat : prevDate()}\r\n          onChange={onHandleChange}\r\n          name=\"dueDate\"\r\n          id=\"\"\r\n        />\r\n        <button>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport { getNewTokens, newTokensNeeded } from './httpService'\r\n\r\nconst UPLOAD_PRESET = 'iuzstnbj'\r\nconst CLOUD_NAME = 'ariecloud'\r\nconst VIDEO = 'video/upload'\r\nconst IMAGE = 'image/upload'\r\nconst UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/`\r\n\r\nexport const uploadImg = ev => _upload(ev, IMAGE)\r\n\r\nexport const uploadVideo = ev => _upload(ev, VIDEO)\r\n\r\nconst _upload = async (ev, endpoint) => {\r\n  const FORM_DATA = new FormData()\r\n  FORM_DATA.append('file', ev.target.files[0])\r\n  FORM_DATA.append('upload_preset', UPLOAD_PRESET)\r\n  try {\r\n    if (newTokensNeeded()) await getNewTokens()\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: UPLOAD_URL + endpoint,\r\n      data: FORM_DATA\r\n    })\r\n    return res.data\r\n  } catch (err) {\r\n    console.log('ERROR:', err)\r\n  }\r\n}\r\n\r\n// export const uploadVideo = async ev => {\r\n//   const UPLOAD_PRESET = 'iuzstnbj'\r\n//   const CLOUD_NAME = 'ariecloud'\r\n//   const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/video/upload`\r\n//   const FORM_DATA = new FormData()\r\n\r\n//   FORM_DATA.append('file', ev.target.files[0])\r\n//   FORM_DATA.append('upload_preset', UPLOAD_PRESET)\r\n\r\n//   try {\r\n//     if (newTokensNeeded()) await getNewTokens()\r\n//     const res = await axios.post(UPLOAD_URL, FORM_DATA)\r\n//     return res.data\r\n//   } catch (err) {\r\n//     console.log('ERROR:', err)\r\n//   }\r\n// }\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { uploadImg } from '../../../../service/imgUploadService.js';\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions.js';\r\n\r\nexport const Attachment = ({ card: { attachments, _id: cardId }, togglePopover }) => {\r\n  const [attachmentUrl, setAttachmentUrl] = useState('');\r\n  const [isUploaded, setIsUploaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const saveAttachment = (ev) => {\r\n    ev.preventDefault();\r\n    if (attachmentUrl) dispatch(UPDATE_CARD({ name: 'attachments', value: [...attachments, attachmentUrl], cardId }))\r\n  }\r\n \r\n  const onUploadImg = async (ev) => {\r\n    setIsUploaded(false);\r\n    const res = await uploadImg(ev);\r\n    setIsUploaded(true);\r\n    setAttachmentUrl(res.secure_url)\r\n  }\r\n\r\n  return (\r\n    <div className=\"attachment-section reusable\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <p>Attachments</p>\r\n      <form action=\"\" onSubmit={saveAttachment} className=\"attachment-form\">\r\n        <label htmlFor=\"imgUrl\">\r\n          <p>Upload an attachment:</p>\r\n          <div className=\"label-container\">\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png\" alt=\"\" />\r\n            {isUploaded && <svg className=\"uploaded-svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512.063 512.063\"><g fill=\"#00df76\"><ellipse cx=\"256.032\" cy=\"256.032\" rx=\"255.949\" ry=\"256.032\" /><path d=\"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z\" /></g><g fill=\"#fff\"><path d=\"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z\" /><path d=\"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z\" /></g></svg>}\r\n          </div>\r\n        </label>\r\n        <input className=\"upload-img\" type=\"file\" name=\"imgUrl\" onChange={onUploadImg} id=\"imgUrl\" />\r\n        <button>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useUpdateEffect, useSetState } from 'react-use'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { HANDLE_DROP } from '../../../../store/board/BoardActions'\r\n\r\nexport const MoveCard = ({ card, list, togglePopover }) => {\r\n  const dispatch = useDispatch()\r\n  const { lists } = useSelector(state => state.boardReducer.board)\r\n  const [targetList, setTargetList] = useState(list)\r\n  const [details, setDetails] = useSetState({\r\n    type: 'CARD',\r\n    posOffset: null,\r\n    sourceListId: list._id,\r\n    sourceCardId: card._id,\r\n    targetListId: list._id,\r\n    targetCardId: card._id\r\n  })\r\n\r\n  const handleInput = ({ target: { name, value } }) => setDetails({ [name]: value })\r\n\r\n  useUpdateEffect(() => {\r\n    setTargetList(lists.find(({ _id }) => _id === details.targetListId))\r\n    setDetails({ targetCardId: details.targetListId !== list._id ? '' : card._id })\r\n  }, [details.targetListId])\r\n\r\n  const moveCard = ev => {\r\n    if (details.targetCardId === details.sourceCardId) return\r\n    dispatch(HANDLE_DROP(details))\r\n    togglePopover(ev)\r\n  }\r\n\r\n  return (\r\n    <div className=\"move-card reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Move Card</span>\r\n      <span className=\"title bold\">To List:</span>\r\n      <select name=\"targetListId\" value={details.targetListId} onChange={handleInput}>\r\n        {lists.map(lst => (\r\n          <option value={lst._id} key={lst._id}>\r\n            {`${lst.title} ${list._id === lst._id ? '(Current)' : ''}`}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <span className=\"title bold\">Position:</span>\r\n      <select name=\"targetCardId\" value={details.targetCardId} onChange={handleInput}>\r\n        {targetList.cards.map((crd, idx) => (\r\n          <option value={crd._id} key={crd._id}>\r\n            {`${idx + 1} ${card._id === crd._id ? '(Current)' : ''}`}\r\n          </option>\r\n        ))}\r\n        {list._id !== details.targetListId && (\r\n          <option value={''}>{targetList.cards.length + 1}</option>\r\n        )}\r\n      </select>\r\n      <button onClick={moveCard}>Move</button>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { uploadVideo } from '../../../../service/imgUploadService.js';\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions.js';\r\n\r\nexport const AddVideo = ({ card: { _id: cardId }, togglePopover }) => {\r\n  const [videoUrl, setVideoUrl] = useState('');\r\n  const [isUploaded, setIsUploaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const saveVideo = (ev) => {\r\n    ev.preventDefault();\r\n    if(videoUrl) dispatch(UPDATE_CARD({ name: 'cardVideo', value: videoUrl, cardId }))\r\n  }\r\n \r\n  const onUploadVideo = async (ev) => {\r\n    setIsUploaded(false);\r\n    const res = await uploadVideo(ev);\r\n    console.log(res.url);\r\n    setIsUploaded(true)\r\n    setVideoUrl(res.url)\r\n  }\r\n\r\n  return (\r\n    <div className=\"attachment-section reusable\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <p>Card Video</p>\r\n      <form action=\"\" onSubmit={saveVideo} className=\"attachment-form\">\r\n        <label htmlFor=\"imgUrl\">\r\n          <p>Upload a video:</p>\r\n          <div className=\"label-container\">\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png\" alt=\"\" />\r\n            {isUploaded && <svg className=\"uploaded-svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512.063 512.063\"><g fill=\"#00df76\"><ellipse cx=\"256.032\" cy=\"256.032\" rx=\"255.949\" ry=\"256.032\" /><path d=\"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z\" /></g><g fill=\"#fff\"><path d=\"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z\" /><path d=\"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z\" /></g></svg>}\r\n          </div>\r\n        </label>\r\n        <input className=\"upload-img\" type=\"file\" name=\"imgUrl\" onChange={onUploadVideo} id=\"imgUrl\" />\r\n        <button>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { Members } from '../../ReUsables/Members/Members'\r\nimport { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { CheckList } from '../../ReUsables/CheckList/CheckList'\r\nimport { DueDate } from '../../ReUsables/DueDate/DueDate'\r\nimport { Attachment } from '../../ReUsables/Attachment/Attachment'\r\nimport { MoveCard } from '../../ReUsables/MoveCard/MoveCard'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\nimport { AddVideo } from '../../ReUsables/AddVideo/AddVideo'\r\n\r\nexport const SideBar = ({ togglePopover }) => {\r\n  const cmpMap = {\r\n    AddToCard: {\r\n      Members,\r\n      Labels,\r\n      CheckList,\r\n      DueDate,\r\n      Attachment,\r\n      AddVideo\r\n    },\r\n    Actions: {\r\n      MoveCard,\r\n      DeleteCard\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"side-bar flex col\">\r\n      {Object.entries(cmpMap).map(([title, list]) => (\r\n        <div key={title}>\r\n          <span className=\"title\">{title.split(/(?=[A-Z])/).join(' ')}</span>\r\n          <div className=\"buttons\">\r\n            {Object.entries(list).map(([name, cmp]) => (\r\n              <span className=\"modal-btn fast\" onClick={ev => togglePopover(ev, cmp)} key={name}>\r\n                <img src={process.env.PUBLIC_URL + `/${name}.png`} alt=\"\" />\r\n                {name.split(/(?=[A-Z])/).join(' ')}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}","import moment from 'moment'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Avatar } from '@material-ui/core'\r\nimport { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { CardAvatars } from '../avatars/CardAvatars'\r\nimport { CardChecklists } from '../CardChecklists/CardChecklists'\r\nimport { SideBar } from './SideBar/SideBar'\r\nimport { Labels } from '../ReUsables/Labels/Labels'\r\nimport { Popover } from '../ReUsables/Popover/Popover'\r\nimport { useKey, useSetState, useUpdateEffect } from 'react-use'\r\nimport { GET_CARD_BY_ID, UPDATE_CARD, CLEAR_CARD } from '../../../store/board/BoardActions'\r\n\r\nexport const CardModal = () => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const { board, list, card } = useSelector(state => state.boardReducer) || {}\r\n  const { users } = board || {}\r\n  const { activity, attachments, members, labels, checklist, cardVideo } = card || {}\r\n  const [{ title, desc }, setEditables] = useSetState({ title: '', desc: '' })\r\n  const { cardId } = useParams()\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [DynCmp, setDynCmp] = useState(null)\r\n  const [timer, setTimer] = useState(null)\r\n\r\n  const activityToShow = activity?.slice(0, 5)\r\n  const attachmentsToShow = attachments?.slice(0, 3)\r\n\r\n  useEffect(() => dispatch(GET_CARD_BY_ID(cardId)), [board, cardId])\r\n  useUpdateEffect(() => setEditables({ title: card.title, desc: card.desc }), [card?._id])\r\n\r\n  const closeModal = () => {\r\n    history.push('/board')\r\n    dispatch(CLEAR_CARD())\r\n  }\r\n\r\n  useKey('Escape', closeModal)\r\n\r\n  const handleEdit = ({ target: { name, value } }) => {\r\n    setEditables({ [name]: value })\r\n    clearTimeout(timer)\r\n    setTimer(\r\n      setTimeout(() => {\r\n        dispatch(UPDATE_CARD({ name, value, cardId }))\r\n      }, 500)\r\n    )\r\n  }\r\n\r\n  const cycleCards = ev => {\r\n    ev.stopPropagation()\r\n    const cardIdx = list.cards.findIndex(crd => crd._id === cardId)\r\n    const nextCardId = cardIdx > -1 && list.cards[cardIdx + +ev.target.value]?._id\r\n    if (nextCardId) history.push(nextCardId)\r\n  }\r\n\r\n  const togglePopover = (ev, cmp) => {\r\n    ev.stopPropagation()\r\n    setDynCmp(cmp ? () => cmp : null)\r\n    setAnchorEl(ev.currentTarget !== anchorEl && cmp ? ev.currentTarget : null)\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-screen flex col ac js\" onClick={closeModal}>\r\n      <nav className=\"card-nav flex jb fw\">\r\n        <button value={-1} onClick={cycleCards}>\r\n          Previous Card\r\n        </button>\r\n        <button value={1} onClick={cycleCards}>\r\n          Next Card\r\n        </button>\r\n      </nav>\r\n      <div className=\"modal-section\" onClick={togglePopover}>\r\n        <div className=\"container\">\r\n          {card && (\r\n            <>\r\n              <div className=\"modal-header fw flex col as\">\r\n                <div className=\"title-header flex fw jb\">\r\n                  <div className=\"flex ac\">\r\n                    <img src={process.env.PUBLIC_URL + `/Card.png`} alt=\"\" />\r\n                    <input\r\n                      className=\"card-title\"\r\n                      autoComplete=\"off\"\r\n                      name=\"title\"\r\n                      value={title}\r\n                      onFocus={ev => ev.target.select()}\r\n                      onChange={handleEdit}\r\n                    />\r\n                  </div>\r\n                  <button className=\"exit-btn fast flex ac jc\" onClick={closeModal}>\r\n                    X\r\n                  </button>\r\n                </div>\r\n                <p className=\"modal-subtitle fw\">\r\n                  in list <span>{list.title}</span>\r\n                </p>\r\n              </div>\r\n              <div className=\"content sbl\">\r\n                {members[0] && (\r\n                  <div className=\"members-container\">\r\n                    <CardAvatars className=\"card-avatars\" members={members} />\r\n                  </div>\r\n                )}\r\n                {labels[0] && (\r\n                  <div className=\"labels-section\">\r\n                    <h3>Labels</h3>\r\n                    <div\r\n                      className=\"labels-container flex wfc\"\r\n                      onClick={ev => togglePopover(ev, Labels)}>\r\n                      {board.labels.map(\r\n                        ({ _id: gLabelId, color, name }) =>\r\n                          labels.some(labelId => labelId === gLabelId) && (\r\n                            <div className={`label ${color} pointer fast`} key={gLabelId}>\r\n                              {name}\r\n                            </div>\r\n                          )\r\n                      )}\r\n                      <button className=\"modal-btn\">+</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {cardVideo && (\r\n                  <div className=\"video-section\">\r\n                    <div className=\"video-header\">\r\n                      <img src={process.env.PUBLIC_URL + `/AddVideo.png`} alt=\"\" />\r\n                      <h3>Card Video</h3>\r\n                    </div>\r\n                    <video className=\"card-video\" controls>\r\n                      <source src={cardVideo} />\r\n                    </video>\r\n                  </div>\r\n                )}\r\n                <div className=\"desc-container\">\r\n                  <div className=\"desc-header\">\r\n                    <img src={process.env.PUBLIC_URL + `/Description.png`} alt=\"\" />\r\n                    <h3>Description</h3>\r\n                  </div>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    multiline\r\n                    placeholder=\"Add a more detailed description...\"\r\n                    rows={4}\r\n                    variant=\"outlined\"\r\n                    name=\"desc\"\r\n                    value={desc}\r\n                    onChange={handleEdit}\r\n                  />\r\n                </div>\r\n                {checklist[0] && (\r\n                  <div className=\"checklists-container\">\r\n                    {checklist.map((currChecklist, idx) => (\r\n                      <CardChecklists\r\n                        key={idx}\r\n                        cardChecklists={checklist}\r\n                        checklist={currChecklist}\r\n                        cardId={cardId}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                {attachments[0] && (\r\n                  <div className=\"attachments-container\">\r\n                    <div className=\"attachments-header\">\r\n                      <img src={process.env.PUBLIC_URL + `/Attachment.png`} alt=\"\" />\r\n                      <h3>Attachments</h3>\r\n                    </div>\r\n                    <div className=\"attach-container flex\">\r\n                      {attachmentsToShow.map((attachment, index) => (\r\n                        <img key={index} src={attachment} alt=\"\" />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"activity-section\">\r\n                  <div className=\"activity-header\">\r\n                    <img src={process.env.PUBLIC_URL + `/Activity.png`} alt=\"\" />\r\n                    <h3>Activity</h3>\r\n                  </div>\r\n                  <ul className=\"activity-container\">\r\n                    {activityToShow.map(({ activity, createdBy, createdAt }) => {\r\n                      const { fullname, imgUrl } = users.find(user => user._id === createdBy) || {}\r\n                      return (\r\n                        fullname && (\r\n                          <li key={createdAt}>\r\n                            <div className=\"activity-main\">\r\n                              <div className=\"activity-secondary\">\r\n                                <Avatar alt={fullname} src={imgUrl ? imgUrl : '/'} />\r\n                                <div className=\"activity-txt\">\r\n                                  <div>\r\n                                    <span className=\"bold\">{fullname} </span>\r\n                                    {activity}\r\n                                  </div>\r\n                                  <p>{moment(createdAt).fromNow()}</p>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </li>\r\n                        )\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <SideBar togglePopover={togglePopover} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Popover anchorEl={anchorEl} togglePopover={togglePopover} pos=\"bottom-start\">\r\n        {DynCmp && (\r\n          <DynCmp anchorEl={anchorEl} togglePopover={togglePopover} list={list} card={card} />\r\n        )}\r\n      </Popover>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { LOGIN, SIGNUP } from '../../store/user/UserActions';\r\nimport { uploadImg } from '../../service/imgUploadService.js'\r\nimport { useHistory } from 'react-router';\r\nimport { useRef } from 'react';\r\n \r\nexport const LoginSingup = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const outClick = useRef();\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [userCred, setUserCred] = useState({\r\n    fullname: '',\r\n    email: '',\r\n    password: '',\r\n    imgUrl: '',\r\n    boards: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keyup', closeModal)\r\n    document.getElementById('root').addEventListener('mouseup', closeModal)\r\n    return () => {\r\n      document.removeEventListener('keyup', closeModal)\r\n      document.getElementById('root').removeEventListener('mouseup', closeModal)\r\n    }\r\n  }, [])\r\n\r\n  const closeModal = ({ key, target, type }) => {\r\n    if (type === 'keyup' && key === 'Escape') history.goBack()\r\n    else if (type === 'mouseup' && !outClick.current.contains(target)) history.goBack()\r\n  }\r\n\r\n  const onHandleChange = (ev, type) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    if (type === 'login') setUser({ ...user, [field]: value })\r\n    else setUserCred({ ...userCred, [field]: value })\r\n  }\r\n\r\n  const login = async (ev) => {\r\n    ev.preventDefault();\r\n    await dispatch(LOGIN(user));\r\n    history.push('/board');\r\n  }\r\n\r\n  const signup = async (ev) => {\r\n    ev.preventDefault();\r\n    await dispatch(SIGNUP(userCred));\r\n    history.push('/board');\r\n  }\r\n\r\n  const onUploadImg = async (ev) => {\r\n    const res = await uploadImg(ev);\r\n    console.log(res.url);\r\n    setUserCred({ ...userCred, imgUrl: res.url })\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-signup-section\">\r\n      <div className=\"login-signup-container\" ref={outClick}>\r\n        <button className=\"exit-btn\" onClick={history.goBack}>X</button>\r\n        <h2>Login</h2>\r\n        <form action=\"\" className=\"login-form\" onSubmit={login}>\r\n          <label htmlFor=\"\">Email:</label>\r\n          <input type=\"text\" name=\"email\" value={user.email} onChange={(event) => onHandleChange(event, 'login')} id=\"\" />\r\n          <label htmlFor=\"\">Password:</label>\r\n          <input type=\"text\" name=\"password\" value={user.password} onChange={(event) => onHandleChange(event, 'login')} id=\"\" />\r\n          <button>Login</button>\r\n        </form>\r\n        <div className=\"forms-seperator\">\r\n          -Or-\r\n        </div>\r\n        <h2>Signup</h2>\r\n        <form action=\"\" className=\"signup-form\" onSubmit={signup}>\r\n          <label htmlFor=\"\">Full Name:</label>\r\n          <input type=\"text\" name=\"fullname\" value={userCred.fullname} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"\">Email:</label>\r\n          <input type=\"text\" name=\"email\" value={userCred.email} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"\">Password:</label>\r\n          <input type=\"text\" name=\"password\" value={userCred.password} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"imgUrl\">\r\n            <p>Upload a Profile Picture:</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png\" alt=\"\"/>\r\n          </label>\r\n          <input className=\"upload-img\" type=\"file\" name=\"imgUrl\" onChange={onUploadImg} id=\"imgUrl\" />\r\n          <button>Signup</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useDragLayer } from 'react-dnd'\r\nimport { List } from '../Board/List/List'\r\nimport { Card } from '../Board/Card/Card'\r\n\r\nexport const DragLayer = () => {\r\n  const { item, pos } = useDragLayer(monitor => ({\r\n    item: monitor.getItem(),\r\n    pos: monitor.getSourceClientOffset()\r\n  }))\r\n\r\n  const { type, list, card, width, height } = item || {}\r\n\r\n  return (\r\n    item &&\r\n    !!pos && (\r\n      <div\r\n        className={`drag-layer ${type}`}\r\n        style={{\r\n          top: `${pos.y}px`,\r\n          left: `${pos.x}px`,\r\n          width: `${width}px`,\r\n          height: `${height}px`\r\n        }}>\r\n        {type === 'LIST' && <List list={list} />}\r\n        {type === 'CARD' && <Card card={card} />}\r\n      </div>\r\n    )\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useBeforeunload } from 'react-beforeunload'\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { TOKEN_LOGIN, LOGIN } from './store/user/UserActions'\r\nimport { socketService } from './service/socketService'\r\nimport { Header } from './components/Header/Header'\r\nimport { Board } from './pages/Board/Board'\r\nimport { Home } from './pages/Home/Home'\r\nimport { CardModal } from './components/Board/CardModal/CardModal'\r\nimport { LoginSingup } from './components/LoginSignup/LoginSignup'\r\nimport { DragLayer } from './components/DragLayer/DragLayer'\r\nimport './styles/styles.scss'\r\n\r\nexport const App = () => {\r\n  const dispatch = useDispatch()\r\n  const { user } = useSelector(state => state.userReducer) || {}\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(async () => {\r\n    try {\r\n      await dispatch(TOKEN_LOGIN())\r\n    } catch (error) {\r\n      try {\r\n        await dispatch(LOGIN({ email: 'deni@avdija.com', password: '123' }))\r\n      } catch (error) {\r\n        console.error(`login failed: ${error}`)\r\n      }\r\n    } finally {\r\n      socketService.setup()\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useBeforeunload(() => socketService.terminate())\r\n\r\n  const PrivateRoute = props => (user?._id ? <Route {...props} /> : <Redirect to=\"/\" />)\r\n\r\n  return isLoading ? (\r\n    <div className=\"fp flex ac jc\">\r\n      <div className=\"sk-chase\">\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <Header />\r\n      <Switch>\r\n        <PrivateRoute path=\"/board\" component={Board} />\r\n        <Route path=\"/\" component={Home} />\r\n      </Switch>\r\n      <PrivateRoute path=\"/board/modal/:cardId\" component={CardModal} />\r\n      <Route path=\"/login-signup\" component={LoginSingup} />\r\n      <DragLayer />\r\n    </>\r\n  )\r\n}\r\n","import { StrictMode } from 'react'\r\nimport { render } from 'react-dom'\r\nimport { HashRouter as RouterProvider } from 'react-router-dom'\r\nimport { Provider as ReduxProvider } from 'react-redux'\r\nimport { store } from './store/Store'\r\nimport { DndProvider } from 'react-dnd'\r\nimport MouseBackEnd from 'react-dnd-mouse-backend'\r\nimport { TouchBackend } from 'react-dnd-touch-backend'\r\nimport { App } from './App.jsx'\r\n\r\n// const hasNative = document && (document.elementsFromPoint || document.msElementsFromPoint)\r\n// function getDropTargetElementsAtPoint(x, y, dropTargets) {\r\n//   return dropTargets.filter(t => {\r\n//     const rect = t.getBoundingClientRect()\r\n//     return (\r\n//       x >= rect.left &&\r\n//       x <= rect.right &&\r\n//       y <= rect.bottom &&\r\n//       y >= rect.top\r\n//     )\r\n//   })\r\n// }\r\n\r\n// const backendOptions = {\r\n//   getDropTargetElementsAtPoint: !hasNative && getDropTargetElementsAtPoint,\r\n//   delayTouchStart: 3,\r\n// scrollAngleRanges: [\r\n//   { start: 30, end: 150 },\r\n//   { start: 210, end: 330 },\r\n//   { start: 300 }, { end: 60 }, { start: 120, end: 240 }\r\n// ]\r\n// }\r\n\r\nrender(\r\n  <StrictMode>\r\n    <ReduxProvider store={store}>\r\n      {/* <DndProvider backend={window.innerWidth > 600 ? MouseBackEnd: TouchBackend}  options={backendOptions}> */}\r\n      <DndProvider backend={MouseBackEnd}>\r\n        <RouterProvider>\r\n          <App />\r\n        </RouterProvider>\r\n      </DndProvider>\r\n    </ReduxProvider>\r\n  </StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\nnavigator.serviceWorker.register('./serviceWorker.js');\r\n"],"sourceRoot":""}