{"version":3,"sources":["service/utilService.js","service/httpService.js","service/boardService.js","service/socketService.js","service/userService.js","store/user/UserActions.js","store/board/BoardActions.js","store/board/BoardReducer.js","store/user/UserReducer.js","store/Store.js","components/Header/UserMenu/UserMenu.jsx","components/Header/Header.jsx","assets/icon-facebook.svg","assets/icon-linkedin.svg","assets/icon-twitter.svg","components/Home/HomeFooter/HomeFooter.jsx","assets/bg-pattern-home-3.svg","components/Home/HomeGetStarted/HomeGetStarted.jsx","assets/bg-pattern-home-1.svg","assets/bg-pattern-home-2.svg","components/Home/HomeHero/HomeHero.jsx","assets/icon-cog.svg","assets/icon-chart.svg","assets/icon-person.svg","components/Home/HomeMain/HomeMain.jsx","assets/bg-pattern-home-4-about-3.svg","assets/bg-pattern-home-5.svg","components/Home/HomeQuotes/HomeQuotes.jsx","pages/Home/Home.jsx","components/Board/avatars/CardAvatars.jsx","components/Board/ReUsables/Labels/LabelEditor.jsx","components/Board/ReUsables/Labels/Labels.jsx","components/Board/ReUsables/DeleteCard/DeleteCard.jsx","components/Board/Card/CardMenu/CardMenu.jsx","assets/clock.svg","components/Board/Card/Card.jsx","components/Board/List/ListMenu/ListMenu.jsx","components/Board/List/ListMenu/ListPopover.jsx","components/Board/List/List.jsx","components/Board/BoardHeader/BoardsSelect/BoardsSelect.jsx","components/Board/BoardHeader/BoardMembers/BoardMembers.jsx","components/Board/BoardHeader/ColorPicker/ColorPicker.jsx","components/Board/BoardHeader/Popover/Popover.jsx","components/Board/BoardHeader/BoardHeader.jsx","components/Board/ReUsables/Popover/Popover.jsx","pages/Board/Board.jsx","components/Board/CardChecklists/ProgressBar/ProgressBar.jsx","components/Board/CardChecklists/CardChecklists.jsx","components/Board/ReUsables/Members/Members.jsx","components/Board/ReUsables/CheckList/CheckList.jsx","components/Board/ReUsables/DueDate/DueDate.jsx","service/imgUploadService.js","components/Board/ReUsables/Attachment/Attachment.jsx","components/Board/ReUsables/MoveCard/MoveCard.jsx","components/Board/CardModal/SideBar/SideBar.jsx","components/Board/CardModal/CardModal.jsx","components/DragLayer/DragLayer.jsx","components/Board/CreateBoardModal/CreateBoardModal.jsx","components/LoginSignup/LoginSignup.jsx","App.jsx","index.js"],"names":["length","txt","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","get","endpoint","data","a","ajax","post","put","delete","method","url","res","response","status","console","log","Error","socket","boardService","getById","id","sessionStorage","setItem","update","board","_id","add","newBoard","title","labels","utilService","name","color","users","JSON","parse","getItem","lists","cards","activity","socketTypes","socketService","io","eventName","cb","on","emit","login","logout","signup","getUsers","usersIds","userId","remove","user","query","setUserBoards","userBoards","stringify","userCred","_handleLogin","clear","timer","types","SET_BOARDS","dispatch","userService","type","GET_USERS","q","LOGIN","email","password","SIGNUP","fullname","imgUrl","boards","boardTypes","CLEAR_BOARD_STORE","payload","ADD_BOARD","GET_BOARD_BY_ID","GET_CARD_BY_ID","cardId","getState","boardReducer","findItems","list","card","UPDATE_CARD","value","nextBoard","clone","_activityLog","SAVE_BOARD","HANDLE_DROP","sourceListId","sourceCardId","targetListId","targetCardId","posOffset","nextLists","sourceListIdx","findIndex","splice","targetListIdx","sourceList","find","sourceCardIdx","targetList","targetCardIdx","UPDATE_BOARD","prevBoard","clearTimeout","setTimeout","error","cardIdx","listIdx","lstIdx","crd","crdIdx","field","loggedUser","unshift","createdAt","Date","now","createdBy","initState","rootReducer","combineReducers","userReducer","state","store","createStore","composeWithDevTools","applyMiddleware","thunk","UserMenu","React","useState","anchorEl","setAnchorEl","useDispatch","history","useHistory","handleClose","className","aria-controls","aria-haspopup","onClick","event","currentTarget","src","alt","focusable","viewBox","aria-hidden","d","open","Boolean","onClose","MenuItem","push","Header","useSelector","to","width","height","role","fillRule","clipRule","fill","exact","data-original","HomeFooter","facebookImg","linkedinImg","twitterImg","HomeGetStarted","patternThree","document","body","scrollTop","documentElement","HomeHero","leftImg","rightImg","HomeMain","iconPerson","iconCog","iconChart","HomeQuotes","patternOne","patternTwo","xmlns","Home","props","useEffect","root","getElementById","style","background","useStyles","makeStyles","theme","pink","palette","getContrastText","backgroundColor","green","orange","deepOrange","blue","CardAvatars","members","classes","colorsPick","idx","AvatarGroup","max","map","member","Avatar","LabelEditor","labelToEdit","setLabelToEdit","colors","gLabels","updatedLabel","setUpdatedLabel","handleInput","target","htmlFor","onChange","ev","labelsClone","label","labelsFiltered","filter","Labels","togglePopover","searchTerm","setSearchTerm","newLabel","placeholder","toLowerCase","gLabel","includes","gLabelId","some","labelId","DeleteCard","CardMenu","Menu","Object","entries","cmp","el","process","split","join","Card","handleDrop","attachments","desc","dueDate","setPosOffset","rectRef","useRef","useDrag","collect","monitor","isDragging","item","begin","current","getBoundingClientRect","drag","useDrop","accept","hover","top","getClientOffset","y","cardOver","isOver","hoverHeight","drop","ref","clock","toDateString","ListMenu","listId","removeList","typography","padding","spacing","ListPopover","undefined","aria-describedby","anchorOrigin","vertical","horizontal","transformOrigin","List","addCard","editables","setEditables","isAddCard","setIsAddCard","setTimer","checklist","newCard","setNewCard","left","x","hoverWidth","listOver","getItemType","didDrop","toggleIsAddCard","preventDefault","onFocus","select","UPDATE_LIST","onKeyUp","key","blur","ClickAwayListener","onClickAway","action","onSubmit","autoFocus","autoComplete","StyledMenu","withStyles","paper","border","elevation","getContentAnchorEl","StyledMenuItem","CustomizedMenus","Button","variant","keepMounted","boardId","ListItemText","primary","BoardMembers","boardMembers","setUsers","onHandleChange","then","memberId","membersFiltered","removeMember","every","ColorPicker","onColorPick","SimplePopover","BoardHeader","boardTitle","Popover","pos","children","Popper","stopPropagation","zIndex","placement","Board","isAddList","setIsAddList","DynCmp","setDynCmp","newList","setNewList","replace","ADD_CARD","REMOVE_LIST","details","ADD_LIST","LinearProgressWithLabel","Box","display","alignItems","mr","LinearProgress","minWidth","Typography","round","ProgressBar","progress","CardChecklists","cardChecklists","showInput","setShowInput","isChecked","newItem","setNewItem","toggleInput","onAddNewItem","aList","items","isNaN","progressStatus","Checkbox","inputProps","checked","onCheckBox","onRemoveItem","Members","searchRes","setSearchRes","addMember","CheckList","cardChecklist","setChecklist","DueDate","prevDueDate","dateFormat","setDateFormat","setDueDate","prevDate","toDate","getDate","toMonth","getMonth","toYear","getFullYear","timestamp","getTime","uploadImg","UPLOAD_URL","FORM_DATA","FormData","append","files","Attachment","attachmentUrl","setAttachmentUrl","onUploadImg","MoveCard","lst","setTargetList","setDetails","SideBar","cmpMap","AddToCard","Actions","CardModal","useParams","activityToShow","slice","attachmentsToShow","addEventListener","closeModal","removeEventListener","cycleCards","nextCardId","handleEdit","TextField","multiline","rows","currChecklist","attachment","index","moment","fromNow","DragLayer","useDragLayer","getSourceClientOffset","CreateBoardModal","setNewBoard","goBack","outClick","contains","addBoard","LoginSingup","setUser","setUserCred","App","PrivateRoute","DndProvider","backend","MouseBackEnd","path","component","render"],"mappings":"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","file":"static/js/main.8ab2d609.chunk.js","sourcesContent":["export default {\r\n  makeId(length = 8) {\r\n    var txt = ''\r\n    var possible =\r\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (let i = 0; i < length; i++) {\r\n      txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return txt\r\n  },\r\n  getRandomInt(min, max) {\r\n    min = Math.ceil(min)\r\n    max = Math.floor(max)\r\n    return Math.floor(Math.random() * (max - min + 1)) + min\r\n  },\r\n  capitalize(string = '') {\r\n    return string\r\n      .toLowerCase()\r\n      .split(/,|-| /)\r\n      .map(s => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ')\r\n  },\r\n  blurAll() {\r\n    if ('activeElement' in document) document.activeElement.blur()\r\n  },\r\n}\r\n","import Axios from 'axios'\r\nconst BASE_URL = process.env.NODE_ENV !== 'development' ? '/api/' : '//localhost:3030/api/'\r\nvar axios = Axios.create({\r\n  withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n  get: async (endpoint, data) => {\r\n    return ajax(endpoint, 'GET', data)\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data)\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data)\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data)\r\n  }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data\r\n    })\r\n    return res.data\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      // router.push('/')\r\n    }\r\n    console.log(`Had issues ${method}ing to server`, err)\r\n    throw new Error(err)\r\n  }\r\n}\r\n","import utilService from './utilService'\r\nimport { httpService } from './httpService'\r\n\r\nexport const boardService = {\r\n  getById: async id => {\r\n    sessionStorage.setItem('boardId', id)\r\n    return httpService.get(`board/${id}`)\r\n  },\r\n  update(board) {\r\n    return httpService.put(`board/${board._id}`, board)\r\n  },\r\n  add(board) {\r\n    const newBoard = {\r\n      title: board.title,\r\n      labels: [\r\n        { _id: utilService.makeId(), name: \"Not Started\", color: \"red\" },\r\n        { _id: utilService.makeId(), name: \"In Progress\", color: \"orange\" },\r\n        { _id: utilService.makeId(), name: \"QA\", color: \"yellow\" },\r\n        { _id: utilService.makeId(), name: \"Done\", color: \"green\" },\r\n        { _id: utilService.makeId(), name: \"Production\", color: \"blue\" }\r\n      ],\r\n      users: [JSON.parse(sessionStorage.getItem('loggedUser'))],\r\n      lists: [\r\n        {_id: utilService.makeId(), title: 'To Do', cards:[]},\r\n        {_id: utilService.makeId(), title: 'Doing', cards:[]},\r\n        {_id: utilService.makeId(), title: 'Done', cards:[]},\r\n        {_id: utilService.makeId(), title: 'QA', cards:[]}\r\n      ],\r\n      activity: []\r\n    }\r\n    return httpService.post(`board`, newBoard)\r\n  },\r\n}","import io from 'socket.io-client'\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030'\r\nvar socket\r\n\r\nexport const socketTypes = {\r\n  JOIN_BOARD: 'JOIN_BOARD',\r\n  BOARD_UPDATED: 'BOARD_UPDATED',\r\n}\r\n\r\nexport const socketService = {\r\n  setup() {\r\n    socket = io(BASE_URL)\r\n  },\r\n  terminate() {\r\n    socket = null\r\n  },\r\n  on(eventName, cb) {\r\n    socket.on(eventName, cb)\r\n  },\r\n  off(eventName, cb) {\r\n    socket.off(eventName, cb)\r\n  },\r\n  emit(eventName, data) {\r\n    socket.emit(eventName, data)\r\n  },\r\n}\r\n","import { httpService } from './httpService.js'\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    // unreadBooking,\r\n    // resetUnreadBookings,\r\n    query,\r\n    setUserBoards\r\n}\r\n\r\nfunction query(query) {\r\n    return httpService.get(`user/users/${query}`)\r\n\r\n}\r\n\r\nfunction getUsers(usersIds) {\r\n    return httpService.get(`user/${usersIds}`)\r\n}\r\nfunction getById(userId) {\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nfunction update(user) {\r\n    return httpService.put(`user/${user._id}`, user)\r\n}\r\n\r\nasync function login(userCred) {\r\n    var { user, userBoards } = await httpService.post('auth/login', userCred)\r\n    user = _handleLogin(user, userBoards)\r\n    return { user, userBoards }\r\n}\r\nasync function signup(userCred) {\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _handleLogin(user)\r\n}\r\nasync function logout() {\r\n    await httpService.post('auth/logout');\r\n    sessionStorage.clear();\r\n}\r\n\r\n// async function unreadBooking(user) {\r\n//     const updatedUser = await httpService.put(`user/${user._id}`, user)\r\n//     return _handleLogin(updatedUser);\r\n// }\r\n\r\n// async function resetUnreadBookings(user) {\r\n//     const updatedUser = await httpService.put(`user/reset/${user._id}`, user)\r\n//     return _handleLogin(updatedUser);\r\n// }\r\n\r\nfunction setUserBoards(userBoards) {\r\n    sessionStorage.setItem('userBoards', JSON.stringify(userBoards))\r\n}\r\n\r\nfunction _handleLogin(user, userBoards) {\r\n    sessionStorage.setItem('loggedUser', JSON.stringify(user))\r\n    sessionStorage.setItem('userBoards', JSON.stringify(userBoards))\r\n    return user;\r\n}","import userService from '../../service/userService.js'\r\nimport { CLEAR_BOARD_STORE } from '../board/BoardActions.js'\r\n\r\nexport const types = {\r\n  GET_USER_BY_ID: 'GET_USER_BY_ID',\r\n  SET_LOGGED_USER: 'SET_LOGGED_USER',\r\n  SET_USER_BOARDS: 'SET_USER_BOARDS'\r\n}\r\n\r\nexport const SET_BOARDS = userBoards => dispatch => {\r\n  // const users = await userService.query(q);\r\n  // return users;\r\n  userService.setUserBoards(userBoards)\r\n  console.log(userBoards)\r\n  dispatch({ type: types.SET_USER_BOARDS, userBoards })\r\n}\r\n\r\nexport const GET_USERS = q => async dispatch => {\r\n  const users = await userService.query(q)\r\n  return users\r\n  // dispatch({ type: types.GET_USER_BY_ID, payload: user })\r\n}\r\n\r\nexport const GET_USER_BY_ID = id => async dispatch => {\r\n  const user = await userService.getById(id)\r\n  return user\r\n  // dispatch({ type: types.GET_USER_BY_ID, payload: user })\r\n}\r\n\r\nexport const LOGIN = ({ email, password }) => async dispatch => {\r\n  const { user, userBoards } = await userService.login({ email, password })\r\n  dispatch({ type: types.SET_LOGGED_USER, user })\r\n  dispatch({ type: types.SET_USER_BOARDS, userBoards })\r\n}\r\n\r\nexport const TOKEN_LOGIN = () => async dispatch => {\r\n  try {\r\n    const { user, userBoards } = await userService.login()\r\n    dispatch({ type: types.SET_LOGGED_USER, user })\r\n    dispatch({ type: types.SET_USER_BOARDS, userBoards })\r\n  } catch (error) {}\r\n}\r\n\r\nexport const SIGNUP = ({ fullname, email, password, imgUrl, boards }) => async dispatch => {\r\n  const user = await userService.signup({ fullname, email, password, imgUrl, boards })\r\n  dispatch({ type: types.SET_LOGGED_USER, user })\r\n}\r\n\r\nexport const LOGOUT = () => async dispatch => {\r\n  await userService.logout()\r\n  const user = {}\r\n  const userBoards = []\r\n  dispatch({ type: types.SET_LOGGED_USER, user })\r\n  dispatch({ type: types.SET_USER_BOARDS, userBoards })\r\n  dispatch(CLEAR_BOARD_STORE())\r\n}\r\n","import { boardService } from '../../service/boardService'\r\nimport utilService from '../../service/utilService'\r\nimport { socketService, socketTypes } from '../../service/socketService.js'\r\nimport { cloneDeep as clone } from 'lodash'\r\nimport { SET_BOARDS } from '../user/UserActions'\r\n\r\nexport const boardTypes = {\r\n  SET_BOARD: 'SET_BOARD',\r\n  SET_USERS: 'SET_USERS',\r\n  SET_CARD: 'SET_CARD',\r\n  SET_LIST: 'SET_LIST',\r\n  RESET_BOARD: 'RESET_BOARD'\r\n}\r\n\r\nvar timer\r\n\r\nexport const CLEAR_BOARD_STORE = () => dispatch => {\r\n  dispatch({ type: boardTypes.RESET_BOARD, payload: null })\r\n}\r\n\r\nexport const CLEAR_CARD = () => dispatch => {\r\n  dispatch({ type: boardTypes.SET_LIST, payload: null })\r\n  dispatch({ type: boardTypes.SET_CARD, payload: null })\r\n}\r\n\r\nexport const ADD_BOARD = newBoard => async dispatch => {\r\n  const { board, users, userBoards } = await boardService.add(newBoard)\r\n  console.log(board)\r\n  dispatch({ type: boardTypes.SET_BOARD, payload: board })\r\n  dispatch({ type: boardTypes.SET_USERS, payload: users })\r\n  dispatch(SET_BOARDS(userBoards))\r\n}\r\n\r\nexport const GET_BOARD_BY_ID = id => async dispatch => {\r\n  const { board, users } = await boardService.getById(id)\r\n  dispatch({ type: boardTypes.SET_BOARD, payload: board })\r\n  dispatch({ type: boardTypes.SET_USERS, payload: users })\r\n}\r\n\r\nexport const GET_BOARD_USER_BY_ID = id => (dispatch, getState) => {\r\n  const users = getState().boardReducer.users\r\n  const user = users.find(user => user._id === id)\r\n  return user\r\n}\r\n\r\nexport const ADD_LIST = list => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  list._id = utilService.makeId()\r\n  nextBoard.lists.push(list)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const REMOVE_LIST = listId => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  const listIdx = nextBoard.lists.findIndex(list => list._id === listId)\r\n  nextBoard.lists.splice(listIdx, 1)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const UPDATE_LIST = ({ name, value, listId }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  const list = nextBoard.lists.find(list => list._id === listId)\r\n  list[name] = value\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const GET_CARD_BY_ID = cardId => (dispatch, getState) => {\r\n  const { lists } = getState().boardReducer.board || {}\r\n  if (lists) {\r\n    const { list, card } = findItems(lists, cardId)\r\n    dispatch({ type: boardTypes.SET_LIST, payload: list })\r\n    dispatch({ type: boardTypes.SET_CARD, payload: card })\r\n  }\r\n}\r\nexport const ADD_CARD = (card, listId) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  card._id = utilService.makeId()\r\n  card = _activityLog(card, 'card')\r\n  var listIdx = nextBoard.lists.findIndex(list => list._id === listId)\r\n  nextBoard.lists[listIdx].cards.push(card)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const DELETE_CARD = cardId => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  var { cardIdx, list } = findItems(nextBoard.lists, cardId)\r\n  list.cards.splice(cardIdx, 1)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const UPDATE_CARD = ({ name, value, cardId }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  var { card } = findItems(nextBoard.lists, cardId)\r\n  card[name] = value\r\n  card = _activityLog(card, name)\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const HANDLE_DROP = ({\r\n  type,\r\n  sourceListId,\r\n  sourceCardId,\r\n  targetListId,\r\n  targetCardId,\r\n  posOffset = null\r\n}) => (dispatch, getState) => {\r\n  const nextLists = clone(getState().boardReducer.board.lists)\r\n\r\n  if (type === 'LIST') {\r\n    const sourceListIdx = nextLists.findIndex(list => list._id === sourceListId)\r\n    const [list] = nextLists.splice(sourceListIdx, 1)\r\n    const targetListIdx = nextLists.findIndex(list => list._id === targetListId)\r\n    nextLists.splice(targetListIdx + posOffset, 0, list)\r\n  } else if (type === 'CARD') {\r\n    const sourceList = nextLists.find(list => list._id === sourceListId)\r\n    const sourceCardIdx = sourceList.cards.findIndex(card => card._id === sourceCardId)\r\n    const [card] = sourceList.cards.splice(sourceCardIdx, 1)\r\n    const targetList = nextLists.find(list => list._id === targetListId)\r\n    let targetCardIdx = targetList.cards.findIndex(card => card._id === targetCardId)\r\n    if (posOffset === null) {\r\n      //transfer card via menu and not DnD\r\n      if (sourceListId === targetListId && targetCardIdx >= sourceCardIdx) {\r\n        posOffset = 1\r\n      } else if (!targetCardId) {\r\n        targetCardIdx = targetList.cards.length\r\n      }\r\n    }\r\n    targetList.cards.splice(targetCardIdx + posOffset, 0, card)\r\n  }\r\n  dispatch(UPDATE_BOARD({ name: 'lists', value: nextLists }))\r\n}\r\n\r\nexport const UPDATE_BOARD = ({ name, value }) => (dispatch, getState) => {\r\n  const nextBoard = clone(getState().boardReducer.board)\r\n  nextBoard[name] = value\r\n  dispatch(SAVE_BOARD(nextBoard))\r\n}\r\n\r\nexport const SAVE_BOARD = nextBoard => (dispatch, getState) => {\r\n  const prevBoard = clone(getState().boardReducer.board)\r\n  // const cardId = getState().boardReducer.card._id\r\n  dispatch({ type: boardTypes.SET_BOARD, payload: nextBoard })\r\n  // if (cardId) dispatch(GET_CARD_BY_ID(cardId))\r\n  clearTimeout(timer)\r\n  timer = setTimeout(async () => {\r\n    try {\r\n      await boardService.update(nextBoard)\r\n      socketService.emit(socketTypes.BOARD_UPDATED, nextBoard._id)\r\n    } catch (error) {\r\n      dispatch({ type: boardTypes.SET_BOARD, payload: prevBoard })\r\n      // dispatch(GET_CARD_BY_ID(cardId))\r\n      console.error('Could not update board', error)\r\n    }\r\n  }, 1500)\r\n}\r\n\r\nexport const findItems = (lists, cardId) => {\r\n  var card\r\n  var cardIdx\r\n  var listIdx\r\n  var list = lists.find((list, lstIdx) =>\r\n    list.cards.find((crd, crdIdx) => {\r\n      if (crd._id === cardId) {\r\n        card = crd\r\n        cardIdx = crdIdx\r\n        listIdx = lstIdx\r\n        return true\r\n      } else return false\r\n    })\r\n  )\r\n  return { list, listIdx, card, cardIdx }\r\n}\r\n\r\nconst _activityLog = (card, field) => {\r\n  const loggedUser = JSON.parse(sessionStorage.getItem('loggedUser'))\r\n  var activity\r\n  switch (field) {\r\n    case 'card':\r\n      activity = 'Added this card'\r\n      break\r\n    case 'desc':\r\n      activity = 'Changed card description'\r\n      break\r\n    case 'members':\r\n      activity = 'Changed card members list'\r\n      break\r\n    case 'title':\r\n      activity = 'Changed card title'\r\n      break\r\n    case 'labels':\r\n      activity = 'Changed card labels'\r\n      break\r\n    case 'attachments':\r\n      activity = 'Added an attachment to card'\r\n      break\r\n    case 'dueDate':\r\n      activity = \"Changed card's due date\"\r\n      break\r\n    case 'checklist':\r\n      activity = 'Changed a checklist item'\r\n      break\r\n    default:\r\n      break\r\n  }\r\n  card.activity.unshift({ activity, createdAt: Date.now(), createdBy: loggedUser._id })\r\n  return card\r\n}\r\n","import { boardTypes } from './BoardActions'\r\n\r\nconst initState = {\r\n  board: null,\r\n  users: null,\r\n  list: null,\r\n  card: null\r\n}\r\n\r\nexport const boardReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case boardTypes.SET_BOARD:\r\n      return {\r\n        ...state,\r\n        board: payload\r\n      }\r\n    case boardTypes.SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: payload\r\n      }\r\n    case boardTypes.SET_LIST:\r\n      return {\r\n        ...state,\r\n        list: payload\r\n      }\r\n    case boardTypes.SET_CARD:\r\n      return {\r\n        ...state,\r\n        card: payload\r\n      }\r\n    case boardTypes.RESET_BOARD:\r\n      return {\r\n        ...initState\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { types } from './UserActions'\r\n\r\nconst initState = {\r\n  user: sessionStorage.loggedUser? JSON.parse(sessionStorage.loggedUser): null,\r\n  userBoards: sessionStorage.userBoards? JSON.parse(sessionStorage.userBoards): []\r\n}\r\n\r\nexport const userReducer = (state = initState, { type, user, userBoards }) => {\r\n  switch (type) {\r\n    case types.SET_LOGGED_USER:\r\n      return {\r\n        ...state,\r\n        user: user,\r\n      }\r\n    case types.SET_USER_BOARDS:\r\n      return {\r\n        ...state,\r\n        userBoards: userBoards,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { boardReducer } from './board/BoardReducer'\r\nimport { userReducer } from './user/UserReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n  userReducer,\r\n  boardReducer,\r\n})\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n","import React from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { useDispatch } from 'react-redux';\r\nimport { LOGOUT } from '../../../store/user/UserActions';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport default function UserMenu({ user }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const toHome = () => {\r\n    handleClose();\r\n    history.push('/');\r\n  }\r\n\r\n  const onLogout =() => {\r\n    handleClose();\r\n    dispatch(LOGOUT());\r\n    history.push('/');\r\n  }\r\n  const onLogin =() => {\r\n    handleClose();\r\n    history.push('/login-signup');\r\n  }\r\n\r\n  return (\r\n    <div className=\"simple-menu-section\">\r\n      <div className=\"menu-btn\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        {user?.imgUrl ? <img src={user.imgUrl} alt=\"\" className={anchorEl? 'border': ''} /> : <svg focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n          <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\">\r\n          </path>\r\n        </svg>}\r\n      </div>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        // keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={toHome}>Home</MenuItem>\r\n        {/* <MenuItem onClick={handleClose}>Profile</MenuItem> */}\r\n        {user?._id? <MenuItem onClick={onLogout}>Logout</MenuItem>: <MenuItem onClick={onLogin}>Login/Signup</MenuItem>}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}","import { useSelector } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport UserMenu from './UserMenu/UserMenu'\r\n\r\nexport const Header = () => {\r\n  const { user } = useSelector(state => state.userReducer) || {}\r\n\r\n  return (\r\n    <header className=\"flex ac jb\">\r\n      <Link className=\"logo-container\" to=\"/\">\r\n        <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\" fill=\"currentColor\"></path></svg>\r\n        <p>Tallo</p>\r\n      </Link>\r\n      <div className=\"nav-container flex\">\r\n        <nav className=\"flex jb\">\r\n          {user?._id && <NavLink className=\"add-board-btn nav-item\" to=\"/create-modal\" exact>\r\n          <svg  width=\"512\" height=\"512\" viewBox=\"0 0 448 448\" ><g><path d=\"m408 184H272c-4.417969.0-8-3.582031-8-8V40c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8H40c-22.089844.0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969.0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40V272c0-4.417969 3.582031-8 8-8h136c22.089844.0 40-17.910156 40-40s-17.910156-40-40-40zm0 0\" fill=\"#fff\" data-original=\"#000000\"/></g></svg>\r\n            </NavLink>}\r\n          <NavLink className=\"nav-item\" to=\"/\" exact>Home</NavLink>\r\n          <NavLink className=\"nav-item\" to=\"/board\">Board</NavLink>\r\n        </nav>\r\n        <UserMenu user={user}></UserMenu>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-facebook.229c75a0.svg\";","export default __webpack_public_path__ + \"static/media/icon-linkedin.416b1433.svg\";","export default __webpack_public_path__ + \"static/media/icon-twitter.1d5c6d5e.svg\";","import { NavLink } from 'react-router-dom';\r\nimport facebookImg from '../../../assets/icon-facebook.svg';\r\nimport linkedinImg from '../../../assets/icon-linkedin.svg';\r\nimport twitterImg from '../../../assets/icon-twitter.svg';\r\n\r\n\r\nexport const HomeFooter = () => {\r\n\r\n  return (\r\n    <footer className=\"main-grid\">\r\n      <section className=\"footer-container\">\r\n        <nav>\r\n          <div className=\"logo-container\">\r\n            <div className=\"logo-div\">\r\n              <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\" fill=\"currentColor\"></path></svg>\r\n              <p>Tallo</p>\r\n            </div>\r\n            <div className=\"routes-container\">\r\n              <NavLink className=\"nav-item\" to=\"/\" exact>Home</NavLink>\r\n              <NavLink className=\"nav-item\" to=\"/board\">Board</NavLink>\r\n            </div>\r\n          </div>\r\n          <div className=\"address\">\r\n            <p>987 Hillcrest Lane</p>\r\n            <p>Irvine, CA</p>\r\n            <p>California 92714</p>\r\n            <p>Call Us : 949-833-7432</p>\r\n          </div>\r\n        </nav>\r\n        <div className=\"right-footer-container\">\r\n          <div className=\"social-container\">\r\n            <img src={facebookImg} alt=\"\" />\r\n            <img src={linkedinImg} alt=\"\" />\r\n            <img src={twitterImg} alt=\"\" />\r\n          </div>\r\n          <p>Copyright 2020. All Rights Reserved</p>\r\n        </div>\r\n      </section>\r\n    </footer>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-3.4bc172f9.svg\";","import { useHistory } from 'react-router';\r\nimport patternThree from '../../../assets/bg-pattern-home-3.svg';\r\n\r\n\r\nexport const HomeGetStarted = () => {\r\n  const history = useHistory();\r\n\r\n  const onLogin = () => {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n    history.push('/login-signup');\r\n  }\r\n\r\n  return (\r\n    <div className=\"get-started-section main-grid\">\r\n      <div className=\"container\">\r\n        <img src={patternThree} alt=\"\" />\r\n        <main>\r\n          <h2>Ready to get started?</h2>\r\n          <button onClick={onLogin}>Login / Signup</button>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-1.270440fb.svg\";","export default __webpack_public_path__ + \"static/media/bg-pattern-home-2.889d5d8c.svg\";","import leftImg from '../../../assets/bg-pattern-home-1.svg';\r\nimport rightImg from '../../../assets/bg-pattern-home-2.svg';\r\n\r\n\r\nexport const HomeHero = () => {\r\n\r\n  return (\r\n    <div className=\"hero-section\">\r\n      <img className=\"left-img\" src={leftImg} alt=\"\" />\r\n      <div className=\"hero-title\">\r\n        <h1>Manage the</h1>\r\n        <h1>best <span>projects</span></h1>\r\n      </div>\r\n      <div className=\"side-container\">\r\n        <div></div>\r\n        <p>\r\n        Tallo helps teams work more collaboratively and get more done.\r\n        Tallo’s boards, lists, and cards enable teams to organize and prioritize projects in a fun,\r\n         flexible, and rewarding way.\r\n      </p>\r\n        <img className=\"right-img\" src={rightImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-cog.c5d2403f.svg\";","export default __webpack_public_path__ + \"static/media/icon-chart.8de3d4d2.svg\";","export default __webpack_public_path__ + \"static/media/icon-person.0a313a85.svg\";","import iconCog from '../../../assets/icon-cog.svg';\r\nimport iconChart from '../../../assets/icon-chart.svg';\r\nimport iconPerson from '../../../assets/icon-person.svg';\r\n\r\n\r\nexport const HomeMain = () => {\r\n\r\n  return (\r\n    <div className=\"main-section main-grid\">\r\n      <section className=\"main-container\">\r\n        <div className=\"design-div\"></div>\r\n        <h2>Build &amp; manage your projects any time, anywhere.</h2>\r\n        <div className=\"secondary-container\">\r\n          <div className=\"item-container\">\r\n            <img src={iconPerson} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Work with any team</h4>\r\n              <p>Whether it’s for work, a side project or even the next family vacation, Tallo helps your team stay organized.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"item-container\">\r\n            <img src={iconCog} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Always In Sync</h4>\r\n              <p>No matter where you are, Tallo stays in sync across all of your devices. Collaborate with your team anywhere.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"item-container\">\r\n            <img src={iconChart} alt=\"\" />\r\n            <div className=\"item-txt\">\r\n              <h4>Information at a glance</h4>\r\n              <p>Dive into the details by adding attachments, due dates, and more directly to Tallo cards.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg-pattern-home-4-about-3.aacd4e03.svg\";","export default __webpack_public_path__ + \"static/media/bg-pattern-home-5.95a2a621.svg\";","import patternOne from '../../../assets/bg-pattern-home-4-about-3.svg';\r\nimport patternTwo from '../../../assets/bg-pattern-home-5.svg';\r\n\r\n\r\nexport const HomeQuotes = () => {\r\n\r\n  return (\r\n    <div className=\"quotes-section main-grid\">\r\n    <img src={patternOne} alt=\"\" className=\"bgc-img-1\" />\r\n    <img src={patternTwo} alt=\"\" className=\"bgc-img-2\" />\r\n    <section className=\"quotes-container\">\r\n      <h1>Delivering real results for top companies. Some of our <span>success stories.</span></h1>\r\n      <main>\r\n        <div className=\"item\">\r\n          <p>“It’s easy to get your team up and running with Tallo. We’ve collected all of the boards and tools your team needs to succeed in one handy resource.”</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Tal Harouvi</h4>\r\n            <p>Full Stack Developer at Tallo</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1607248716/users/tal_fofpvu.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"item\">\r\n          <p>“Integrate the apps your team already uses directly into your workflow. Power-Ups turn Tallo boards into living applications to meet your team's unique business needs.”</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Arie Moldawsky</h4>\r\n            <p>Full Stack Developer at Tallo</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611138519/users/66681D8E-0B6F-4F34-9FED-CCF9DF3B1E69_mftdzu.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"item\">\r\n          <p> “I've had absolutely nothing to do with this app untill they've reached me. I'm just an Israeli NBA Player and an ambassador of the app.”</p>\r\n          <div className=\"item-avatar\">\r\n            <h4>Deni Avdija</h4>\r\n            <p>NBA Player at Washington Wizards</p>\r\n            <img src=\"http://res.cloudinary.com/ariecloud/image/upload/v1610031903/deni_whuhmk.jpg\" alt=\"\" />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"67\" height=\"56\"><path fill=\"#2C6269\" d=\"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z\"/></svg>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </section>\r\n  </div>\r\n  )\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { useEffect } from 'react'\r\nimport { HomeFooter } from '../../components/Home/HomeFooter/HomeFooter'\r\nimport { HomeGetStarted } from '../../components/Home/HomeGetStarted/HomeGetStarted'\r\nimport { HomeHero } from '../../components/Home/HomeHero/HomeHero'\r\nimport { HomeMain } from '../../components/Home/HomeMain/HomeMain'\r\nimport { HomeQuotes } from '../../components/Home/HomeQuotes/HomeQuotes'\r\nimport { LOGIN, TOKEN_LOGIN } from '../../store/user/UserActions'\r\n\r\nexport const Home = props => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.userReducer.user)\r\n\r\n  // useEffect(() => !user && dispatch(TOKEN_LOGIN()), [])\r\n\r\n  useEffect(() => {\r\n    dispatch(LOGIN({ email: 'deni@avdija.com', password: '123' }))\r\n    var root = document.getElementById('root')\r\n    if (root.style.background !== 'linear-gradient(#006f83, #00aecc)') root.style.background = 'linear-gradient(#006f83, #00aecc)'\r\n  }, [])\r\n\r\n  return (\r\n    <main className=\"home main-grid\">\r\n      <HomeHero></HomeHero>\r\n      <HomeMain></HomeMain>\r\n      <HomeQuotes></HomeQuotes>\r\n      <HomeGetStarted></HomeGetStarted>\r\n      <HomeFooter></HomeFooter>\r\n    </main>\r\n  )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { blue, deepOrange, green, pink } from '@material-ui/core/colors'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { GET_BOARD_USER_BY_ID } from '../../../store/board/BoardActions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pink: {\r\n    color: theme.palette.getContrastText(pink[500]),\r\n    backgroundColor: pink[500]\r\n  },\r\n  green: {\r\n    color: '#fff',\r\n    backgroundColor: green[500]\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500]\r\n  },\r\n  blue: {\r\n    color: theme.palette.getContrastText(blue[500]),\r\n    backgroundColor: blue[500]\r\n  }\r\n}))\r\n\r\nexport const CardAvatars = ({ members }) => {\r\n  const { users } = useSelector(state => state.boardReducer);\r\n\r\n  // const [members, setMembers] = useState([])\r\n  // const dispatch = useDispatch();\r\n\r\n  // useEffect(() => {\r\n  //   const members = card.members.map(member => {\r\n  //     return getMember(member)\r\n  //   })\r\n  //   setMembers(members);\r\n  // }, [])\r\n\r\n  // const getMember = (memberId) => {\r\n  //   return dispatch(GET_BOARD_USER_BY_ID(memberId))\r\n  // }\r\n\r\n  const classes = useStyles()\r\n  const colorsPick = idx => {\r\n    switch (+idx) {\r\n      case 0:\r\n        return classes.blue\r\n      case 1:\r\n        return classes.green\r\n      case 2:\r\n        return classes.pink\r\n      case 3:\r\n        return classes.orange\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return (\r\n    users && (\r\n      <AvatarGroup max={4}>\r\n        {members.map((member, idx) => {\r\n          const { fullname, imgUrl } = users.find(user => user._id === member) || {}\r\n          return (\r\n            fullname && (\r\n              <Avatar\r\n                key={member}\r\n                alt={fullname}\r\n                src={imgUrl ? imgUrl : '/'}\r\n                className={colorsPick(idx)}\r\n                // style={{zIndex:0}}\r\n              />\r\n            )\r\n          )\r\n        })}\r\n      </AvatarGroup>\r\n    )\r\n  )\r\n}","import { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport utilService from '../../../../service/utilService'\r\nimport { cloneDeep as clone } from 'lodash'\r\nimport { UPDATE_BOARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const LabelEditor = ({ labelToEdit, setLabelToEdit, colors }) => {\r\n  const dispatch = useDispatch()\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const [updatedLabel, setUpdatedLabel] = useState({ ...labelToEdit })\r\n\r\n  const handleInput = ({ target: { name, value } }) => {\r\n    setUpdatedLabel({ ...updatedLabel, [name]: value })\r\n  }\r\n\r\n  const saveLabel = ev => {\r\n    const labelsClone = clone(gLabels)\r\n    if (!updatedLabel._id) {\r\n      updatedLabel._id = utilService.makeId()\r\n      labelsClone.push(updatedLabel)\r\n    } else {\r\n      const idx = gLabels.findIndex(label => label._id === labelToEdit._id)\r\n      labelsClone.splice(idx, 1, updatedLabel)\r\n    }\r\n    dispatch(UPDATE_BOARD({ name: 'labels', value: labelsClone }))\r\n    setLabelToEdit(null)\r\n  }\r\n\r\n  const deleteLabel = ev => {\r\n    const labelsClone = JSON.parse(JSON.stringify(gLabels))\r\n    const labelsFiltered = labelsClone.filter(label => label._id !== labelToEdit._id)\r\n    dispatch(UPDATE_BOARD({ name: 'labels', value: labelsFiltered }))\r\n    setLabelToEdit(null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button className=\"ass\" onClick={() => setLabelToEdit(null)}>\r\n        Back\r\n      </button>\r\n      <span className=\"title bold asc\">{updatedLabel._id ? 'Edit' : 'Add'} Label</span>\r\n      <label htmlFor=\"name\">Name</label>\r\n      <input id=\"name\" name=\"name\" type=\"text\" value={updatedLabel.name} onChange={handleInput} />\r\n      <label>Select Color</label>\r\n      <div className=\"grid c4 g6\">\r\n        {colors.map(color => (\r\n          <input\r\n            key={color}\r\n            type=\"button\"\r\n            name=\"color\"\r\n            value={color}\r\n            onClick={handleInput}\r\n            className={`pointer color fast ${color}${\r\n              updatedLabel.color === color ? ' selected' : ''\r\n            }`}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"flex jb\">\r\n        <button onClick={saveLabel}>Save</button>\r\n        {updatedLabel._id && <button onClick={deleteLabel}>Delete</button>}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\nimport { LabelEditor } from './LabelEditor'\r\n\r\nexport const Labels = ({ card: { labels, _id: cardId }, togglePopover }) => {\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [labelToEdit, setLabelToEdit] = useState(null)\r\n  const dispatch = useDispatch()\r\n  const newLabel = { _id: '', name: '', color: 'red' }\r\n  const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'pink', 'black']\r\n\r\n  const toggleLabel = gLabelId => {\r\n    dispatch(\r\n      UPDATE_CARD({\r\n        cardId,\r\n        name: 'labels',\r\n        value: labels.some(id => id === gLabelId)\r\n          ? labels.filter(id => id !== gLabelId)\r\n          : [...labels, gLabelId]\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"labels reusable flex col\">\r\n      <button className=\"close-btn\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      {!labelToEdit && (\r\n        <>\r\n          <span className=\"title bold asc\">Labels</span>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search Labels\"\r\n            value={searchTerm}\r\n            onChange={ev => setSearchTerm(ev.target.value.toLowerCase())}\r\n          />\r\n          <div className=\"list flex col\">\r\n            {gLabels.map(\r\n              gLabel =>\r\n                gLabel.name.toLowerCase().includes(searchTerm) && (\r\n                  <div className={`label fast flex jb pointer ${gLabel.color}`} key={gLabel._id}>\r\n                    <div className=\"f-110\" onClick={() => toggleLabel(gLabel._id)}>\r\n                      {gLabel.name}\r\n                      {labels.some(labelId => labelId === gLabel._id) && <span> V</span>}\r\n                    </div>\r\n                    <button className=\"fast\" onClick={() => setLabelToEdit(gLabel)}>\r\n                      edit\r\n                    </button>\r\n                  </div>\r\n                )\r\n            )}\r\n          </div>\r\n          <button onClick={() => setLabelToEdit(newLabel)}>Add Label</button>\r\n        </>\r\n      )}\r\n      {labelToEdit && (\r\n        <LabelEditor labelToEdit={labelToEdit} setLabelToEdit={setLabelToEdit} colors={colors} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport { DELETE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const DeleteCard = ({ card, togglePopover }) => {\r\n  const dispatch = useDispatch()\r\n  const { push } = useHistory()\r\n\r\n  const deleteCard = () => {\r\n    dispatch(DELETE_CARD(card._id))\r\n    push('/board')\r\n  }\r\n  \r\n  return (\r\n    <div className=\"reusable delete-card-section flex col\">\r\n      <span className=\"title asc\">Delete Card?</span>\r\n      <div className=\"flex\">\r\n        <button className=\"modal-btn\" onClick={deleteCard}>\r\n          Delete\r\n        </button>\r\n        <button className=\"modal-btn\" onClick={togglePopover}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\n\r\nexport const CardMenu = ({ togglePopover, anchorEl }) => {\r\n  const Menu = {\r\n    Labels,\r\n    DeleteCard\r\n  }\r\n\r\n  return (\r\n    <div className=\"card-menu flex col\">\r\n      {Object.entries(Menu).map(([name, cmp]) => (\r\n        <span\r\n          className=\"modal-btn fast\"\r\n          onClick={ev => togglePopover(ev, { cmp, el: anchorEl })}\r\n          key={name}>\r\n          <img src={process.env.PUBLIC_URL + `/${name}.png`} alt=\"\" />\r\n          {name.split(/(?=[A-Z])/).join(' ')}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/clock.22d4d1be.svg\";","import { useRef, useState } from 'react'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { CardAvatars } from '../avatars/CardAvatars'\r\nimport { CardMenu } from './CardMenu/CardMenu'\r\nimport clock from '../../../assets/clock.svg'\r\n\r\nexport const Card = ({ card, list, handleDrop, togglePopover }) => {\r\n  const gLabels = useSelector(state => state.boardReducer.board.labels)\r\n  const { _id, title, attachments, members, desc, dueDate, labels } = card || {}\r\n  const [posOffset, setPosOffset] = useState(null)\r\n  const rectRef = useRef(null)\r\n  const history = useHistory()\r\n\r\n  const openModal = () => history.push(`/board/modal/${_id}`)\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    collect: monitor => ({ isDragging: !!monitor.isDragging() }),\r\n    item: { type: 'CARD' },\r\n    begin: () => {\r\n      const { height, width } = rectRef.current.getBoundingClientRect()\r\n      return {\r\n        type: 'CARD',\r\n        card,\r\n        sourceCardId: _id,\r\n        sourceListId: list._id,\r\n        height,\r\n        width\r\n      }\r\n    }\r\n  })\r\n\r\n  const [{ cardOver, hoverHeight }, drop] = useDrop({\r\n    accept: 'CARD',\r\n    hover: (item, monitor) => {\r\n      const { top, height } = rectRef.current.getBoundingClientRect()\r\n      setPosOffset(top + height / 2 > monitor.getClientOffset().y ? 0 : 1)\r\n    },\r\n    collect: monitor => ({\r\n      cardOver: monitor.isOver() && monitor.getItem().sourceCardId !== _id,\r\n      hoverHeight: monitor.getItem()?.height\r\n    }),\r\n    drop: item => {\r\n      // handleDrop is not passed as prop when this instance is the drag layer to prevent this instance from accepting itself.\r\n      handleDrop && handleDrop({ ...item, targetCardId: _id, targetListId: list._id, posOffset })\r\n    }\r\n  })\r\n\r\n  const openMenu = ev => togglePopover(ev, { cmp: CardMenu, cardId: _id, el: rectRef.current })\r\n\r\n  return (\r\n    <div ref={drop} className={`card-drop-container${isDragging ? ' hidden' : ''}`}>\r\n      <div ref={rectRef} className=\"rect-ref\">\r\n        {cardOver && !posOffset && (\r\n          <div className=\"placeholder top\" style={{ height: `${hoverHeight}px` }} />\r\n        )}\r\n        <div ref={drag} className=\"card-preview flex col fast m8 sbl\">\r\n          <div onClick={openModal} className={`container f-110 flex col m8 sbl`}>\r\n            <span className=\"title\">{title}</span>\r\n            <button className=\"menu-btn\" onClick={openMenu}>\r\n              ···\r\n            </button>\r\n            <span className=\"desc fw\">{desc}</span>\r\n            {attachments[0] && (\r\n              <div className=\"attachments\">\r\n                <img src={attachments[0]} alt=\"\" />\r\n              </div>\r\n            )}\r\n            {labels[0] && (\r\n              <div className=\"labels flex\">\r\n                {gLabels.map(\r\n                  gLabel =>\r\n                    labels.some(label => label === gLabel._id) && (\r\n                      <div className={`label ${gLabel.color}`} key={gLabel._id}></div>\r\n                    )\r\n                )}\r\n              </div>\r\n            )}\r\n            {(!!dueDate || !!members[0]) && (\r\n              <div className=\"flex jb\">\r\n                {!!dueDate && (\r\n                  <div className=\"due-date flex ac\">\r\n                    <img src={clock} alt=\"\" />\r\n                    <p>{new Date(dueDate).toDateString()}</p>\r\n                  </div>\r\n                )}\r\n                <div className=\"spacer\" />\r\n                {members[0] && <CardAvatars members={members} />}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {cardOver && !!posOffset && (\r\n          <div className=\"placeholder bottom\" style={{ height: `${hoverHeight}px` }} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\nimport { useEffect } from 'react'\r\n\r\nexport const ListMenu = ({ listId, removeList, handleClose }) => {\r\n\r\n  useEffect(() => {\r\n    console.log(listId);\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"list-menu reusable flex col\">\r\n      <span className=\"title asc\">Delete List?</span>\r\n      <div className=\"flex\">\r\n        <button className=\"modal-btn\" onClick={() => removeList(listId)}>\r\n          Delete\r\n        </button>\r\n        <button className=\"modal-btn\" onClick={handleClose}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { ListMenu } from './ListMenu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport const ListPopover = ({removeList, listId}) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  return (\r\n    <div className=\"popover-section\">\r\n      <button className=\"delete-btn\" aria-describedby={id} onClick={handleClick}>\r\n        ···\r\n      </button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <ListMenu listId={listId} removeList={removeList} handleClose={handleClose}></ListMenu>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import { ClickAwayListener } from '@material-ui/core'\r\nimport { useState, useRef } from 'react'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UPDATE_LIST } from '../../../store/board/BoardActions'\r\nimport { Card } from '../Card/Card'\r\nimport { ListMenu } from './ListMenu/ListMenu'\r\nimport { ListPopover } from './ListMenu/ListPopover'\r\n\r\nexport const List = ({ list, addCard, handleDrop, removeList, togglePopover }) => {\r\n  const { _id: listId, cards } = list\r\n  const [editables, setEditables] = useState({ title: list.title })\r\n  const { title } = editables\r\n  const [isAddCard, setIsAddCard] = useState(false)\r\n  const [posOffset, setPosOffset] = useState(null)\r\n  const [timer, setTimer] = useState(null)\r\n  const rectRef = useRef(null)\r\n  const dispatch = useDispatch()\r\n\r\n  const [newCard, setNewCard] = useState({\r\n    title: '',\r\n    activity: [],\r\n    attachments: [],\r\n    checklist: [],\r\n    desc: '',\r\n    dueDate: '',\r\n    labels: [],\r\n    members: []\r\n  })\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    collect: monitor => ({\r\n      isDragging: !!monitor.isDragging()\r\n    }),\r\n    item: { type: 'LIST' },\r\n    begin: () => {\r\n      const { height, width } = rectRef.current.getBoundingClientRect()\r\n      return {\r\n        type: 'LIST',\r\n        list,\r\n        sourceListId: listId,\r\n        width,\r\n        height\r\n      }\r\n    }\r\n  })\r\n\r\n  const [{ cardOver, listOver, hoverWidth, hoverHeight }, drop] = useDrop({\r\n    accept: ['CARD', 'LIST'],\r\n    hover: (item, monitor) => {\r\n      const { left, width } = rectRef.current.getBoundingClientRect()\r\n      setPosOffset(left + width / 2 > monitor.getClientOffset().x ? 0 : 1)\r\n    },\r\n    collect: monitor => ({\r\n      hoverWidth: monitor.getItem()?.width,\r\n      hoverHeight: monitor.getItem()?.height,\r\n      listOver:\r\n        monitor.isOver() &&\r\n        monitor.getItemType() === 'LIST' &&\r\n        monitor.getItem().sourceListId !== listId,\r\n      cardOver:\r\n        monitor.isOver() &&\r\n        monitor.getItemType() === 'CARD' &&\r\n        (!cards.length || (cards.length === 1 && monitor.getItem().sourceCardId === cards[0]._id))\r\n    }),\r\n    drop: (item, monitor) => {\r\n      if ((item.type === 'CARD' && !monitor.didDrop()) || item.type === 'LIST' || !cards.length) {\r\n        // handleDrop is not passed as prop when this instance is the drag layer to prevent this instance from accepting itself.\r\n        handleDrop && handleDrop({ ...item, targetListId: listId, posOffset })\r\n      }\r\n    }\r\n  })\r\n\r\n  const handleInput = ({ target: { name, value } }) => {\r\n    setNewCard({ ...newCard, [name]: value })\r\n  }\r\n\r\n  const handleEdit = ({ target: { name, value } }) => {\r\n    setEditables({ ...editables, [name]: value })\r\n    clearTimeout(timer)\r\n    setTimer(\r\n      setTimeout(() => {\r\n        dispatch(UPDATE_LIST({ name, value, listId }))\r\n      }, 500) \r\n    )\r\n  }\r\n\r\n  const handleKeyUp = ({ target, key }) => {\r\n    if (key === 'Enter' || key === 'Escape') target.blur()\r\n  }\r\n\r\n  const toggleIsAddCard = ev => {\r\n    ev.preventDefault()\r\n    setIsAddCard(!isAddCard)\r\n  }\r\n\r\n  const onAddCard = ev => {\r\n    ev.preventDefault()\r\n    addCard(newCard, listId)\r\n    setIsAddCard(false)\r\n    setNewCard({\r\n      title: '',\r\n      activity: [],\r\n      attachments: [],\r\n      checklist: [],\r\n      desc: '',\r\n      dueDate: '',\r\n      labels: [],\r\n      members: []\r\n    })\r\n  }\r\n\r\n  const openMenu = ev => togglePopover(ev, { cmp: ListMenu, listId: listId, el: rectRef.current })\r\n\r\n  return (\r\n    <div ref={drop} className={`list-drop-container${isDragging ? ' hidden' : ''}`}>\r\n      <div ref={rectRef} className=\"rect-ref flex\">\r\n        {listOver && !posOffset && (\r\n          <div\r\n            className=\"placeholder left\"\r\n            style={{\r\n              width: `${hoverWidth}px`,\r\n              height: `${hoverHeight}px`\r\n            }}\r\n          />\r\n        )}\r\n        <div className={`list`}>\r\n          <div className=\"container flex col\">\r\n            <div className=\"list-header flex jb\">\r\n              <input\r\n                ref={drag}\r\n                name=\"title\"\r\n                value={title}\r\n                className=\"list-title fast f-110\"\r\n                onFocus={ev => ev.target.select()}\r\n                onChange={handleEdit}\r\n                onKeyUp={handleKeyUp}\r\n              />\r\n              {/* <button className=\"delete-btn\" onClick={() => removeList(listId)}> */}\r\n              <ListPopover className=\"delete-btn\" listId={listId} removeList={removeList}></ListPopover>\r\n              {/* <button className=\"delete-btn\" onClick={openMenu}>\r\n                ···\r\n              </button> */}\r\n            </div>\r\n            <div className=\"cards flex col\">\r\n              {cards.map(card => (\r\n                <Card\r\n                  key={card._id}\r\n                  card={card}\r\n                  list={list}\r\n                  handleDrop={handleDrop}\r\n                  togglePopover={togglePopover}\r\n                />\r\n              ))}\r\n              {cardOver && (\r\n                <div className=\"placeholder-card\" style={{ height: `${hoverHeight}px` }} />\r\n              )}\r\n            </div>\r\n            {isAddCard && (\r\n              <ClickAwayListener onClickAway={() => setIsAddCard(false)}>\r\n                <form action=\"\" className=\"add-card-form\" onSubmit={onAddCard}>\r\n                  <input\r\n                    autoFocus\r\n                    autoComplete=\"off\"\r\n                    placeholder=\"Enter a title for this card...\"\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={newCard.title}\r\n                    onChange={handleInput}\r\n                  />\r\n                  <div className=\"add-card-btns flex jb\">\r\n                    <button className=\"add-card-btn\">Add Card</button>\r\n                    <button onClick={toggleIsAddCard} className=\"close-btn\">\r\n                      X\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </ClickAwayListener>\r\n            )}\r\n            {!isAddCard && (\r\n              <div className=\"add-card\" onClick={toggleIsAddCard}>\r\n                <span>+</span> Add another card\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {listOver && !!posOffset && (\r\n          <div\r\n            className=\"placeholder right\"\r\n            style={{\r\n              width: `${hoverWidth}px`,\r\n              height: `${hoverHeight}px`\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { useDispatch } from 'react-redux';\r\nimport { GET_BOARD_BY_ID } from '../../../../store/board/BoardActions';\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    '&:focus': {\r\n      // backgroundColor: theme.palette.primary.main,\r\n      // '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n      //   color: theme.palette.common.white,\r\n      // },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function CustomizedMenus({ userBoards }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const dispatch = useDispatch()\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const onSelectBoard = (boardId) => {\r\n    dispatch(GET_BOARD_BY_ID(boardId))\r\n    handleClose()\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"boards-select-section\">\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n        className=\"boards-select-btn\"\r\n      >\r\n        <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z\" fill=\"currentColor\"></path></svg>\r\n        <div>Boards ▼</div>\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {userBoards?.map(board => (\r\n          <StyledMenuItem onClick={() => onSelectBoard(board._id)} className=\"boards-select-item\" key={board._id}>\r\n            <ListItemText primary={board.title} />\r\n          </StyledMenuItem>\r\n        ))}\r\n\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}","import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_BOARD } from '../../../../store/board/BoardActions'\r\nimport { GET_USERS } from '../../../../store/user/UserActions'\r\n\r\nexport const BoardMembers = ({ boardMembers, setAnchorEl }) => {\r\n  const [users, setUsers] = useState([])\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    console.log(boardMembers)\r\n  }, [])\r\n\r\n  const onHandleChange = async (ev) => {\r\n    const value = ev.target.value;\r\n    if(value) {\r\n      dispatch(GET_USERS(value)).then(res => setUsers(res));\r\n    } else setUsers([])\r\n  }\r\n\r\n  const addMember = member => {\r\n    console.log('adding user...', member);\r\n    dispatch(UPDATE_BOARD({ name: 'users', value: [...boardMembers, member] }))\r\n  }\r\n\r\n  const removeMember = memberId => {\r\n    const membersFiltered = boardMembers.filter(member => member._id !== memberId)\r\n    dispatch(UPDATE_BOARD({ name: 'users', value: membersFiltered }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"members reusable board-members flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={() => setAnchorEl(null)}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Members</span>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search Members\"\r\n        onChange={onHandleChange}\r\n      />\r\n      <div className=\"list flex col\">\r\n        {users && users[0] && users?.map(\r\n          user =>\r\n          boardMembers.some(member => member._id === user._id) && (\r\n              <div className=\"flex jb\" key={user._id}>\r\n                <span>{user.fullname}</span>\r\n                <button onClick={() => removeMember(user._id)}>X</button>\r\n              </div>\r\n            )\r\n        )}\r\n      </div>\r\n      {users && users[0] && (\r\n        <div className=\"list flex col\">\r\n          <span className=\"bold\">Users</span>\r\n          {users.map(user =>\r\n          boardMembers.every(member => member._id !== user._id) && (\r\n            <div className=\"flex jb\" key={user._id}>\r\n              <span>{user.fullname}</span>\r\n              <button onClick={() => addMember(user)}>+</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { BoardMembers } from '../BoardMembers/BoardMembers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport const ColorPicker = ({ boardMembers }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const colors = ['red', 'orange', 'gold', 'green', 'gradient', 'purple', 'pink', 'gray']\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const onColorPick = (color) => {\r\n    var root = document.getElementById('root')\r\n    color = color === 'gradient'? 'linear-gradient(#006f83, #00aecc)': color\r\n    root.style.background = color\r\n    handleClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"color-picker-section\">\r\n      <Button className=\"color-picker-btn\" aria-describedby={id} variant=\"contained\" onClick={handleClick}>\r\n        {/* <img src={process.env.PUBLIC_URL + `/User.png`} alt=\"\" /> */}\r\n        <svg width=\"512\" height=\"512\" viewBox=\"0 0 384 384\"><path d=\"M192 0C85.973 0 0 85.973 0 192s85.973 192 192 192a31.96 31.96 0 0 0 32-32c0-8.32-3.093-15.787-8.32-21.44-5.013-5.653-8-13.013-8-21.227a31.96 31.96 0 0 1 32-32h37.653c58.88 0 106.667-47.787 106.667-106.667C384 76.373 298.027 0 192 0zM74.667 192a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64zm64-85.333a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm106.666 0a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm64 85.333a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64z\" fill=\"#fff\" /></svg>\r\n      </Button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <div className=\"colors-section\">\r\n          <h3>Change Background</h3>\r\n          <div className=\"colors-container\">\r\n            {colors.map(color => {\r\n              return <div key={color} className={`color-item ${color}`} onClick={() => onColorPick(color)}></div>\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { BoardMembers } from '../BoardMembers/BoardMembers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function SimplePopover({ boardMembers }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  return (\r\n    <div className=\"board-members-section\">\r\n      <Button className=\"board-members-btn\" aria-describedby={id} variant=\"contained\" onClick={handleClick}>\r\n        <img src={process.env.PUBLIC_URL + `/User.png`} alt=\"\" />\r\n        <div>Board Members ▼</div>\r\n      </Button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <BoardMembers boardMembers={boardMembers} setAnchorEl={setAnchorEl}></BoardMembers>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}","import { useHistory } from 'react-router-dom'\r\nimport CustomizedMenus from './BoardsSelect/BoardsSelect'\r\nimport { ColorPicker } from './ColorPicker/ColorPicker'\r\nimport SimplePopover from './Popover/Popover'\r\n\r\nexport const BoardHeader = ({ userBoards, boardTitle, boardMembers }) => {\r\n\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <div className=\"board-header-section\">\r\n      <CustomizedMenus userBoards={userBoards}></CustomizedMenus>\r\n      <h2>{boardTitle}</h2>\r\n      <SimplePopover boardMembers={boardMembers}></SimplePopover>\r\n      <ColorPicker></ColorPicker>\r\n    </div>\r\n  )\r\n}\r\n","import { ClickAwayListener, Popper } from '@material-ui/core'\r\n\r\nexport const Popover = ({ anchorEl, pos, children, togglePopover}) => {\r\n  return (\r\n    anchorEl && (\r\n      <ClickAwayListener onClickAway={togglePopover}>\r\n        <Popper\r\n          onClick={ev => ev.stopPropagation()}\r\n          open={!!anchorEl}\r\n          anchorEl={anchorEl}\r\n          style={{zIndex:100}}\r\n          placement={pos}>\r\n          {children}\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    )\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useDrop } from 'react-dnd'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  ADD_CARD,\r\n  GET_BOARD_BY_ID,\r\n  HANDLE_DROP,\r\n  boardTypes,\r\n  ADD_LIST,\r\n  REMOVE_LIST,\r\n  GET_CARD_BY_ID\r\n} from '../../store/board/BoardActions'\r\nimport { List } from '../../components/Board/List/List'\r\nimport { socketService, socketTypes } from '../../service/socketService.js'\r\nimport { BoardHeader } from '../../components/Board/BoardHeader/BoardHeader'\r\nimport { useHistory } from 'react-router'\r\nimport { ClickAwayListener } from '@material-ui/core'\r\nimport { Popover } from '../../components/Board/ReUsables/Popover/Popover'\r\nimport { TOKEN_LOGIN } from '../../store/user/UserActions'\r\n\r\nexport const Board = () => {\r\n  const { board, list, card } = useSelector(state => state.boardReducer) || {}\r\n  const { lists, title, _id, users } = board || {}\r\n  const { user, userBoards } = useSelector(state => state.userReducer) || {}\r\n  const [isAddList, setIsAddList] = useState(false)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [DynCmp, setDynCmp] = useState(null)\r\n  const [newList, setNewList] = useState({\r\n    title: '',\r\n    cards: []\r\n  })\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    if (!userBoards[0]) history.replace('/create-modal')\r\n    else {\r\n      dispatch(GET_BOARD_BY_ID(sessionStorage.boardId || userBoards[0]._id))\r\n      socketService.setup()\r\n      socketService.emit(socketTypes.JOIN_BOARD, _id)\r\n      socketService.on(socketTypes.BOARD_UPDATED, nextBoard => {\r\n        dispatch({ type: boardTypes.SET_BOARD, payload: nextBoard })\r\n      })\r\n      return () => socketService.terminate\r\n    }\r\n  }, [user])\r\n\r\n  const addCard = (card, listId) => {\r\n    dispatch(ADD_CARD(card, listId))\r\n  }\r\n\r\n  const addList = ev => {\r\n    ev.preventDefault()\r\n    dispatch(ADD_LIST(newList))\r\n    setIsAddList(false)\r\n    setNewList({ title: '', cards: [] })\r\n  }\r\n\r\n  const removeList = listId => {\r\n    dispatch(REMOVE_LIST(listId))\r\n  }\r\n\r\n  const handleInput = ({ target: { name, value } }, item) => {\r\n    setNewList({ ...newList, [name]: value })\r\n  }\r\n\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: 'LIST',\r\n    collect: monitor => ({\r\n      isOver: !!monitor.isOver()\r\n    })\r\n  })\r\n\r\n  const handleDrop = details => dispatch(HANDLE_DROP(details))\r\n\r\n  const togglePopover = (ev, { cmp, cardId, el } = {}) => {\r\n    ev.stopPropagation()\r\n    cardId && dispatch(GET_CARD_BY_ID(cardId))\r\n    cmp && setDynCmp(() => cmp)\r\n    setAnchorEl(el ? el : ev.target !== anchorEl && cmp ? ev.target : null)\r\n  }\r\n\r\n  return (\r\n    <main ref={drop} className=\"board\">\r\n      <BoardHeader boardTitle={title} boardMembers={users} userBoards={userBoards} />\r\n      <section className=\"container flex\">\r\n        {lists?.map(list => (\r\n          <List\r\n            list={list}\r\n            key={list._id}\r\n            removeList={removeList}\r\n            addCard={addCard}\r\n            handleDrop={handleDrop}\r\n            togglePopover={togglePopover}\r\n          />\r\n        ))}\r\n        {isAddList && (\r\n          <ClickAwayListener onClickAway={() => setIsAddList(false)}>\r\n            <form action=\"\" className=\"add-list-form\" onSubmit={addList}>\r\n              <input\r\n                placeholder=\"Enter a title for this list...\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={newList.title}\r\n                onChange={handleInput}\r\n              />\r\n              <div className=\"add-list-btns\">\r\n                <button className=\"add-list-btn\">Add list</button>\r\n                <button\r\n                  onClick={ev => {\r\n                    ev.preventDefault()\r\n                    setIsAddList(false)\r\n                  }}\r\n                  className=\"close-btn\">\r\n                  X\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </ClickAwayListener>\r\n        )}\r\n        {!isAddList && (\r\n          <div className=\"add-list-container\" onClick={() => setIsAddList(true)}>\r\n            <p>\r\n              <span>+</span> Add another list\r\n            </p>\r\n          </div>\r\n        )}\r\n      </section>\r\n      <Popover anchorEl={anchorEl} togglePopover={togglePopover} pos=\"right-start\">\r\n        {DynCmp && (\r\n          <DynCmp anchorEl={anchorEl} togglePopover={togglePopover} list={list} card={card} />\r\n        )}\r\n      </Popover>\r\n    </main>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nfunction LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box width=\"100%\" mr={1}>\r\n        <LinearProgress variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box minWidth={35}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n  value: PropTypes.number.isRequired\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%'\r\n  }\r\n})\r\n\r\nexport default function ProgressBar({ progress }) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <LinearProgressWithLabel value={progress} />\r\n    </div>\r\n  )\r\n}\r\n","import { Checkbox } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { UPDATE_CARD } from \"../../../store/board/BoardActions\";\r\nimport ProgressBar from \"./ProgressBar/ProgressBar\";\r\nimport utilService from \"../../../service/utilService\";\r\n\r\n\r\nexport const CardChecklists = ({ checklist, cardChecklists, cardId }) => {\r\n    const [showInput, setShowInput] = useState(false);\r\n    const [newItem, setNewItem] = useState({\r\n        _id: utilService.makeId(),\r\n        desc: '',\r\n        isChecked: false,\r\n\r\n    })\r\n    const dispatch = useDispatch();\r\n\r\n    const progressStatus = () => {\r\n        var checkedItems = checklist.items.filter(item => item.isChecked === true);\r\n        let res = (+checkedItems.length / +checklist.items.length) * 100;\r\n        if (isNaN(res)) res = 0;\r\n        return res\r\n    }\r\n\r\n    const onCheckBox = (idx) => {\r\n        let list = JSON.parse(JSON.stringify(checklist));\r\n        let lists = JSON.parse(JSON.stringify(cardChecklists));\r\n        list.items[idx].isChecked = !list.items[idx].isChecked;\r\n        const listIdx = lists.findIndex(aList => aList._id === list._id);\r\n        lists[listIdx] = list;\r\n        dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }));\r\n    }\r\n\r\n    const toggleInput = () => {\r\n        setShowInput(!showInput)\r\n    }\r\n\r\n    const onAddNewItem = async () => {\r\n        let list = JSON.parse(JSON.stringify(checklist));\r\n        let lists = JSON.parse(JSON.stringify(cardChecklists));\r\n        console.log(list);\r\n        const listIdx = lists.findIndex(aList => aList._id === list._id);\r\n        console.log(listIdx);\r\n        lists[listIdx].items.push(newItem);\r\n        await dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }));\r\n        setNewItem({ _id: utilService.makeId(), desc: '', isChecked: false })\r\n        toggleInput();\r\n    }\r\n\r\n    const onRemoveItem = (idx) => {\r\n        let list = JSON.parse(JSON.stringify(checklist));\r\n        let lists = JSON.parse(JSON.stringify(cardChecklists));\r\n        list.items.splice(idx, 1);\r\n        const listIdx = lists.findIndex(aList => aList._id === list._id);\r\n        lists[listIdx] = list;\r\n        dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }));\r\n    }\r\n\r\n    const onHandleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        setNewItem({ ...newItem, [field]: value })\r\n    }\r\n\r\n    const onRemoveList = () => {\r\n        let lists = JSON.parse(JSON.stringify(cardChecklists));\r\n        const listIdx = lists.findIndex(list => list._id === checklist._id);\r\n        lists.splice(listIdx, 1)\r\n        dispatch(UPDATE_CARD({ name: 'checklist', value: [...lists], cardId }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"checklists-section\">\r\n            <div className=\"list-header\">\r\n                <div className=\"header-main\">\r\n                    <img src={process.env.PUBLIC_URL + `/CheckList.png`} alt=\"\" />\r\n                    <h3>{checklist.title}</h3>\r\n                </div>\r\n                <button onClick={onRemoveList}>Delete</button>\r\n            </div>\r\n            <ProgressBar progress={progressStatus()}></ProgressBar>\r\n            {checklist.items.map((item, idx) => (\r\n                <div key={idx} className=\"checklist-item-container\">\r\n                    <div className=\"checklist-item-main\">\r\n                        <Checkbox\r\n                            color=\"primary\"\r\n                            inputProps={{ 'aria-label': 'checkbox' }}\r\n                            checked={item.isChecked}\r\n                            onChange={() => onCheckBox(idx)}\r\n                        />\r\n                        <p>{item.desc}</p>\r\n                    </div>\r\n                    <button onClick={() => onRemoveItem(idx)}>X</button>\r\n                </div>\r\n            ))}\r\n            { !showInput && <button onClick={toggleInput}>Add an item</button>}\r\n            {showInput && <div className=\"add-item-container\">\r\n                <input autoFocus type=\"text\" name=\"desc\" value={newItem.desc} onChange={onHandleChange} id=\"\" />\r\n                <div className=\"btns-container\">\r\n                    <button onClick={onAddNewItem}>Add</button>\r\n                    <button onClick={toggleInput}>X</button>\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const Members = ({ card: { members, _id: cardId }, togglePopover }) => {\r\n  const { users } = useSelector(state => state.boardReducer.board)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [searchRes, setSearchRes] = useState(null)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    setSearchRes(\r\n      users.filter(\r\n        user =>\r\n          members.every(member => member !== user._id) &&\r\n          (user.fullname.includes(searchTerm) || user.email.includes(searchTerm))\r\n      )\r\n    )\r\n  }, [searchTerm, members])\r\n\r\n  const handleInput = ({ target: { value } }) => setSearchTerm(value)\r\n\r\n  const addMember = ({ target: { value: userId } }) => {\r\n    dispatch(UPDATE_CARD({ name: 'members', value: [...members, userId], cardId }))\r\n  }\r\n\r\n  const removeMember = ({ target: { value: userId } }) => {\r\n    const membersFiltered = members.filter(member => member !== userId)\r\n    dispatch(UPDATE_CARD({ name: 'members', value: membersFiltered, cardId }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"members reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Members</span>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search Members\"\r\n        value={searchTerm}\r\n        onChange={handleInput}\r\n      />\r\n      <div className=\"list flex col\">\r\n        {users.map(\r\n          user =>\r\n            members.some(member => member === user._id) && (\r\n              <div className=\"flex jb\" key={user._id}>\r\n                <span>{user.fullname}</span>\r\n                <button value={user._id} onClick={removeMember}>\r\n                  X\r\n                </button>\r\n              </div>\r\n            )\r\n        )}\r\n      </div>\r\n      {searchTerm && (\r\n        <div className=\"list flex col\">\r\n          <span className=\"bold\">Board Members</span>\r\n          {searchRes.map(user => (\r\n            <div className=\"flex jb\" key={user._id}>\r\n              <span>{user.fullname}</span>\r\n              <button value={user._id} onClick={addMember}>\r\n                +\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\"\r\nimport { UPDATE_CARD } from \"../../../../store/board/BoardActions\";\r\nimport utilService from \"../../../../service/utilService\"\r\n\r\nexport const CheckList = ({card: {_id: cardId, checklist: cardChecklist}, togglePopover}) => {\r\n  const [checklist, setChecklist] = useState({\r\n    _id: utilService.makeId(),\r\n    title: '',\r\n    items: [],\r\n  })\r\n  const dispatch = useDispatch();\r\n\r\n  const onAddChecklist = (ev) => {\r\n    ev.preventDefault();\r\n    dispatch(UPDATE_CARD({ name: 'checklist', value: [...cardChecklist, checklist], cardId }));\r\n  }\r\n\r\n  const onHandleChange = (ev) => {\r\n    const value = ev.target.value;\r\n    const field = ev.target.name;\r\n    setChecklist({...checklist, [field]: value});\r\n    console.log(checklist);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"checklist-section reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n    </button>\r\n      <p className=\"title bold asc\">Add a Check List</p>\r\n      <form action=\"\" className=\"flex col\" onSubmit={onAddChecklist}>\r\n        <label htmlFor=\"checklist-title\">Title:</label>\r\n        <input autoFocus id=\"checklist-title\" value={checklist.title} onChange={onHandleChange} name=\"title\" type=\"text\" placeholder=\"Insert a title...\"/>\r\n        <button>Add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions'\r\n\r\nexport const DueDate = ({ card: { dueDate: prevDueDate, _id: cardId }, togglePopover }) => {\r\n  const [dateFormat, setDateFormat] = useState('')\r\n  const [dueDate, setDueDate] = useState(Date.now())\r\n  const dispatch = useDispatch()\r\n\r\n  const prevDate = () => {\r\n    if (prevDate) {\r\n      var toDate = new Date(prevDueDate).getDate()\r\n      var toMonth = new Date(prevDueDate).getMonth() + 1\r\n      var toYear = new Date(prevDueDate).getFullYear()\r\n      if (`${toMonth}`.length < 2) toMonth = '0' + toMonth\r\n      var originalDate = toYear + '-' + toMonth + '-' + toDate\r\n      return originalDate\r\n    } else return ''\r\n  }\r\n\r\n  const saveDueDate = (ev) => {\r\n    ev.preventDefault();\r\n    dispatch(UPDATE_CARD({ name: 'dueDate', value: dueDate, cardId }))\r\n    togglePopover(ev)\r\n  }\r\n\r\n  const onHandleChange = ev => {\r\n    const value = ev.target.value\r\n    const date = new Date(value)\r\n    const timestamp = date.getTime()\r\n    setDateFormat(value)\r\n    setDueDate(timestamp)\r\n  }\r\n\r\n  return (\r\n    <div className=\"due-date-section reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <p className=\"title bold asc\">Change Due Date</p>\r\n      <form action=\"\" onSubmit={saveDueDate} className=\"due-date-form flex col\">\r\n        <input\r\n          type=\"date\"\r\n          value={dateFormat ? dateFormat : prevDate()}\r\n          onChange={onHandleChange}\r\n          name=\"dueDate\"\r\n          id=\"\"\r\n        />\r\n        <button>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const uploadImg = async (ev) => {\r\n  const UPLOAD_PRESET = 'iuzstnbj';\r\n  const CLOUD_NAME = 'ariecloud';\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`;\r\n  const FORM_DATA = new FormData();\r\n\r\n  FORM_DATA.append('file', ev.target.files[0]);\r\n  FORM_DATA.append('upload_preset', UPLOAD_PRESET);\r\n\r\n  try {\r\n      const res = await axios.post(UPLOAD_URL, FORM_DATA)\r\n      return res.data;\r\n  } catch(err) {\r\n      console.log('ERROR:', err);\r\n  }\r\n}","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { uploadImg } from '../../../../service/imgUploadService.js';\r\nimport { UPDATE_CARD } from '../../../../store/board/BoardActions.js';\r\n\r\nexport const Attachment = ({ card: { attachments, _id: cardId }, togglePopover }) => {\r\n  const [attachmentUrl, setAttachmentUrl] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const saveAttachment = (ev) => {\r\n    ev.preventDefault();\r\n    dispatch(UPDATE_CARD({ name: 'attachments', value: [...attachments, attachmentUrl], cardId }))\r\n  }\r\n\r\n  const onUploadImg = async (ev) => {\r\n    const res = await uploadImg(ev);\r\n    console.log(res.url);\r\n    setAttachmentUrl(res.url)\r\n  }\r\n\r\n  return (\r\n    <div className=\"attachment-section reusable\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <p>Attachments</p>\r\n      <form action=\"\" onSubmit={saveAttachment} className=\"attachment-form\">\r\n        <label htmlFor=\"imgUrl\">\r\n          <p>Upload an attachment:</p>\r\n          <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png\" alt=\"\" />\r\n        </label>\r\n        <input className=\"upload-img\" type=\"file\" name=\"imgUrl\" onChange={onUploadImg} id=\"imgUrl\" />\r\n        <button>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { MenuItem, Select } from '@material-ui/core'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { HANDLE_DROP } from '../../../../store/board/BoardActions'\r\n\r\nexport const MoveCard = ({ card, list, togglePopover }) => {\r\n  const dispatch = useDispatch()\r\n  const { lists } = useSelector(state => state.boardReducer.board)\r\n  const [targetList, setTargetList] = useState(lists.find(lst => lst._id === list._id))\r\n  const [details, setDetails] = useState({\r\n    targetListId: list._id,\r\n    targetCardId: card._id,\r\n    type: 'CARD',\r\n    sourceListId: list._id,\r\n    sourceCardId: card._id\r\n  })\r\n\r\n  const handleInput = ({ target: { name, value } }) => {\r\n    if (name === 'targetListId') {\r\n      setDetails({ ...details, [name]: value, targetCardId: '' })\r\n      setTargetList(lists.find(lst => lst._id === value))\r\n    } else setDetails({ ...details, [name]: value })\r\n  }\r\n\r\n  const moveCard = (ev) => {\r\n    if (details.targetCardId !== details.sourceCardId) {\r\n      dispatch(HANDLE_DROP(details))\r\n      togglePopover(ev)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"move-card reusable flex col\">\r\n      <button className=\"close-btn pos-tr\" onClick={togglePopover}>\r\n        X\r\n      </button>\r\n      <span className=\"title bold asc\">Move Card</span>\r\n      <span className=\"title bold\">To List:</span>\r\n      <select name=\"targetListId\" value={details.targetListId} onChange={handleInput}>\r\n        {lists.map(lst => (\r\n          <option value={lst._id} key={lst._id}>\r\n            {`${lst.title} ${list._id === lst._id ? '(Current)' : ''}`}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <span className=\"title bold\">Position:</span>\r\n      <select name=\"targetCardId\" value={details.targetCardId} onChange={handleInput}>\r\n        {targetList.cards.map((crd, idx) => (\r\n          <option value={crd._id} key={crd._id}>\r\n            {`${idx + 1} ${card._id === crd._id ? '(Current)' : ''}`}\r\n          </option>\r\n        ))}\r\n        {list._id !== details.targetListId && (\r\n          <option value={''}>{targetList.cards.length + 1}</option>\r\n        )}\r\n      </select>\r\n      <button onClick={moveCard}>Move</button>\r\n    </div>\r\n  )\r\n}\r\n","import { Members } from '../../ReUsables/Members/Members'\r\nimport { Labels } from '../../ReUsables/Labels/Labels'\r\nimport { CheckList } from '../../ReUsables/CheckList/CheckList'\r\nimport { DueDate } from '../../ReUsables/DueDate/DueDate'\r\nimport { Attachment } from '../../ReUsables/Attachment/Attachment'\r\nimport { MoveCard } from '../../ReUsables/MoveCard/MoveCard'\r\nimport { DeleteCard } from '../../ReUsables/DeleteCard/DeleteCard'\r\n\r\nexport const SideBar = ({ togglePopover }) => {\r\n  const cmpMap = {\r\n    AddToCard: {\r\n      Members,\r\n      Labels,\r\n      CheckList,\r\n      DueDate,\r\n      Attachment\r\n    },\r\n    Actions: {\r\n      MoveCard,\r\n      DeleteCard\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"side-bar flex col\">\r\n      {Object.entries(cmpMap).map(([title, list]) => (\r\n        <div key={title}>\r\n          <span className=\"title\">{title.split(/(?=[A-Z])/).join(' ')}</span>\r\n          <div className=\"buttons\">\r\n            {Object.entries(list).map(([name, cmp]) => (\r\n              <span className=\"modal-btn fast\" onClick={ev => togglePopover(ev, cmp)} key={name}>\r\n                <img src={process.env.PUBLIC_URL + `/${name}.png`} alt=\"\" />\r\n                {name.split(/(?=[A-Z])/).join(' ')}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}","import moment from 'moment'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Avatar } from '@material-ui/core'\r\nimport { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { CardAvatars } from '../avatars/CardAvatars'\r\nimport { CardChecklists } from '../CardChecklists/CardChecklists'\r\nimport { SideBar } from './SideBar/SideBar'\r\nimport { Labels } from '../ReUsables/Labels/Labels'\r\nimport { Popover } from '../ReUsables/Popover/Popover'\r\nimport { GET_CARD_BY_ID, UPDATE_CARD, CLEAR_CARD } from '../../../store/board/BoardActions'\r\n\r\nexport const CardModal = () => {\r\n  const { board, list, card, users } = useSelector(state => state.boardReducer) || {}\r\n  const { activity, attachments, members, labels, checklist } = card || {}\r\n  const [editables, setEditables] = useState(null)\r\n  const { title, desc } = editables || {}\r\n  const { cardId } = useParams()\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [DynCmp, setDynCmp] = useState(null)\r\n  const [timer, setTimer] = useState(null)\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const activityToShow = activity?.slice(0, 5)\r\n  const attachmentsToShow = attachments?.slice(0, 3)\r\n\r\n  useEffect(() => setEditables(null), [cardId])\r\n  useEffect(() => dispatch(GET_CARD_BY_ID(cardId)), [board, cardId])\r\n  useEffect(() => {\r\n    if (!editables && card) setEditables({ title: card.title, desc: card.desc })\r\n  }, [card])\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keyup', closeModal)\r\n    return () => document.removeEventListener('keyup', closeModal)\r\n  }, [])\r\n\r\n  const closeModal = ({ type, key }) => {\r\n    if (type === 'click' || key === 'Escape') {\r\n      history.push('/board')\r\n      dispatch(CLEAR_CARD())\r\n    }\r\n  }\r\n\r\n  const cycleCards = ev => {\r\n    ev.stopPropagation()\r\n    const cardIdx = list.cards.findIndex(crd => crd._id === cardId)\r\n    const nextCardId = cardIdx > -1 && list.cards[cardIdx + +ev.target.value]?._id\r\n    if (nextCardId) history.push(nextCardId)\r\n  }\r\n\r\n  const handleEdit = ({ target: { name, value } }) => {\r\n    setEditables({ ...editables, [name]: value })\r\n    clearTimeout(timer)\r\n    setTimer(\r\n      setTimeout(() => {\r\n        dispatch(UPDATE_CARD({ name, value, cardId }))\r\n      }, 500)\r\n    )\r\n  }\r\n\r\n  const togglePopover = (ev, cmp) => {\r\n    ev.stopPropagation()\r\n    setDynCmp(cmp ? () => cmp : null)\r\n    setAnchorEl(ev.currentTarget !== anchorEl && cmp ? ev.currentTarget : null)\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-screen flex col ac js\" onClick={closeModal}>\r\n      <nav className=\"card-nav flex jb fw\">\r\n        <button value={-1} onClick={cycleCards}>\r\n          Previous Card\r\n        </button>\r\n        <button value={1} onClick={cycleCards}>\r\n          Next Card\r\n        </button>\r\n      </nav>\r\n      <div className=\"modal-section\" onClick={togglePopover}>\r\n        <div className=\"container\">\r\n          {card && users && editables && (\r\n            <>\r\n              <div className=\"modal-header fw flex col as\">\r\n                <div className=\"title-header flex fw jb\">\r\n                  <div className=\"flex ac\">\r\n                    <img src={process.env.PUBLIC_URL + `/Card.png`} alt=\"\" />\r\n                    <input\r\n                      className=\"card-title\"\r\n                      autoComplete=\"off\"\r\n                      name=\"title\"\r\n                      value={title}\r\n                      onFocus={ev => ev.target.select()}\r\n                      onChange={handleEdit}\r\n                    />\r\n                  </div>\r\n                  <button className=\"exit-btn fast flex ac jc\" onClick={closeModal}>\r\n                    X\r\n                  </button>\r\n                </div>\r\n                <p className=\"modal-subtitle fw\">\r\n                  in list <span>{list.title}</span>\r\n                </p>\r\n              </div>\r\n              <div className=\"content sbl\">\r\n                {members[0] && (\r\n                  <div className=\"members-container\">\r\n                    <CardAvatars className=\"card-avatars\" members={members}></CardAvatars>\r\n                  </div>\r\n                )}\r\n                {labels[0] && (\r\n                  <div className=\"labels-section\">\r\n                    <h3>Labels</h3>\r\n                    <div\r\n                      className=\"labels-container flex wfc\"\r\n                      onClick={ev => togglePopover(ev, Labels)}>\r\n                      {board.labels.map(\r\n                        ({ _id: gLabelId, color, name }) =>\r\n                          labels.some(labelId => labelId === gLabelId) && (\r\n                            <div className={`label ${color} pointer fast`} key={gLabelId}>\r\n                              {name}\r\n                            </div>\r\n                          )\r\n                      )}\r\n                      <button className=\"modal-btn\">+</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"desc-container\">\r\n                  <div className=\"desc-header\">\r\n                    <img src={process.env.PUBLIC_URL + `/Description.png`} alt=\"\" />\r\n                    <h3>Description</h3>\r\n                  </div>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    multiline\r\n                    placeholder=\"Add a more detailed description...\"\r\n                    rows={4}\r\n                    variant=\"outlined\"\r\n                    name=\"desc\"\r\n                    value={desc}\r\n                    onChange={handleEdit}\r\n                  />\r\n                </div>\r\n                {checklist[0] && (\r\n                  <div className=\"checklists-container\">\r\n                    {checklist.map((currChecklist, idx) => (\r\n                      <CardChecklists\r\n                        key={idx}\r\n                        cardChecklists={checklist}\r\n                        checklist={currChecklist}\r\n                        cardId={cardId}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                {attachments[0] && (\r\n                  <div className=\"attachments-container\">\r\n                    <div className=\"attachments-header\">\r\n                      <img src={process.env.PUBLIC_URL + `/Attachment.png`} alt=\"\" />\r\n                      <h3>Attachments</h3>\r\n                    </div>\r\n                    <div className=\"attach-container flex\">\r\n                      {attachmentsToShow.map((attachment, index) => (\r\n                        <img key={index} src={attachment} alt=\"\" />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"activity-section\">\r\n                  <div className=\"activity-header\">\r\n                    <img src={process.env.PUBLIC_URL + `/Activity.png`} alt=\"\" />\r\n                    <h3>Activity</h3>\r\n                  </div>\r\n                  <ul className=\"activity-container\">\r\n                    {activityToShow.map(({ activity, createdBy, createdAt }) => {\r\n                      const { fullname, imgUrl } = users.find(user => user._id === createdBy) || {}\r\n                      return (\r\n                        fullname && (\r\n                          <li key={createdAt}>\r\n                            <div className=\"activity-main\">\r\n                              <div className=\"activity-secondary\">\r\n                                <Avatar alt={fullname} src={imgUrl ? imgUrl : '/'} />\r\n                                <div className=\"activity-txt\">\r\n                                  <div>\r\n                                    <span className=\"bold\">{fullname} </span>\r\n                                    {activity}\r\n                                  </div>\r\n                                  <p>{moment(createdAt).fromNow()}</p>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </li>\r\n                        )\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <SideBar togglePopover={togglePopover} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Popover anchorEl={anchorEl} togglePopover={togglePopover} pos=\"bottom-start\">\r\n        {DynCmp && (\r\n          <DynCmp anchorEl={anchorEl} togglePopover={togglePopover} list={list} card={card} />\r\n        )}\r\n      </Popover>\r\n    </div>\r\n  )\r\n}\r\n","import { useDragLayer } from 'react-dnd'\r\nimport { List } from '../Board/List/List'\r\nimport { Card } from '../Board/Card/Card'\r\n\r\nexport const DragLayer = () => {\r\n  const { item, pos } = useDragLayer(monitor => ({\r\n    item: monitor.getItem(),\r\n    pos: monitor.getSourceClientOffset()\r\n  }))\r\n\r\n  const { type, list, card, width, height } = item || {}\r\n\r\n  return (\r\n    item &&\r\n    !!pos && (\r\n      <div\r\n        className={`drag-layer ${type}`}\r\n        style={{\r\n          top: `${pos.y}px`,\r\n          left: `${pos.x}px`,\r\n          width: `${width}px`,\r\n          height: `${height}px`\r\n        }}>\r\n        {type === 'LIST' && <List list={list} />}\r\n        {type === 'CARD' && <Card card={card} />}\r\n      </div>\r\n    )\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useEffect, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink, useHistory, useParams } from 'react-router-dom'\r\nimport { ADD_BOARD } from '../../../store/board/BoardActions'\r\n\r\n\r\nexport const CreateBoardModal = props => {\r\n  const [newBoard, setNewBoard] = useState({\r\n    title: '',\r\n  })\r\n  const dispatch = useDispatch();\r\n  const { goBack } = useHistory()\r\n  const history = useHistory();\r\n  const outClick = useRef();\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keyup', closeModal)\r\n    document.getElementById('root').addEventListener('mouseup', closeModal)\r\n    return () => {\r\n      document.removeEventListener('keyup', closeModal)\r\n      document.getElementById('root').removeEventListener('mouseup', closeModal)\r\n    }\r\n  }, [])\r\n\r\n  const closeModal = ({ key, target, type }) => {\r\n    if (type === 'keyup' && key === 'Escape') goBack()\r\n    else if (type === 'mouseup' && !outClick.current.contains(target)) goBack()\r\n  }\r\n\r\n  const onHandleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    setNewBoard({ ...newBoard, [field]: value })\r\n    console.log(newBoard);\r\n  }\r\n\r\n  const addBoard = async () => {\r\n    await dispatch(ADD_BOARD(newBoard));\r\n    history.push('/board');\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-board-section\">\r\n      <div className=\"create-board-container\" ref={outClick}>\r\n        <div className=\"title-container\">\r\n          <h2>Add a Board</h2>\r\n          <button className=\"exit-btn\" onClick={goBack}>X</button>\r\n        </div>\r\n        <label htmlFor=\"\">Board Title:</label>\r\n        <input name=\"title\" type=\"text\" value={newBoard.title} onChange={onHandleChange} />\r\n        <button onClick={addBoard}>Create Board</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { LOGIN, SIGNUP } from '../../store/user/UserActions';\r\nimport { uploadImg } from '../../service/imgUploadService.js'\r\nimport { useHistory } from 'react-router';\r\nimport { useRef } from 'react';\r\n\r\nexport const LoginSingup = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const outClick = useRef();\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [userCred, setUserCred] = useState({\r\n    fullname: '',\r\n    email: '',\r\n    password: '',\r\n    imgUrl: '',\r\n    boards: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keyup', closeModal)\r\n    document.getElementById('root').addEventListener('mouseup', closeModal)\r\n    return () => {\r\n      document.removeEventListener('keyup', closeModal)\r\n      document.getElementById('root').removeEventListener('mouseup', closeModal)\r\n    }\r\n  }, [])\r\n\r\n  const closeModal = ({ key, target, type }) => {\r\n    if (type === 'keyup' && key === 'Escape') history.goBack()\r\n    else if (type === 'mouseup' && !outClick.current.contains(target)) history.goBack()\r\n  }\r\n\r\n  const onHandleChange = (ev, type) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    if (type === 'login') setUser({ ...user, [field]: value })\r\n    else setUserCred({ ...userCred, [field]: value })\r\n  }\r\n\r\n  const login = async (ev) => {\r\n    ev.preventDefault();\r\n    await dispatch(LOGIN(user));\r\n    history.push('/board');\r\n  }\r\n\r\n  const signup = async (ev) => {\r\n    ev.preventDefault();\r\n    await dispatch(SIGNUP(userCred));\r\n    history.push('/board');\r\n  }\r\n\r\n  const onUploadImg = async (ev) => {\r\n    const res = await uploadImg(ev);\r\n    console.log(res.url);\r\n    setUserCred({ ...userCred, imgUrl: res.url })\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-signup-section\">\r\n      <div className=\"login-signup-container\" ref={outClick}>\r\n        <button className=\"exit-btn\" onClick={history.goBack}>X</button>\r\n        <h2>Login</h2>\r\n        <form action=\"\" className=\"login-form\" onSubmit={login}>\r\n          <label htmlFor=\"\">Email:</label>\r\n          <input type=\"text\" name=\"email\" value={user.email} onChange={(event) => onHandleChange(event, 'login')} id=\"\" />\r\n          <label htmlFor=\"\">Password:</label>\r\n          <input type=\"text\" name=\"password\" value={user.password} onChange={(event) => onHandleChange(event, 'login')} id=\"\" />\r\n          <button>Login</button>\r\n        </form>\r\n        <div className=\"forms-seperator\">\r\n          -Or-\r\n        </div>\r\n        <h2>Signup</h2>\r\n        <form action=\"\" className=\"signup-form\" onSubmit={signup}>\r\n          <label htmlFor=\"\">Full Name:</label>\r\n          <input type=\"text\" name=\"fullname\" value={userCred.fullname} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"\">Email:</label>\r\n          <input type=\"text\" name=\"email\" value={userCred.email} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"\">Password:</label>\r\n          <input type=\"text\" name=\"password\" value={userCred.password} onChange={(event) => onHandleChange(event, 'signup')} id=\"\" />\r\n          <label htmlFor=\"imgUrl\">\r\n            <p>Upload a Profile Picture:</p>\r\n            <img src=\"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png\" alt=\"\"/>\r\n          </label>\r\n          <input className=\"upload-img\" type=\"file\" name=\"imgUrl\" onChange={onUploadImg} id=\"imgUrl\" />\r\n          <button>Signup</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\r\nimport { Provider as ReduxProvider, useSelector } from 'react-redux'\r\nimport { store } from './store/Store'\r\nimport { DndProvider } from 'react-dnd'\r\nimport MouseBackEnd from 'react-dnd-mouse-backend'\r\nimport { Header } from './components/Header/Header'\r\nimport { Home } from './pages/Home/Home'\r\nimport { Board } from './pages/Board/Board'\r\nimport { CardModal } from './components/Board/CardModal/CardModal'\r\nimport { DragLayer } from './components/DragLayer/DragLayer'\r\nimport { CreateBoardModal } from './components/Board/CreateBoardModal/CreateBoardModal'\r\nimport { LoginSingup } from './components/LoginSignup/LoginSignup'\r\nimport './styles/styles.scss'\r\n\r\nexport const App = () => {\r\n  const PrivateRoute = props => {\r\n    const { user } = useSelector(state => state.userReducer) || {}\r\n    return user?._id ? <Route {...props} /> : <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <ReduxProvider store={store}>\r\n      <DndProvider backend={MouseBackEnd}>\r\n        <Router>\r\n          <Header />\r\n          <Switch>\r\n            <PrivateRoute path=\"/board\" component={Board} />\r\n            <Route path=\"/\" component={Home} />\r\n          </Switch>\r\n          <PrivateRoute path=\"/board/modal/:cardId\" component={CardModal} />\r\n          <PrivateRoute path=\"/create-modal\" component={CreateBoardModal} />\r\n          <Route path=\"/login-signup\" component={LoginSingup} />\r\n        </Router>\r\n        <DragLayer />\r\n      </DndProvider>\r\n    </ReduxProvider>\r\n  )\r\n}\r\n","import { StrictMode } from 'react'\r\nimport { render } from 'react-dom'\r\nimport { App } from './App.jsx'\r\n\r\nrender(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}