(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{205:function(e,t){},213:function(e,t,c){},214:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(17),i=c(26),l=c(6),o=c(38),d=c(126),u=c(127),j=c(11),b=c(5),h=c(10),O=c.n(h),m=c(15),p=c(59),f=c.n(p),v=c(128),x="/api/",g=f.a.create({withCredentials:!0}),N=null,y=function(e,t){return _(e,"GET",t)},C=function(e,t){return _(e,"POST",t)},k=function(e,t){return _(e,"PUT",t)};function _(e){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(O.a.mark((function e(t){var c,n,a,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,!S(t)){e.next=6;break}return e.next=6,D();case 6:return e.next=8,g({url:x+t,headers:{authorization:"bearer ".concat(N)},method:c,data:n});case 8:return"undefined"!==typeof(a=e.sent).data.accessToken&&(N=a.data.accessToken),e.abrupt("return",a.data);case 13:throw e.prev=13,e.t0=e.catch(2),console.error("Had issues ".concat(c,"ing to server:\n").concat(e.t0)),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.includes("logout")||e.includes("login"))return!1;var t=Object(v.a)(N),c=t.exp;return Date.now()>=1e3*c}function D(){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("".concat(x,"auth/refresh_token"));case 3:t=e.sent,N=t.data.accessToken,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var E,T,R=function(e){return sessionStorage.boardId=e,y("board/".concat(e))},A=function(e){return k("board/".concat(e._id),e)},L=function(e){return C("board",e)},B=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},z=c(129),P=c.n(z),U="JOIN_BOARD",M="LEAVE_BOARD",F="BOARD_UPDATED",H=function(){E=P()("/")},J=function(){E=null},V=function(e,t){E.on(e,t)},X=function(e,t){E.off(e,t)},W=function(e,t){E.emit(e,t)},q=c(24),G={query:function(e){return y("user/users/".concat(e))},tokenLogin:function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("auth/refresh_token/login");case 3:return t=e.sent,sessionStorage.loggedUser=JSON.stringify(t.user),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("auth/login",t);case 3:return c=e.sent,sessionStorage.loggedUser=JSON.stringify(c.user),e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(m.a)(O.a.mark((function e(t){var c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/signup",t);case 2:return c=e.sent,n=c.user,sessionStorage.loggedUser=JSON.stringify(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Z="SET_LOGGED_USER",Q="SET_NEW_USER_BOARD",K="SET_IS_LOADING",Y="SET_USER_BOARDS",$=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(c){var n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.login(e);case 3:n=t.sent,a=n.user,r=n.board,c({type:Z,payload:a}),c({type:te.SET_BOARD,payload:r}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,c({type:K,payload:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,10,12,15]])})));return function(e){return t.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(c){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.signup(e);case 2:n=t.sent,c({type:Z,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},te={SET_BOARD:"SET_BOARD",SET_USERS:"SET_USERS",SET_CARD:"SET_CARD",SET_LIST:"SET_LIST",RESET_BOARD:"RESET_BOARD"},ce=function(){return function(e){e({type:te.RESET_BOARD,payload:null})}},ne=function(e){return function(t,c){var n=(c().boardReducer.board||{}).lists;if(n){var a=le(n,e),r=a.list,s=a.card;t({type:te.SET_LIST,payload:r}),t({type:te.SET_CARD,payload:s})}}},ae=function(e){var t=e.name,c=e.value,n=e.cardId;return function(e,a){var r=Object(q.cloneDeep)(a().boardReducer.board),s=le(r.lists,n).card;s[t]=c,s=oe(s,t),e(ie(r))}},re=function(e){var t=e.type,c=e.sourceListId,n=e.sourceCardId,a=e.targetListId,r=e.targetCardId,s=e.posOffset;return function(e,i){var l=Object(q.cloneDeep)(i().boardReducer.board),o=l.lists;if("LIST"===t){var d=o.findIndex((function(e){return e._id===c})),u=o.splice(d,1),j=Object(b.a)(u,1)[0],h=o.findIndex((function(e){return e._id===a}));o.splice(h+s,0,j)}else if("CARD"===t){var O=o.find((function(e){return e._id===c})),m=O.cards.findIndex((function(e){return e._id===n})),p=O.cards.splice(m,1),f=Object(b.a)(p,1)[0],v=o.find((function(e){return e._id===a})),x=v.cards.findIndex((function(e){return e._id===r||0}));null===s&&(s=c===a&&x>=m?1:0,r||(x=v.cards.length)),v.cards.splice(x+s,0,f)}e(ie(l))}},se=function(e){var t=e.name,c=e.value;return function(e,n){var a=Object(q.cloneDeep)(n().boardReducer.board);a[t]=c,e(ie(a))}},ie=function(e){return function(t,c){var n=Object(q.cloneDeep)(c().boardReducer.board);t({type:te.SET_BOARD,payload:e}),clearTimeout(T),T=setTimeout(Object(m.a)(O.a.mark((function c(){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,A(e);case 3:W(F,e._id),c.next=10;break;case 6:c.prev=6,c.t0=c.catch(0),t({type:te.SET_BOARD,payload:n}),console.error("Could not update board",c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,6]])}))),1500)}},le=function(e,t){var c,n,a;return{list:e.find((function(e,r){return e.cards.find((function(e,s){return e._id===t&&(c=e,n=s,a=r,!0)}))})),listIdx:a,card:c,cardIdx:n}},oe=function(e,t){var c,n=JSON.parse(sessionStorage.loggedUser);switch(t){case"card":c="Added this card";break;case"desc":c="Changed card description";break;case"members":c="Changed card members list";break;case"title":c="Changed card title";break;case"labels":c="Changed card labels";break;case"attachments":c="Added an attachment to card";break;case"dueDate":c="Changed card's due date";break;case"checklist":c="Changed a checklist item"}return e.activity.unshift({activity:c,createdAt:Date.now(),createdBy:n._id}),e},de={board:null,list:null,card:null},ue=c(23),je={isLoading:!0,user:sessionStorage.loggedUser?JSON.parse(sessionStorage.loggedUser):null},be=Object(o.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Z:return Object(j.a)(Object(j.a)({},e),{},{user:n});case Y:return Object(j.a)(Object(j.a)({},e),{},{user:Object(j.a)(Object(j.a)({},e.user),{},{boards:n})});case Q:return Object(j.a)(Object(j.a)({},e),{},{user:Object(j.a)(Object(j.a)({},e.user),{},{boards:[].concat(Object(ue.a)(e.user.boards),[n])})});case K:return Object(j.a)(Object(j.a)({},e),{},{isLoading:n});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case te.SET_BOARD:return Object(j.a)(Object(j.a)({},e),{},{board:n});case te.SET_LIST:return Object(j.a)(Object(j.a)({},e),{},{list:n});case te.SET_CARD:return Object(j.a)(Object(j.a)({},e),{},{card:n});case te.RESET_BOARD:return Object(j.a)({},de);default:return e}}}),he=Object(o.createStore)(be,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),Oe=c(262),me=c(130),pe=c.n(me),fe=c(14),ve=c(18),xe=function(e){var t=e.setIsModalOpen,c=Object(l.b)(),r=Object(fe.g)(),s=Object(l.c)((function(e){return e.userReducer.user})),i=Object(a.useState)({title:"",labels:[{_id:B(),name:"Not Started",color:"red"},{_id:B(),name:"In Progress",color:"orange"},{_id:B(),name:"QA",color:"yellow"},{_id:B(),name:"Done",color:"green"},{_id:B(),name:"Production",color:"blue"}],users:[s],lists:[{_id:B(),title:"To Do",cards:[]},{_id:B(),title:"Doing",cards:[]},{_id:B(),title:"Done",cards:[]},{_id:B(),title:"QA",cards:[]}],activity:[]}),o=Object(b.a)(i,2),d=o[0],u=o[1];Object(a.useEffect)((function(){return document.addEventListener("keyup",h),function(){return document.removeEventListener("keyup",h)}}),[]);var h=function(e){var c=e.type,n=e.key;"click"!==c&&"Escape"!==n||t(!1)};return Object(n.jsx)("div",{className:"modal-screen flex col ac js",onClick:h,children:Object(n.jsx)("div",{className:"create-board-section",onClick:function(e){return e.stopPropagation()},children:Object(n.jsxs)("div",{className:"create-board-container",children:[Object(n.jsxs)("div",{className:"title-container",children:[Object(n.jsx)("h2",{children:"Add a Board"}),Object(n.jsx)("button",{className:"exit-btn",onClick:h,children:"X"})]}),Object(n.jsx)("label",{htmlFor:"",children:"Board Title:"}),Object(n.jsx)("input",{name:"title",type:"text",value:d.title,onChange:function(e){var t=e.target,c=t.name,n=t.value;u(Object(j.a)(Object(j.a)({},d),{},Object(ve.a)({},c,n)))}}),Object(n.jsx)("button",{onClick:function(){var e;c((e=d,function(){var t=Object(m.a)(O.a.mark((function t(c,n){var a,r,s,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(q.cloneDeep)(n().boardReducer.board),r=Object(q.cloneDeep)(n().userReducer.user.boards),t.prev=2,t.next=5,L(e);case 5:s=t.sent,i=s.boardId,c({type:te.SET_BOARD,payload:Object(j.a)({_id:i},e)}),c({type:Q,payload:{_id:i,title:e.title}}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),c({type:te.SET_BOARD,payload:a}),c({type:Y,payload:r});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,c){return t.apply(this,arguments)}}())),r.push("/board")},children:"Create Board"})]})})})},ge=c(137),Ne=c(271);function ye(e){var t=e.user,c=r.a.useState(null),a=Object(b.a)(c,2),s=a[0],i=a[1],o=Object(l.b)(),d=Object(fe.g)(),u=function(){i(null)};return Object(n.jsxs)("div",{className:"simple-menu-section",children:[Object(n.jsx)("div",{className:"menu-btn","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:(null===t||void 0===t?void 0:t.imgUrl)?Object(n.jsx)("img",{src:t.imgUrl,alt:"",className:s?"border":""}):Object(n.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(n.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),Object(n.jsxs)(ge.a,{id:"simple-menu",anchorEl:s,open:Boolean(s),onClose:u,children:[Object(n.jsx)(Ne.a,{onClick:function(){u(),d.push("/")},children:"Home"}),(null===t||void 0===t?void 0:t._id)?Object(n.jsx)(Ne.a,{onClick:function(){u(),o(function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.logout();case 2:t({type:Z,payload:null}),t(ce());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d.push("/")},children:"Logout"}):Object(n.jsx)(Ne.a,{onClick:function(){u(),d.push("/login-signup")},children:"Login/Signup"})]})]})}var Ce=function(){var e=(Object(l.c)((function(e){return e.userReducer}))||{}).user,t=Object(a.useState)(!1),c=Object(b.a)(t,2),r=c[0],s=c[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{className:"flex ac jb",children:[Object(n.jsxs)(i.b,{className:"logo-container",to:"/",children:[Object(n.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(n.jsx)("p",{children:"Tallo"})]}),Object(n.jsxs)("div",{className:"nav-container flex",children:[Object(n.jsxs)("nav",{className:"flex jb",children:[(null===e||void 0===e?void 0:e._id)&&Object(n.jsx)("button",{className:"add-board-btn nav-item",onClick:function(){return s(!0)},children:Object(n.jsx)("svg",{width:"512",height:"512",viewBox:"0 0 448 448",children:Object(n.jsx)("g",{children:Object(n.jsx)("path",{d:"m408 184H272c-4.417969.0-8-3.582031-8-8V40c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8H40c-22.089844.0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969.0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40V272c0-4.417969 3.582031-8 8-8h136c22.089844.0 40-17.910156 40-40s-17.910156-40-40-40zm0 0",fill:"#fff","data-original":"#000000"})})})}),Object(n.jsx)(i.c,{className:"nav-item",to:"/",exact:!0,children:"Home"}),Object(n.jsx)(i.c,{className:"nav-item",to:"/board",children:"Board"})]}),Object(n.jsx)(ye,{user:e})]})]}),r&&Object(n.jsx)(xe,{setIsModalOpen:s})]})},ke=c.p+"static/media/icon-facebook.229c75a0.svg",_e=c.p+"static/media/icon-linkedin.416b1433.svg",we=c.p+"static/media/icon-twitter.1d5c6d5e.svg",Se=function(){return Object(n.jsx)("footer",{className:"main-grid",children:Object(n.jsxs)("section",{className:"footer-container",children:[Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{className:"logo-container",children:[Object(n.jsxs)("div",{className:"logo-div",children:[Object(n.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(n.jsx)("p",{children:"Tallo"})]}),Object(n.jsxs)("div",{className:"routes-container",children:[Object(n.jsx)(i.c,{className:"nav-item",to:"/",exact:!0,children:"Home"}),Object(n.jsx)(i.c,{className:"nav-item",to:"/board",children:"Board"})]})]}),Object(n.jsxs)("div",{className:"address",children:[Object(n.jsx)("p",{children:"987 Hillcrest Lane"}),Object(n.jsx)("p",{children:"Irvine, CA"}),Object(n.jsx)("p",{children:"California 92714"}),Object(n.jsx)("p",{children:"Call Us : 949-833-7432"})]})]}),Object(n.jsxs)("div",{className:"right-footer-container",children:[Object(n.jsxs)("div",{className:"social-container",children:[Object(n.jsx)("img",{src:ke,alt:""}),Object(n.jsx)("img",{src:_e,alt:""}),Object(n.jsx)("img",{src:we,alt:""})]}),Object(n.jsx)("p",{children:"Copyright 2020. All Rights Reserved"})]})]})})},De=c.p+"static/media/bg-pattern-home-3.4bc172f9.svg",Ie=function(){var e=Object(fe.g)();return Object(n.jsx)("div",{className:"get-started-section main-grid",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:De,alt:""}),Object(n.jsxs)("main",{children:[Object(n.jsx)("h2",{children:"Ready to get started?"}),Object(n.jsx)("button",{onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,e.push("/login-signup")},children:"Login / Signup"})]})]})})},Ee=c.p+"static/media/bg-pattern-home-1.270440fb.svg",Te=c.p+"static/media/bg-pattern-home-2.889d5d8c.svg",Re=function(){return Object(n.jsxs)("div",{className:"hero-section",children:[Object(n.jsx)("img",{className:"left-img",src:Ee,alt:""}),Object(n.jsxs)("div",{className:"hero-title",children:[Object(n.jsx)("h1",{children:"Manage the"}),Object(n.jsxs)("h1",{children:["best ",Object(n.jsx)("span",{children:"projects"})]})]}),Object(n.jsxs)("div",{className:"side-container",children:[Object(n.jsx)("div",{}),Object(n.jsx)("p",{children:"Tallo helps teams work more collaboratively and get more done. Tallo\u2019s boards, lists, and cards enable teams to organize and prioritize projects in a fun, flexible, and rewarding way."}),Object(n.jsx)("img",{className:"right-img",src:Te,alt:""})]})]})},Ae=c.p+"static/media/icon-cog.c5d2403f.svg",Le=c.p+"static/media/icon-chart.8de3d4d2.svg",Be=c.p+"static/media/icon-person.0a313a85.svg",ze=function(){return Object(n.jsx)("div",{className:"main-section main-grid",children:Object(n.jsxs)("section",{className:"main-container",children:[Object(n.jsx)("div",{className:"design-div"}),Object(n.jsx)("h2",{children:"Build & manage your projects any time, anywhere."}),Object(n.jsxs)("div",{className:"secondary-container",children:[Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:Be,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Work with any team"}),Object(n.jsx)("p",{children:"Whether it\u2019s for work, a side project or even the next family vacation, Tallo helps your team stay organized."})]})]}),Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:Ae,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Always In Sync"}),Object(n.jsx)("p",{children:"No matter where you are, Tallo stays in sync across all of your devices. Collaborate with your team anywhere."})]})]}),Object(n.jsxs)("div",{className:"item-container",children:[Object(n.jsx)("img",{src:Le,alt:""}),Object(n.jsxs)("div",{className:"item-txt",children:[Object(n.jsx)("h4",{children:"Information at a glance"}),Object(n.jsx)("p",{children:"Dive into the details by adding attachments, due dates, and more directly to Tallo cards."})]})]})]})]})})},Pe=c.p+"static/media/bg-pattern-home-4-about-3.aacd4e03.svg",Ue=c.p+"static/media/bg-pattern-home-5.95a2a621.svg",Me=function(){return Object(n.jsxs)("div",{className:"quotes-section main-grid",children:[Object(n.jsx)("img",{src:Pe,alt:"",className:"bgc-img-1"}),Object(n.jsx)("img",{src:Ue,alt:"",className:"bgc-img-2"}),Object(n.jsxs)("section",{className:"quotes-container",children:[Object(n.jsxs)("h1",{children:["Delivering real results for top companies. Some of our ",Object(n.jsx)("span",{children:"success stories."})]}),Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:"\u201cIt\u2019s easy to get your team up and running with Tallo. We\u2019ve collected all of the boards and tools your team needs to succeed in one handy resource.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Tal Harouvi"}),Object(n.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1607248716/users/tal_fofpvu.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:"\u201cIntegrate the apps your team already uses directly into your workflow. Power-Ups turn Tallo boards into living applications to meet your team's unique business needs.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Arie Moldawsky"}),Object(n.jsx)("p",{children:"Full Stack Developer at Tallo"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611138519/users/66681D8E-0B6F-4F34-9FED-CCF9DF3B1E69_mftdzu.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]}),Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("p",{children:" \u201cI've had absolutely nothing to do with this app untill they've reached me. I'm just an Israeli NBA Player and an ambassador of the app.\u201d"}),Object(n.jsxs)("div",{className:"item-avatar",children:[Object(n.jsx)("h4",{children:"Deni Avdija"}),Object(n.jsx)("p",{children:"NBA Player at Washington Wizards"}),Object(n.jsx)("img",{src:"http://res.cloudinary.com/ariecloud/image/upload/v1610031903/deni_whuhmk.jpg",alt:""}),Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"67",height:"56",children:Object(n.jsx)("path",{fill:"#2C6269",d:"M51.273 56c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C63.976 7.782 65.286 4.069 67 0H55.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C36.857 31.23 36 35.4 36 39.063c0 5.391 1.361 9.562 4.083 12.512C42.805 54.525 46.535 56 51.273 56zm-36 0c4.638 0 8.368-1.322 11.19-3.967 2.823-2.645 4.235-5.799 4.235-9.46 0-2.95-.429-5.494-1.286-7.63a197.251 197.251 0 01-2.495-6.562c-.806-2.237-1.21-4.933-1.21-8.087 0-2.746.454-5.798 1.361-9.155C27.976 7.782 29.286 4.069 31 0H19.356c-3.73 3.662-7.032 7.833-9.905 12.512-2.873 4.68-5.166 9.359-6.88 14.038C.857 31.23 0 35.4 0 39.063c0 5.391 1.361 9.562 4.083 12.512C6.805 54.525 10.535 56 15.273 56z"})})]})]})]})]})]})},Fe=function(e){Object(l.b)();return Object(a.useEffect)((function(){var e=document.getElementById("root");"linear-gradient(#006f83, #00aecc)"!==e.style.background&&(e.style.background="linear-gradient(#006f83, #00aecc)")}),[]),Object(n.jsxs)("main",{className:"home main-grid",children:[Object(n.jsx)(Re,{}),Object(n.jsx)(ze,{}),Object(n.jsx)(Me,{}),Object(n.jsx)(Ie,{}),Object(n.jsx)(Se,{})]})},He=c(254),Je=c(268),Ve=c(256),Xe=c(267),We=c(219),qe=c(253),Ge=c(251),Ze=c(83),Qe=c(85),Ke=c(252),Ye=c(84),$e=Object(Ge.a)((function(e){return{pink:{color:e.palette.getContrastText(Ze.a[500]),backgroundColor:Ze.a[500]},green:{color:"#fff",backgroundColor:Qe.a[500]},orange:{color:e.palette.getContrastText(Ke.a[500]),backgroundColor:Ke.a[500]},blue:{color:e.palette.getContrastText(Ye.a[500]),backgroundColor:Ye.a[500]}}})),et=function(e){var t=e.members,c=Object(l.c)((function(e){return e.boardReducer.board})).users,a=$e(),r=function(e){switch(+e){case 0:return a.blue;case 1:return a.green;case 2:return a.pink;case 3:return a.orange}};return c[0]&&Object(n.jsx)(qe.a,{max:4,children:null===t||void 0===t?void 0:t.map((function(e,t){var a=c.find((function(t){return t._id===e}))||{},s=a.fullname,i=a.imgUrl;return s&&Object(n.jsx)(We.a,{alt:s,src:i||"/",className:r(t)},e)}))})},tt=function(e){var t=e.labelToEdit,c=e.setLabelToEdit,r=e.colors,s=Object(l.b)(),i=Object(l.c)((function(e){return e.boardReducer.board.labels})),o=Object(a.useState)(Object(j.a)({},t)),d=Object(b.a)(o,2),u=d[0],h=d[1],O=function(e){var t=e.target,c=t.name,n=t.value;h(Object(j.a)(Object(j.a)({},u),{},Object(ve.a)({},c,n)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:"ass",onClick:function(){return c(null)},children:"Back"}),Object(n.jsxs)("span",{className:"title bold asc",children:[u._id?"Edit":"Add"," Label"]}),Object(n.jsx)("label",{htmlFor:"name",children:"Name"}),Object(n.jsx)("input",{id:"name",name:"name",type:"text",value:u.name,onChange:O}),Object(n.jsx)("label",{children:"Select Color"}),Object(n.jsx)("div",{className:"grid c4 g6",children:r.map((function(e){return Object(n.jsx)("input",{type:"button",name:"color",value:e,onClick:O,className:"pointer color fast ".concat(e).concat(u.color===e?" selected":"")},e)}))}),Object(n.jsxs)("div",{className:"flex jb",children:[Object(n.jsx)("button",{onClick:function(e){var n=Object(q.cloneDeep)(i);if(u._id){var a=i.findIndex((function(e){return e._id===t._id}));n.splice(a,1,u)}else u._id=B(),n.push(u);s(se({name:"labels",value:n})),c(null)},children:"Save"}),u._id&&Object(n.jsx)("button",{onClick:function(e){var n=JSON.parse(JSON.stringify(i)).filter((function(e){return e._id!==t._id}));s(se({name:"labels",value:n})),c(null)},children:"Delete"})]})]})},ct=function(e){var t=e.card,c=t.labels,r=t._id,s=e.togglePopover,i=Object(l.c)((function(e){return e.boardReducer.board.labels})),o=Object(a.useState)(""),d=Object(b.a)(o,2),u=d[0],j=d[1],h=Object(a.useState)(null),O=Object(b.a)(h,2),m=O[0],p=O[1],f=Object(l.b)(),v={_id:"",name:"",color:"red"};return Object(n.jsxs)("div",{className:"labels reusable flex col",children:[Object(n.jsx)("button",{className:"close-btn",onClick:s,children:"X"}),!m&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"title bold asc",children:"Labels"}),Object(n.jsx)("input",{type:"text",placeholder:"Search Labels",value:u,onChange:function(e){return j(e.target.value.toLowerCase())}}),Object(n.jsx)("div",{className:"list flex col",children:i.map((function(e){return e.name.toLowerCase().includes(u)&&Object(n.jsxs)("div",{className:"label fast flex jb pointer ".concat(e.color),children:[Object(n.jsxs)("div",{className:"f-110",onClick:function(){return t=e._id,void f(ae({cardId:r,name:"labels",value:c.some((function(e){return e===t}))?c.filter((function(e){return e!==t})):[].concat(Object(ue.a)(c),[t])}));var t},children:[e.name,c.some((function(t){return t===e._id}))&&Object(n.jsx)("span",{children:" V"})]}),Object(n.jsx)("button",{className:"fast",onClick:function(){return p(e)},children:"edit"})]},e._id)}))}),Object(n.jsx)("button",{onClick:function(){return p(v)},children:"Add Label"})]}),m&&Object(n.jsx)(tt,{labelToEdit:m,setLabelToEdit:p,colors:["red","orange","yellow","green","blue","purple","pink","black"]})]})},nt=function(e){var t=e.card,c=e.togglePopover,a=Object(l.b)(),r=Object(fe.g)().push;return Object(n.jsxs)("div",{className:"reusable delete-card-section flex col",children:[Object(n.jsx)("span",{className:"title asc",children:"Delete Card?"}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("button",{className:"modal-btn",onClick:function(){var e;a((e=t._id,function(t,c){var n=Object(q.cloneDeep)(c().boardReducer.board),a=le(n.lists,e),r=a.cardIdx;a.list.cards.splice(r,1),t(ie(n))})),r("/board")},children:"Delete"}),Object(n.jsx)("button",{className:"modal-btn",onClick:c,children:"Cancel"})]})]})},at=function(e){var t=e.togglePopover,c=e.anchorEl,a={Labels:ct,DeleteCard:nt};return Object(n.jsx)("div",{className:"card-menu flex col",children:Object.entries(a).map((function(e){var a=Object(b.a)(e,2),r=a[0],s=a[1];return Object(n.jsxs)("span",{className:"modal-btn fast",onClick:function(e){return t(e,{cmp:s,el:c})},children:[Object(n.jsx)("img",{src:""+"/".concat(r,".png"),alt:""}),r.split(/(?=[A-Z])/).join(" ")]},r)}))})},rt=c.p+"static/media/clock.22d4d1be.svg",st=function(e){var t=e.card,c=e.list,r=e.handleDrop,s=e.togglePopover,i=Object(l.c)((function(e){return e.boardReducer.board.labels})),o=t||{},d=o._id,u=o.title,h=o.attachments,O=o.members,m=o.desc,p=o.dueDate,f=o.labels,v=o.cardVideo,x=Object(a.useState)(null),g=Object(b.a)(x,2),N=g[0],y=g[1],C=Object(a.useRef)(null),k=Object(fe.g)(),_=Object(Xe.a)({collect:function(e){return{isDragging:!!e.isDragging()}},item:{type:"CARD"},begin:function(){var e=C.current.getBoundingClientRect(),n=e.height,a=e.width;return{type:"CARD",card:t,sourceCardId:d,sourceListId:c._id,height:n,width:a}}}),w=Object(b.a)(_,2),S=w[0].isDragging,D=w[1],I=Object(Je.a)({accept:"CARD",hover:function(e,t){var c=C.current.getBoundingClientRect(),n=c.top,a=c.height;y(n+a/2>t.getClientOffset().y?0:1)},collect:function(e){var t;return{cardOver:e.isOver()&&e.getItem().sourceCardId!==d,hoverHeight:null===(t=e.getItem())||void 0===t?void 0:t.height}},drop:function(e){r&&r(Object(j.a)(Object(j.a)({},e),{},{targetCardId:d,targetListId:c._id,posOffset:N}))}}),E=Object(b.a)(I,2),T=E[0],R=T.cardOver,A=T.hoverHeight,L=E[1];Object(l.b)();return Object(n.jsx)("div",{ref:L,className:"card-drop-container".concat(S?" hidden":""),children:Object(n.jsxs)("div",{ref:C,className:"rect-ref",children:[R&&!N&&Object(n.jsx)("div",{className:"placeholder top",style:{height:"".concat(A,"px")}}),Object(n.jsx)("div",{ref:D,className:"card-preview flex col fast m8 sbl",children:Object(n.jsxs)("div",{onClick:function(){return k.push("/board/modal/".concat(d))},className:"container f-110 flex col m8 sbl",children:[Object(n.jsx)("span",{className:"title",children:u}),Object(n.jsx)("button",{className:"menu-btn",onClick:function(e){return s(e,{cmp:at,cardId:d,el:C.current})},children:"\xb7\xb7\xb7"}),Object(n.jsx)("span",{className:"desc fw",children:m}),v&&!h[0]&&Object(n.jsx)("video",{controls:!0,children:Object(n.jsx)("source",{src:v})}),h[0]&&Object(n.jsx)("div",{className:"attachments",children:Object(n.jsx)("img",{src:h[0],alt:""})}),f[0]&&Object(n.jsx)("div",{className:"labels flex",children:i.map((function(e){return f.some((function(t){return t===e._id}))&&Object(n.jsx)("div",{className:"label ".concat(e.color)},e._id)}))}),(!!p||!!O[0])&&Object(n.jsxs)("div",{className:"flex jb",children:[!!p&&Object(n.jsxs)("div",{className:"due-date flex ac",children:[Object(n.jsx)("img",{src:rt,alt:""}),Object(n.jsx)("p",{children:new Date(p).toDateString()})]}),Object(n.jsx)("div",{className:"spacer"}),O[0]&&Object(n.jsx)(et,{members:O})]})]})}),R&&!!N&&Object(n.jsx)("div",{className:"placeholder bottom",style:{height:"".concat(A,"px")}})]})})},it=function(e){var t=e.listId,c=e.removeList,r=e.handleClose;return Object(a.useEffect)((function(){console.log(t)}),[]),Object(n.jsxs)("div",{className:"list-menu reusable flex col",children:[Object(n.jsx)("span",{className:"title asc",children:"Delete List?"}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("button",{className:"modal-btn",onClick:function(){return c(t)},children:"Delete"}),Object(n.jsx)("button",{className:"modal-btn",onClick:r,children:"Cancel"})]})]})},lt=c(265),ot=Object(Ge.a)((function(e){return{typography:{padding:e.spacing(2)}}})),dt=function(e){var t=e.removeList,c=e.listId,a=(ot(),r.a.useState(null)),s=Object(b.a)(a,2),i=s[0],l=s[1],o=function(){l(null)},d=Boolean(i),u=d?"simple-popover":void 0;return Object(n.jsxs)("div",{className:"popover-section",children:[Object(n.jsx)("button",{className:"delete-btn","aria-describedby":u,onClick:function(e){l(e.currentTarget)},children:"\xb7\xb7\xb7"}),Object(n.jsx)(lt.a,{id:u,open:d,anchorEl:i,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(n.jsx)(it,{listId:c,removeList:t,handleClose:o})})]})},ut=c(255),jt=function(e){var t=e.list,c=e.addCard,r=e.handleDrop,s=e.removeList,i=e.togglePopover,o=Object(a.useRef)(null),d=Object(l.b)(),u=t._id,h=t.cards,O=Object(He.a)({title:t.title}),m=Object(b.a)(O,2),p=m[0].title,f=m[1],v=Object(ut.a)(!1),x=Object(b.a)(v,2),g=x[0],N=x[1],y=Object(a.useState)(null),C=Object(b.a)(y,2),k=C[0],_=C[1],w=Object(a.useState)(null),S=Object(b.a)(w,2),D=S[0],I=S[1],E=Object(He.a)({title:"",activity:[],attachments:[],checklist:[],desc:"",dueDate:"",labels:[],members:[]}),T=Object(b.a)(E,2),R=T[0],A=T[1],L=Object(Xe.a)({collect:function(e){return{isDragging:!!e.isDragging()}},item:{type:"LIST"},begin:function(){var e=o.current.getBoundingClientRect(),c=e.height,n=e.width;return{type:"LIST",list:t,sourceListId:u,width:n,height:c}}}),B=Object(b.a)(L,2),z=B[0].isDragging,P=B[1],U=Object(Je.a)({accept:["CARD","LIST"],hover:function(e,t){var c=o.current.getBoundingClientRect(),n=c.left,a=c.width;_(n+a/2>t.getClientOffset().x?0:1)},collect:function(e){var t,c;return{hoverWidth:null===(t=e.getItem())||void 0===t?void 0:t.width,hoverHeight:null===(c=e.getItem())||void 0===c?void 0:c.height,listOver:e.isOver()&&"LIST"===e.getItemType()&&e.getItem().sourceListId!==u,cardOver:e.isOver()&&"CARD"===e.getItemType()&&(!h.length||1===h.length&&e.getItem().sourceCardId===h[0]._id)}},drop:function(e,t){("CARD"!==e.type||t.didDrop())&&"LIST"!==e.type&&h.length||r&&r(Object(j.a)(Object(j.a)({},e),{},{targetListId:u,posOffset:k}))}}),M=Object(b.a)(U,2),F=M[0],H=F.cardOver,J=F.listOver,V=F.hoverWidth,X=F.hoverHeight,W=M[1];return Object(n.jsx)("div",{ref:W,className:"list-drop-container".concat(z?" hidden":""),children:Object(n.jsxs)("div",{ref:o,className:"rect-ref flex",children:[J&&!k&&Object(n.jsx)("div",{className:"placeholder left",style:{width:"".concat(V,"px"),height:"".concat(X,"px")}}),Object(n.jsxs)("div",{ref:P,className:"list flex col",children:[Object(n.jsxs)("div",{className:"list-header flex jb pointer",children:[Object(n.jsx)("input",{name:"title",value:p,className:"list-title fast f-110",onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(e){return e.target.focus()},onFocus:function(e){return e.target.select()},onChange:function(e){var t=e.target,c=t.name,n=t.value;f(Object(ve.a)({},c,n)),clearTimeout(D),I(setTimeout((function(){d(function(e){var t=e.name,c=e.value,n=e.listId;return function(e,a){var r=Object(q.cloneDeep)(a().boardReducer.board);r.lists.find((function(e){return e._id===n}))[t]=c,e(ie(r))}}({name:c,value:n,listId:u}))}),500))},onKeyUp:function(e){var t=e.target,c=e.key;"Enter"!==c&&"Escape"!==c||t.blur()}}),Object(n.jsx)(dt,{className:"delete-btn",listId:u,removeList:s})]}),Object(n.jsxs)("div",{className:"cards flex col",children:[h.map((function(e){return Object(n.jsx)(st,{card:e,list:t,handleDrop:r,togglePopover:i},e._id)})),H&&Object(n.jsx)("div",{className:"placeholder-card",style:{height:"".concat(X,"px")}})]}),g&&Object(n.jsx)(Ve.a,{onClickAway:function(){return N(!1)},children:Object(n.jsxs)("form",{action:"",className:"add-card-form",onSubmit:function(e){e.preventDefault(),c(R,u),N(!1),A({title:"",activity:[],attachments:[],checklist:[],desc:"",dueDate:"",labels:[],members:[]})},children:[Object(n.jsx)("input",{autoFocus:!0,autoComplete:"off",placeholder:"Enter a title for this card...",type:"text",name:"title",value:R.title,onChange:function(e){var t=e.target,c=t.name,n=t.value;return A(Object(ve.a)({},c,n))}}),Object(n.jsxs)("div",{className:"add-card-btns flex jb",children:[Object(n.jsx)("button",{className:"add-card-btn",children:"Add Card"}),Object(n.jsx)("button",{onClick:N,className:"close-btn",children:"X"})]})]})}),!g&&Object(n.jsxs)("div",{className:"add-card",onClick:N,children:[Object(n.jsx)("span",{children:"+"})," Add another card"]})]}),J&&!!k&&Object(n.jsx)("div",{className:"placeholder right",style:{width:"".concat(V,"px"),height:"".concat(X,"px")}})]})})},bt=c(7),ht=c(257),Ot=c(258),mt=Object(bt.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(n.jsx)(ge.a,Object(j.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}));function pt(e){var t=e.boards,c=r.a.useState(null),a=Object(b.a)(c,2),s=a[0],i=a[1],o=Object(l.b)(),d=function(e){var t;o((t=e,function(){var e=Object(m.a)(O.a.mark((function e(c){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:n=e.sent,c({type:te.SET_BOARD,payload:n}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),u()},u=function(){i(null)};return Object(n.jsxs)("div",{className:"boards-select-section",children:[Object(n.jsxs)(ht.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){i(e.currentTarget)},className:"boards-select-btn",children:[Object(n.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 1a1 1 0 011-1h4a1 1 0 011 1v10a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm9-1a1 1 0 00-1 1v6a1 1 0 001 1h4a1 1 0 001-1V6a1 1 0 00-1-1h-4z",fill:"currentColor"})}),Object(n.jsx)("div",{children:"Boards \u25bc"})]}),Object(n.jsx)(mt,{id:"customized-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:u,children:null===t||void 0===t?void 0:t.map((function(e){return Object(n.jsx)(Ne.a,{onClick:function(){return d(e._id)},className:"boards-select-item",children:Object(n.jsx)(Ot.a,{primary:e.title})},e._id)}))})]})}var ft=function(){var e=r.a.useState(null),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Boolean(c),i=s?"simple-popover":void 0,l=function(){a(null)};return Object(n.jsxs)("div",{className:"color-picker-section",children:[Object(n.jsx)(ht.a,{className:"color-picker-btn","aria-describedby":i,variant:"contained",onClick:function(e){a(e.currentTarget)},children:Object(n.jsx)("svg",{width:"512",height:"512",viewBox:"0 0 384 384",children:Object(n.jsx)("path",{d:"M192 0C85.973 0 0 85.973 0 192s85.973 192 192 192a31.96 31.96 0 0 0 32-32c0-8.32-3.093-15.787-8.32-21.44-5.013-5.653-8-13.013-8-21.227a31.96 31.96 0 0 1 32-32h37.653c58.88 0 106.667-47.787 106.667-106.667C384 76.373 298.027 0 192 0zM74.667 192a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64zm64-85.333a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm106.666 0a31.96 31.96 0 0 1-32-32 31.96 31.96 0 1 1 64 0 31.96 31.96 0 0 1-32 32zm64 85.333a31.96 31.96 0 1 1 0-64 31.96 31.96 0 1 1 0 64z",fill:"#fff"})})}),Object(n.jsx)(lt.a,{id:i,open:s,anchorEl:c,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(n.jsxs)("div",{className:"colors-section",children:[Object(n.jsx)("h3",{children:"Change Background"}),Object(n.jsx)("div",{className:"colors-container",children:["red","orange","gold","green","gradient","purple","pink","gray"].map((function(e){return Object(n.jsx)("div",{className:"color-item ".concat(e),onClick:function(){return function(e){e="gradient"===e?"linear-gradient(#006f83, #00aecc)":e,document.getElementById("root").style.background=e,l()}(e)}},e)}))})]})})]})},vt=c(270),xt=function(e){var t=e.setAnchorEl,c=Object(l.b)(),r=Object(l.c)((function(e){return e.boardReducer.board.users}))||{},s=Object(l.c)((function(e){return e.userReducer.user._id}))||{},i=Object(a.useState)([]),o=Object(b.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)([]),h=Object(b.a)(j,2),p=h[0],f=h[1];Object(vt.a)((function(){f(d.filter((function(e){return!r.some((function(t){return t._id===e._id}))})))}),[d,r]);var v=function(e){var t=e.currentTarget.value,n=d.find((function(e){return e._id===t}));c(se({name:"users",value:[].concat(Object(ue.a)(r),[n])}))},x=function(e){var t=e.currentTarget.value;if(t!==s){var n=r.filter((function(e){return e._id!==t}));c(se({name:"users",value:n}))}};return Object(n.jsxs)("div",{className:"members reusable board-members flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:function(){return t(null)},children:"X"}),Object(n.jsx)("span",{className:"title bold asc",children:"Members"}),Object(n.jsx)("input",{type:"text",placeholder:"Search Members",onChange:function(e){var t,n=e.target.value;n?c((t=n,function(){var e=Object(m.a)(O.a.mark((function e(c,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.query(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())).then((function(e){return u(e)})):u([])}}),Object(n.jsx)("div",{className:"list flex col",children:r.map((function(e){var t=e._id,c=e.fullname;return Object(n.jsxs)("button",{className:"flex ac jb".concat(t===s?" logged-user":""),value:t,onClick:x,children:[Object(n.jsx)("span",{children:c}),Object(n.jsx)("span",{children:"X"})]},t)}))}),p[0]&&Object(n.jsxs)("div",{className:"list flex col",children:[Object(n.jsx)("span",{className:"bold",children:"Users"}),p.map((function(e){var t=e._id,c=e.fullname;return Object(n.jsxs)("button",{className:"flex ac jb",value:t,onClick:v,children:[Object(n.jsx)("span",{children:c}),Object(n.jsx)("span",{children:"+"})]},t)}))]})]})};function gt(e){var t=e.users,c=Object(a.useState)(null),r=Object(b.a)(c,2),s=r[0],i=r[1],l=Boolean(s),o=l?"simple-popover":void 0;return Object(n.jsxs)("div",{className:"board-members-section",children:[Object(n.jsxs)(ht.a,{className:"board-members-btn","aria-describedby":o,variant:"contained",onClick:function(e){return i(e.currentTarget)},children:[Object(n.jsx)("img",{src:"/User.png",alt:""}),Object(n.jsx)("div",{children:"Board Members \u25bc"})]}),Object(n.jsx)(lt.a,{id:o,open:l,anchorEl:s,onClose:function(){return i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(n.jsx)(xt,{users:t,setAnchorEl:i})})]})}var Nt=function(e){var t=e.boards,c=e.title,a=e.users;return Object(n.jsxs)("div",{className:"board-header-section",children:[Object(n.jsx)(pt,{boards:t}),Object(n.jsx)("h2",{children:c}),Object(n.jsx)(gt,{users:a}),Object(n.jsx)(ft,{})]})},yt=c(259),Ct=function(e){var t=e.anchorEl,c=e.pos,a=e.children,r=e.togglePopover;return t&&Object(n.jsx)(Ve.a,{onClickAway:r,children:Object(n.jsx)(yt.a,{onClick:function(e){return e.stopPropagation()},open:!!t,anchorEl:t,style:{zIndex:100},placement:c,children:a})})},kt=function(){var e=Object(l.b)(),t=Object(fe.g)(),c=Object(l.c)((function(e){return e.boardReducer}))||{},r=c.board,s=c.list,i=c.card,o=r||{},d=o.lists,u=o.title,j=o._id,h=o.users,O=((Object(l.c)((function(e){return e.userReducer}))||{}).user||{}).boards,m=Object(a.useState)(!1),p=Object(b.a)(m,2),f=p[0],v=p[1],x=Object(a.useState)(null),g=Object(b.a)(x,2),N=g[0],y=g[1],C=Object(a.useState)(null),k=Object(b.a)(C,2),_=k[0],w=k[1],S=Object(He.a)({title:"",cards:[]}),D=Object(b.a)(S,2),I=D[0],T=D[1];Object(a.useEffect)((function(){return O[0]?E&&(W(U,j),V(F,(function(t){e({type:te.SET_BOARD,payload:t})}))):t.replace("/create-modal"),function(){W(M,j),X(F)}}),[]);var R=function(t,c){e(function(e,t){return function(c,n){var a=Object(q.cloneDeep)(n().boardReducer.board);e._id=B(),e=oe(e,"card");var r=a.lists.findIndex((function(e){return e._id===t}));a.lists[r].cards.push(e),c(ie(a))}}(t,c))},A=function(t){return e(function(e){return function(t,c){var n=Object(q.cloneDeep)(c().boardReducer.board),a=n.lists.findIndex((function(t){return t._id===e}));n.lists.splice(a,1),t(ie(n))}}(t))},L=Object(Je.a)({accept:"LIST",collect:function(e){return{isOver:!!e.isOver()}}}),z=Object(b.a)(L,2),P=(z[0].isOver,z[1]),H=function(t){return e(re(t))},J=function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.cmp,a=c.cardId,r=c.el;t.stopPropagation(),a&&e(ne(a)),n&&w((function(){return n})),y(r||(t.target!==N&&n?t.target:null))};return Object(n.jsxs)("main",{ref:P,className:"board",children:[Object(n.jsx)(Nt,{title:u,users:h,boards:O}),r&&Object(n.jsxs)("section",{className:"container flex",children:[null===d||void 0===d?void 0:d.map((function(e){return Object(n.jsx)(jt,{list:e,removeList:A,addCard:R,handleDrop:H,togglePopover:J},e._id)})),f&&Object(n.jsx)(Ve.a,{onClickAway:function(){return v(!1)},children:Object(n.jsxs)("form",{action:"",className:"add-list-form",onSubmit:function(t){t.preventDefault(),e(function(e){return function(t,c){var n=Object(q.cloneDeep)(c().boardReducer.board);e._id=B(),n.lists.push(e),t(ie(n))}}(I)),v(!1),T({title:"",cards:[]})},children:[Object(n.jsx)("input",{placeholder:"Enter a title for this list...",type:"text",name:"title",value:I.title,onChange:function(e){var t=e.target,c=t.name,n=t.value;return T(Object(ve.a)({},c,n))}}),Object(n.jsxs)("div",{className:"add-list-btns",children:[Object(n.jsx)("button",{className:"add-list-btn",children:"Add list"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),v(!1)},className:"close-btn",children:"X"})]})]})}),!f&&Object(n.jsx)("div",{className:"add-list-container",onClick:function(){return v(!0)},children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"+"})," Add another list"]})})]}),Object(n.jsx)(Ct,{anchorEl:N,togglePopover:J,pos:"right-start",children:_&&Object(n.jsx)(_,{anchorEl:N,togglePopover:J,list:s,card:i})})]})},_t=c(135),wt=c.n(_t),St=c(263),Dt=c(266),It=c(260),Et=c(86),Tt=c(264);function Rt(e){return Object(n.jsxs)(Tt.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(Tt.a,{width:"100%",mr:1,children:Object(n.jsx)(It.a,Object(j.a)({variant:"determinate"},e))}),Object(n.jsx)(Tt.a,{minWidth:35,children:Object(n.jsx)(Et.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var At=Object(Ge.a)({root:{width:"100%"}});function Lt(e){var t=e.progress,c=At();return Object(n.jsx)("div",{className:c.root,children:Object(n.jsx)(Rt,{value:t})})}var Bt=function(e){var t=e.checklist,c=e.cardChecklists,a=e.cardId,r=Object(l.b)(),s=Object(ut.a)(!1),i=Object(b.a)(s,2),o=i[0],d=i[1],u=Object(He.a)({_id:B(),desc:"",isChecked:!1}),j=Object(b.a)(u,2),h=j[0],p=j[1],f=function(){var e=Object(m.a)(O.a.mark((function e(){var n,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t)),s=JSON.parse(JSON.stringify(c)),console.log(n),i=s.findIndex((function(e){return e._id===n._id})),console.log(i),s[i].items.push(h),e.next=8,r(ae({name:"checklist",value:Object(ue.a)(s),cardId:a}));case 8:p({_id:B(),desc:"",isChecked:!1}),d();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"checklists-section",children:[Object(n.jsxs)("div",{className:"list-header",children:[Object(n.jsxs)("div",{className:"header-main",children:[Object(n.jsx)("img",{src:"/CheckList.png",alt:""}),Object(n.jsx)("h3",{children:t.title})]}),Object(n.jsx)("button",{onClick:function(){var e=JSON.parse(JSON.stringify(c)),n=e.findIndex((function(e){return e._id===t._id}));e.splice(n,1),r(ae({name:"checklist",value:Object(ue.a)(e),cardId:a}))},children:"Delete"})]}),Object(n.jsx)(Lt,{progress:function(){var e=+t.items.filter((function(e){return!0===e.isChecked})).length/+t.items.length*100;return isNaN(e)&&(e=0),e}()}),t.items.map((function(e,s){return Object(n.jsxs)("div",{className:"checklist-item-container",children:[Object(n.jsxs)("div",{className:"checklist-item-main",children:[Object(n.jsx)(Dt.a,{color:"primary",inputProps:{"aria-label":"checkbox"},checked:e.isChecked,onChange:function(){return function(e){var n=JSON.parse(JSON.stringify(t)),s=JSON.parse(JSON.stringify(c));n.items[e].isChecked=!n.items[e].isChecked;var i=s.findIndex((function(e){return e._id===n._id}));s[i]=n,r(ae({name:"checklist",value:Object(ue.a)(s),cardId:a}))}(s)}}),Object(n.jsx)("p",{children:e.desc})]}),Object(n.jsx)("button",{onClick:function(){return function(e){var n=JSON.parse(JSON.stringify(t)),s=JSON.parse(JSON.stringify(c));n.items.splice(e,1);var i=s.findIndex((function(e){return e._id===n._id}));s[i]=n,r(ae({name:"checklist",value:Object(ue.a)(s),cardId:a}))}(s)},children:"X"})]},s)})),!o&&Object(n.jsx)("button",{onClick:d,children:"Add an item"}),o&&Object(n.jsxs)("div",{className:"add-item-container",children:[Object(n.jsx)("input",{autoFocus:!0,type:"text",name:"desc",value:h.desc,onChange:function(e){var t=e.target,c=t.name,n=t.value;return p(Object(ve.a)({},c,n))},id:""}),Object(n.jsxs)("div",{className:"btns-container",children:[Object(n.jsx)("button",{onClick:f,children:"Add"}),Object(n.jsx)("button",{onClick:d,children:"X"})]})]})]})},zt=function(e){var t=e.card,c=t.members,r=t._id,s=e.togglePopover,i=Object(l.c)((function(e){return e.boardReducer.board})).users,o=Object(a.useState)(""),d=Object(b.a)(o,2),u=d[0],j=d[1],h=Object(a.useState)(null),O=Object(b.a)(h,2),m=O[0],p=O[1],f=Object(l.b)();Object(a.useEffect)((function(){p(i.filter((function(e){return c.every((function(t){return t!==e._id}))&&(e.fullname.includes(u)||e.email.includes(u))})))}),[u,c]);var v=function(e){var t=e.target.value;f(ae({name:"members",value:[].concat(Object(ue.a)(c),[t]),cardId:r}))},x=function(e){var t=e.target.value,n=c.filter((function(e){return e!==t}));f(ae({name:"members",value:n,cardId:r}))};return Object(n.jsxs)("div",{className:"members reusable flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:s,children:"X"}),Object(n.jsx)("span",{className:"title bold asc",children:"Members"}),Object(n.jsx)("input",{type:"text",placeholder:"Search Members",value:u,onChange:function(e){var t=e.target.value;return j(t)}}),Object(n.jsx)("div",{className:"list flex col",children:null===i||void 0===i?void 0:i.map((function(e){var t=e._id,a=e.fullname;return c.some((function(e){return e===t}))&&Object(n.jsxs)("button",{className:"flex jb",value:t,onClick:x,children:[Object(n.jsx)("span",{children:a}),Object(n.jsx)("span",{children:"X"})]},t)}))}),u&&Object(n.jsxs)("div",{className:"list flex col",children:[Object(n.jsx)("span",{className:"bold",children:"Board Members"}),m.map((function(e){var t=e._id,c=e.fullname;return Object(n.jsxs)("button",{className:"flex ac jb",value:t,onClick:v,children:[Object(n.jsx)("span",{children:c}),Object(n.jsx)("span",{children:"+"})]},t)}))]})]})},Pt=function(e){var t=e.card,c=t._id,r=t.checklist,s=e.togglePopover,i=Object(a.useState)({_id:B(),title:"",items:[]}),o=Object(b.a)(i,2),d=o[0],u=o[1],h=Object(l.b)();return Object(n.jsxs)("div",{className:"checklist-section reusable flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:s,children:"X"}),Object(n.jsx)("p",{className:"title bold asc",children:"Add a Check List"}),Object(n.jsxs)("form",{action:"",className:"flex col",onSubmit:function(e){e.preventDefault(),h(ae({name:"checklist",value:[].concat(Object(ue.a)(r),[d]),cardId:c}))},children:[Object(n.jsx)("label",{htmlFor:"checklist-title",children:"Title:"}),Object(n.jsx)("input",{autoFocus:!0,id:"checklist-title",value:d.title,onChange:function(e){var t=e.target.value,c=e.target.name;u(Object(j.a)(Object(j.a)({},d),{},Object(ve.a)({},c,t))),console.log(d)},name:"title",type:"text",placeholder:"Insert a title..."}),Object(n.jsx)("button",{children:"Add"})]})]})},Ut=function(e){var t=e.card,c=t.dueDate,r=t._id,s=e.togglePopover,i=Object(a.useState)(""),o=Object(b.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(Date.now()),h=Object(b.a)(j,2),O=h[0],m=h[1],p=Object(l.b)();return Object(n.jsxs)("div",{className:"due-date-section reusable flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:s,children:"X"}),Object(n.jsx)("p",{className:"title bold asc",children:"Change Due Date"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),p(ae({name:"dueDate",value:O,cardId:r})),s(e)},className:"due-date-form flex col",children:[Object(n.jsx)("input",{type:"date",value:d||function e(){if(e){var t=new Date(c).getDate(),n=new Date(c).getMonth()+1,a=new Date(c).getFullYear();return"".concat(n).length<2&&(n="0"+n),a+"-"+n+"-"+t}return""}(),onChange:function(e){var t=e.target.value,c=new Date(t).getTime();u(t),m(c)},name:"dueDate",id:""}),Object(n.jsx)("button",{children:"Save"})]})]})},Mt=function(){var e=Object(m.a)(O.a.mark((function e(t){var c,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"iuzstnbj","ariecloud",c="https://api.cloudinary.com/v1_1/".concat("ariecloud","/image/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","iuzstnbj"),e.prev=6,e.next=9,f.a.post(c,n);case 9:return a=e.sent,e.abrupt("return",a.data);case 13:e.prev=13,e.t0=e.catch(6),console.log("ERROR:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(m.a)(O.a.mark((function e(t){var c,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("iuzstnbj","ariecloud",c="https://api.cloudinary.com/v1_1/".concat("ariecloud","/video/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","iuzstnbj"),e.prev=6,!S()){e.next=10;break}return e.next=10,D();case 10:return e.next=12,f.a.post(c,n);case 12:return a=e.sent,e.abrupt("return",a.data);case 16:e.prev=16,e.t0=e.catch(6),console.log("ERROR:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),Ht=function(e){var t=e.card,c=t.attachments,r=t._id,s=e.togglePopover,i=Object(a.useState)(""),o=Object(b.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(!1),h=Object(b.a)(j,2),p=h[0],f=h[1],v=Object(l.b)(),x=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,Mt(t);case 3:c=e.sent,console.log(c.url),f(!0),u(c.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"attachment-section reusable",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:s,children:"X"}),Object(n.jsx)("p",{children:"Attachments"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),d&&v(ae({name:"attachments",value:[].concat(Object(ue.a)(c),[d]),cardId:r}))},className:"attachment-form",children:[Object(n.jsxs)("label",{htmlFor:"imgUrl",children:[Object(n.jsx)("p",{children:"Upload an attachment:"}),Object(n.jsxs)("div",{className:"label-container",children:[Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),p&&Object(n.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(n.jsxs)("g",{fill:"#00df76",children:[Object(n.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(n.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(n.jsxs)("g",{fill:"#fff",children:[Object(n.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(n.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:x,id:"imgUrl"}),Object(n.jsx)("button",{children:"Save"})]})]})},Jt=function(e){var t=e.card,c=e.list,r=e.togglePopover,s=Object(l.b)(),i=Object(l.c)((function(e){return e.boardReducer.board})).lists,o=Object(a.useState)(c),d=Object(b.a)(o,2),u=d[0],j=d[1],h=Object(He.a)({type:"CARD",posOffset:null,sourceListId:c._id,sourceCardId:t._id,targetListId:c._id,targetCardId:t._id}),O=Object(b.a)(h,2),m=O[0],p=O[1],f=function(e){var t=e.target,c=t.name,n=t.value;return p(Object(ve.a)({},c,n))};Object(vt.a)((function(){j(i.find((function(e){return e._id===m.targetListId}))),p({targetCardId:m.targetListId!==c._id?"":t._id})}),[m.targetListId]);return Object(n.jsxs)("div",{className:"move-card reusable flex col",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:r,children:"X"}),Object(n.jsx)("span",{className:"title bold asc",children:"Move Card"}),Object(n.jsx)("span",{className:"title bold",children:"To List:"}),Object(n.jsx)("select",{name:"targetListId",value:m.targetListId,onChange:f,children:i.map((function(e){return Object(n.jsx)("option",{value:e._id,children:"".concat(e.title," ").concat(c._id===e._id?"(Current)":"")},e._id)}))}),Object(n.jsx)("span",{className:"title bold",children:"Position:"}),Object(n.jsxs)("select",{name:"targetCardId",value:m.targetCardId,onChange:f,children:[u.cards.map((function(e,c){return Object(n.jsx)("option",{value:e._id,children:"".concat(c+1," ").concat(t._id===e._id?"(Current)":"")},e._id)})),c._id!==m.targetListId&&Object(n.jsx)("option",{value:"",children:u.cards.length+1})]}),Object(n.jsx)("button",{onClick:function(e){m.targetCardId!==m.sourceCardId&&(s(re(m)),r(e))},children:"Move"})]})},Vt=function(e){var t=e.card._id,c=e.togglePopover,r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),u=Object(b.a)(d,2),j=u[0],h=u[1],p=Object(l.b)(),f=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,Ft(t);case 3:c=e.sent,console.log(c.url),h(!0),o(c.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"attachment-section reusable",children:[Object(n.jsx)("button",{className:"close-btn pos-tr",onClick:c,children:"X"}),Object(n.jsx)("p",{children:"Card Video"}),Object(n.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),i&&p(ae({name:"cardVideo",value:i,cardId:t}))},className:"attachment-form",children:[Object(n.jsxs)("label",{htmlFor:"imgUrl",children:[Object(n.jsx)("p",{children:"Upload a video:"}),Object(n.jsxs)("div",{className:"label-container",children:[Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""}),j&&Object(n.jsxs)("svg",{className:"uploaded-svg",width:"512",height:"512",viewBox:"0 0 512.063 512.063",children:[Object(n.jsxs)("g",{fill:"#00df76",children:[Object(n.jsx)("ellipse",{cx:"256.032",cy:"256.032",rx:"255.949",ry:"256.032"}),Object(n.jsx)("path",{d:"M256.032 0l-.347.004v512.055l.347.004c141.357 0 255.949-114.629 255.949-256.032S397.389 0 256.032 0z"})]}),Object(n.jsxs)("g",{fill:"#fff",children:[Object(n.jsx)("path",{d:"M111.326 261.118L214.85 364.642c4.515 4.515 11.836 4.515 16.351 0l169.957-169.957c4.515-4.515 4.515-11.836 0-16.351l-30.935-30.935c-4.515-4.515-11.836-4.515-16.351 0L230.255 271.014c-4.515 4.515-11.836 4.515-16.351 0l-55.397-55.397c-4.426-4.426-11.571-4.526-16.119-.226l-30.83 29.149c-4.732 4.475-4.837 11.973-.232 16.578z"}),Object(n.jsx)("path",{d:"m370.223 147.398c-4.515-4.515-11.836-4.515-16.351 0l-98.187 98.187v94.573l145.473-145.473c4.515-4.515 4.515-11.836 0-16.352z"})]})]})]})]}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:f,id:"imgUrl"}),Object(n.jsx)("button",{children:"Save"})]})]})},Xt=function(e){var t=e.togglePopover,c={AddToCard:{Members:zt,Labels:ct,CheckList:Pt,DueDate:Ut,Attachment:Ht,AddVideo:Vt},Actions:{MoveCard:Jt,DeleteCard:nt}};return Object(n.jsx)("div",{className:"side-bar flex col",children:Object.entries(c).map((function(e){var c=Object(b.a)(e,2),a=c[0],r=c[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"title",children:a.split(/(?=[A-Z])/).join(" ")}),Object(n.jsx)("div",{className:"buttons",children:Object.entries(r).map((function(e){var c=Object(b.a)(e,2),a=c[0],r=c[1];return Object(n.jsxs)("span",{className:"modal-btn fast",onClick:function(e){return t(e,r)},children:[Object(n.jsx)("img",{src:""+"/".concat(a,".png"),alt:""}),a.split(/(?=[A-Z])/).join(" ")]},a)}))})]},a)}))})},Wt=c(269),qt=function(){var e=Object(fe.g)(),t=Object(l.b)(),c=Object(l.c)((function(e){return e.boardReducer}))||{},r=c.board,s=c.list,i=c.card,o=(r||{}).users,d=i||{},u=d.activity,j=d.attachments,h=d.members,O=d.labels,m=d.checklist,p=d.cardVideo,f=Object(He.a)({title:"",desc:""}),v=Object(b.a)(f,2),x=v[0],g=x.title,N=x.desc,y=v[1],C=Object(fe.h)().cardId,k=Object(a.useState)(null),_=Object(b.a)(k,2),w=_[0],S=_[1],D=Object(a.useState)(null),I=Object(b.a)(D,2),E=I[0],T=I[1],R=Object(a.useState)(null),A=Object(b.a)(R,2),L=A[0],B=A[1],z=null===u||void 0===u?void 0:u.slice(0,5),P=null===j||void 0===j?void 0:j.slice(0,3);Object(a.useEffect)((function(){return t(ne(C))}),[r,C]),Object(vt.a)((function(){return y({title:i.title,desc:i.desc})}),[null===i||void 0===i?void 0:i._id]);var U=function(){e.push("/board"),t((function(e){e({type:te.SET_LIST,payload:null}),e({type:te.SET_CARD,payload:null})}))};Object(Wt.a)("Escape",U);var M=function(e){var c=e.target,n=c.name,a=c.value;y(Object(ve.a)({},n,a)),clearTimeout(L),B(setTimeout((function(){t(ae({name:n,value:a,cardId:C}))}),500))},F=function(t){var c;t.stopPropagation();var n=s.cards.findIndex((function(e){return e._id===C})),a=n>-1&&(null===(c=s.cards[n+ +t.target.value])||void 0===c?void 0:c._id);a&&e.push(a)},H=function(e,t){e.stopPropagation(),T(t?function(){return t}:null),S(e.currentTarget!==w&&t?e.currentTarget:null)};return Object(n.jsxs)("div",{className:"modal-screen flex col ac js",onClick:U,children:[Object(n.jsxs)("nav",{className:"card-nav flex jb fw",children:[Object(n.jsx)("button",{value:-1,onClick:F,children:"Previous Card"}),Object(n.jsx)("button",{value:1,onClick:F,children:"Next Card"})]}),Object(n.jsx)("div",{className:"modal-section",onClick:H,children:Object(n.jsx)("div",{className:"container",children:i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-header fw flex col as",children:[Object(n.jsxs)("div",{className:"title-header flex fw jb",children:[Object(n.jsxs)("div",{className:"flex ac",children:[Object(n.jsx)("img",{src:"/Card.png",alt:""}),Object(n.jsx)("input",{className:"card-title",autoComplete:"off",name:"title",value:g,onFocus:function(e){return e.target.select()},onChange:M})]}),Object(n.jsx)("button",{className:"exit-btn fast flex ac jc",onClick:U,children:"X"})]}),Object(n.jsxs)("p",{className:"modal-subtitle fw",children:["in list ",Object(n.jsx)("span",{children:s.title})]})]}),Object(n.jsxs)("div",{className:"content sbl",children:[h[0]&&Object(n.jsx)("div",{className:"members-container",children:Object(n.jsx)(et,{className:"card-avatars",members:h})}),O[0]&&Object(n.jsxs)("div",{className:"labels-section",children:[Object(n.jsx)("h3",{children:"Labels"}),Object(n.jsxs)("div",{className:"labels-container flex wfc",onClick:function(e){return H(e,ct)},children:[r.labels.map((function(e){var t=e._id,c=e.color,a=e.name;return O.some((function(e){return e===t}))&&Object(n.jsx)("div",{className:"label ".concat(c," pointer fast"),children:a},t)})),Object(n.jsx)("button",{className:"modal-btn",children:"+"})]})]}),p&&Object(n.jsxs)("div",{className:"video-section",children:[Object(n.jsxs)("div",{className:"video-header",children:[Object(n.jsx)("img",{src:"/AddVideo.png",alt:""}),Object(n.jsx)("h3",{children:"Card Video"})]}),Object(n.jsx)("video",{className:"card-video",controls:!0,children:Object(n.jsx)("source",{src:p})})]}),Object(n.jsxs)("div",{className:"desc-container",children:[Object(n.jsxs)("div",{className:"desc-header",children:[Object(n.jsx)("img",{src:"/Description.png",alt:""}),Object(n.jsx)("h3",{children:"Description"})]}),Object(n.jsx)(St.a,{id:"outlined-multiline-static",multiline:!0,placeholder:"Add a more detailed description...",rows:4,variant:"outlined",name:"desc",value:N,onChange:M})]}),m[0]&&Object(n.jsx)("div",{className:"checklists-container",children:m.map((function(e,t){return Object(n.jsx)(Bt,{cardChecklists:m,checklist:e,cardId:C},t)}))}),j[0]&&Object(n.jsxs)("div",{className:"attachments-container",children:[Object(n.jsxs)("div",{className:"attachments-header",children:[Object(n.jsx)("img",{src:"/Attachment.png",alt:""}),Object(n.jsx)("h3",{children:"Attachments"})]}),Object(n.jsx)("div",{className:"attach-container flex",children:P.map((function(e,t){return Object(n.jsx)("img",{src:e,alt:""},t)}))})]}),Object(n.jsxs)("div",{className:"activity-section",children:[Object(n.jsxs)("div",{className:"activity-header",children:[Object(n.jsx)("img",{src:"/Activity.png",alt:""}),Object(n.jsx)("h3",{children:"Activity"})]}),Object(n.jsx)("ul",{className:"activity-container",children:z.map((function(e){var t=e.activity,c=e.createdBy,a=e.createdAt,r=o.find((function(e){return e._id===c}))||{},s=r.fullname,i=r.imgUrl;return s&&Object(n.jsx)("li",{children:Object(n.jsx)("div",{className:"activity-main",children:Object(n.jsxs)("div",{className:"activity-secondary",children:[Object(n.jsx)(We.a,{alt:s,src:i||"/"}),Object(n.jsxs)("div",{className:"activity-txt",children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{className:"bold",children:[s," "]}),t]}),Object(n.jsx)("p",{children:wt()(a).fromNow()})]})]})})},a)}))})]})]}),Object(n.jsx)(Xt,{togglePopover:H})]})})}),Object(n.jsx)(Ct,{anchorEl:w,togglePopover:H,pos:"bottom-start",children:E&&Object(n.jsx)(E,{anchorEl:w,togglePopover:H,list:s,card:i})})]})},Gt=c(261),Zt=function(){var e=Object(Gt.a)((function(e){return{item:e.getItem(),pos:e.getSourceClientOffset()}})),t=e.item,c=e.pos,a=t||{},r=a.type,s=a.list,i=a.card,l=a.width,o=a.height;return t&&!!c&&Object(n.jsxs)("div",{className:"drag-layer ".concat(r),style:{top:"".concat(c.y,"px"),left:"".concat(c.x,"px"),width:"".concat(l,"px"),height:"".concat(o,"px")},children:["LIST"===r&&Object(n.jsx)(jt,{list:s}),"CARD"===r&&Object(n.jsx)(st,{card:i})]})},Qt=function(){var e=Object(l.b)(),t=Object(fe.g)(),c=Object(a.useRef)(),r=Object(a.useState)({email:"",password:""}),s=Object(b.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)({fullname:"",email:"",password:"",imgUrl:"",boards:[]}),u=Object(b.a)(d,2),h=u[0],p=u[1];Object(a.useEffect)((function(){return document.addEventListener("keyup",f),document.getElementById("root").addEventListener("mouseup",f),function(){document.removeEventListener("keyup",f),document.getElementById("root").removeEventListener("mouseup",f)}}),[]);var f=function(e){var n=e.key,a=e.target,r=e.type;"keyup"===r&&"Escape"===n?t.goBack():"mouseup"!==r||c.current.contains(a)||t.goBack()},v=function(e,t){var c=e.target.name,n=e.target.value;"login"===t?o(Object(j.a)(Object(j.a)({},i),{},Object(ve.a)({},c,n))):p(Object(j.a)(Object(j.a)({},h),{},Object(ve.a)({},c,n)))},x=function(){var c=Object(m.a)(O.a.mark((function c(n){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.next=3,e($(i));case 3:t.push("/board");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),g=function(){var c=Object(m.a)(O.a.mark((function c(n){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.next=3,e(ee(h));case 3:t.push("/board");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(t);case 2:c=e.sent,console.log(c.url),p(Object(j.a)(Object(j.a)({},h),{},{imgUrl:c.url}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"login-signup-section",children:Object(n.jsxs)("div",{className:"login-signup-container",ref:c,children:[Object(n.jsx)("button",{className:"exit-btn",onClick:t.goBack,children:"X"}),Object(n.jsx)("h2",{children:"Login"}),Object(n.jsxs)("form",{action:"",className:"login-form",onSubmit:x,children:[Object(n.jsx)("label",{htmlFor:"",children:"Email:"}),Object(n.jsx)("input",{type:"text",name:"email",value:i.email,onChange:function(e){return v(e,"login")},id:""}),Object(n.jsx)("label",{htmlFor:"",children:"Password:"}),Object(n.jsx)("input",{type:"text",name:"password",value:i.password,onChange:function(e){return v(e,"login")},id:""}),Object(n.jsx)("button",{children:"Login"})]}),Object(n.jsx)("div",{className:"forms-seperator",children:"-Or-"}),Object(n.jsx)("h2",{children:"Signup"}),Object(n.jsxs)("form",{action:"",className:"signup-form",onSubmit:g,children:[Object(n.jsx)("label",{htmlFor:"",children:"Full Name:"}),Object(n.jsx)("input",{type:"text",name:"fullname",value:h.fullname,onChange:function(e){return v(e,"signup")},id:""}),Object(n.jsx)("label",{htmlFor:"",children:"Email:"}),Object(n.jsx)("input",{type:"text",name:"email",value:h.email,onChange:function(e){return v(e,"signup")},id:""}),Object(n.jsx)("label",{htmlFor:"",children:"Password:"}),Object(n.jsx)("input",{type:"text",name:"password",value:h.password,onChange:function(e){return v(e,"signup")},id:""}),Object(n.jsxs)("label",{htmlFor:"imgUrl",children:[Object(n.jsx)("p",{children:"Upload a Profile Picture:"}),Object(n.jsx)("img",{src:"https://res.cloudinary.com/ariecloud/image/upload/v1611571897/tallo/PinClipart.com_button-clipart_321890_rkdp7l.png",alt:""})]}),Object(n.jsx)("input",{className:"upload-img",type:"file",name:"imgUrl",onChange:N,id:"imgUrl"}),Object(n.jsx)("button",{children:"Signup"})]})]})})},Kt=(c(213),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userReducer}))||{},c=t.user,r=t.isLoading,s=function(e){return(null===c||void 0===c?void 0:c._id)?Object(n.jsx)(fe.b,Object(j.a)({},e)):Object(n.jsx)(fe.a,{to:"/"})};return Object(a.useEffect)((function(){e(function(){var e=Object(m.a)(O.a.mark((function e(t){var c,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.tokenLogin();case 3:c=e.sent,n=c.user,a=c.board,t({type:Z,payload:n}),t({type:te.SET_BOARD,payload:a}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,t({type:K,payload:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,10,12,15]])})));return function(t){return e.apply(this,arguments)}}()),H(),window.onbeforeunload=function(){J()}}),[]),r?Object(n.jsx)("div",{className:"fp flex ac jc",children:Object(n.jsxs)("div",{className:"sk-chase",children:[Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"}),Object(n.jsx)("div",{className:"sk-chase-dot"})]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ce,{}),Object(n.jsxs)(fe.d,{children:[Object(n.jsx)(s,{path:"/board",component:kt}),Object(n.jsx)(fe.b,{path:"/",component:Fe})]}),Object(n.jsx)(s,{path:"/board/modal/:cardId",component:qt}),Object(n.jsx)(fe.b,{path:"/login-signup",component:Qt}),Object(n.jsx)(Zt,{})]})});Object(s.render)(Object(n.jsx)(a.StrictMode,{children:Object(n.jsx)(l.a,{store:he,children:Object(n.jsx)(Oe.a,{backend:pe.a,children:Object(n.jsx)(i.a,{children:Object(n.jsx)(Kt,{})})})})}),document.getElementById("root")),navigator.serviceWorker.register("./serviceWorker.js")}},[[214,1,2]]]);
//# sourceMappingURL=main.23da3356.chunk.js.map